<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Rohan Alexander</title>
<link>https://rohanalexander.com/blog.html</link>
<atom:link href="https://rohanalexander.com/blog.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.4.552</generator>
<lastBuildDate>Fri, 17 Dec 2021 05:00:00 GMT</lastBuildDate>
<item>
  <title>What data science can learn from the James Webb Space Telescope</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-12-17-james_webb_space_telescope/james_webb_space_telescope.html</link>
  <description><![CDATA[ 




<p>The slides are <a href="https://rohanalexander.com/pdfs/smile_talk.pdf">here</a>.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Hi, my name is Rohan Alexander. I’m an assistant professor at the University of Toronto in the Faculty of Information and the Department of Statistical Sciences. I’m also the assistant director of CANSSI Ontario, and I’d encourage you all to go to our website - https://canssiontario.utoronto.ca/ - and apply for funding from our programs.</p>
<p>I’d like to thank Josh and Kartheik for the opportunity to talk today.</p>
<p>I know that it’s an auspicious time for all you astronomy-inclined folks with the imminent launch of the James Webb Space Telescope, so I appreciate you coming to listen to me. Hopefully in a year, I can come back and you can tell me about all the wonderful datasets James Webb has provided all of you.</p>
<p>Today I’d like to talk a little about what I see data science as, and why I think astronomers are so good at it; and then talk about a few examples of my work, focusing more on sharing my process and what I learnt, rather than the work itself; and finally close with some open questions.</p>
<p>None of what I’m about to say is cannon, this talk is more my way of trying to work out what I think, so I’d appreciate your reactions and comments.</p>
</section>
<section id="what-is-data-science" class="level2">
<h2 class="anchored" data-anchor-id="what-is-data-science">What is data science?</h2>
<p>When we think about data science, I think that we all have different things in mind.</p>
<p>The only thing that is certain, is that there is no agreed definition of data science, but a lot of people have tried. For instance, <span class="citation" data-cites="hads">Wickham and Grolemund (2016)</span> say it is ‘…an exciting discipline that allows you to turn raw data into understanding, insight, and knowledge.’ Similarly, <span class="citation" data-cites="leekpeng">Leek and Peng (2020)</span> say it is ‘…the process of formulating a quantitative question that can be answered with data, collecting and cleaning the data, analyzing the data, and communicating the answer to the question to a relevant audience.’ <span class="citation" data-cites="nick">Benjamin S. Baumer and Horton (2021)</span> say it is ‘…the science of extracting meaningful information from data.’ And <span class="citation" data-cites="tiffany">Timbers, Campbell, and Lee (2021)</span> say they define ‘data science as the process of generating insight from data through reproducible and auditable processes’.</p>
<p><span class="citation" data-cites="Craiu2019Hiring">Craiu (2019)</span>, who is one of Josh’s bosses and also one of mine, argues that the lack of certainty as to what data science is, might not matter because ‘…who can really say what makes someone a poet or a scientist?’ He goes on to broadly say that a data scientist is ‘…someone with a data driven research agenda, who adheres to or aspires to using a principled implementation of statistical methods and uses efficient computation skills.’</p>
<p>Regardless of who is right, alongside those specific, more-technical, definitions, there is value in having a simple definition, even if we lose a bit of specificity. For instance, probability is often informally defined as ‘counting things’ <span class="citation" data-cites="richard">(McElreath 2020, 10)</span>. In a similar informal sense, data science can be defined as something like: ‘humans measuring stuff, typically related to other humans, and using sophisticated averaging to explain and predict’.</p>
<p>That may sound a touch cute, but Francis Edgeworth, the nineteenth century statistician and economist considered statistics to be the science ‘of those Means which are presented by social phenomena,’ so it is in good company <span class="citation" data-cites="edgeworth1885methods">(Edgeworth 1885)</span>.</p>
<p>In any case, one feature of this definition is that it does not treat data as <em>terra nullius</em>, or nobody’s land. Statisticians tend to see data as the result of some process that we can never know, but that we try to use data to come to understand. Many statisticians care deeply about data and measurement, but there are many cases in statistics where data kind of just appear; they belong to no one. But that is never actually the case.</p>
<p>Data must be gathered, cleaned, and prepared, and these decisions matter. Every dataset is <em>sui generis</em>, or a class by itself, and so when you come to know one dataset well, you just know one dataset, not all datasets.</p>
<p>In my experience, this fact is ingrained into astronomers. My guess is that it’s because most of you get into astronomy being the actual data collectors - that is, you loved looking at the sky through telescopes when you were a kid. Eventually you got more sophisticated and layered on physics and math, but I think that astronomers make such great data scientists because you’re fundamentally lashed to the data collection process.</p>
<p>More broadly, I think that much of data science focuses on the ‘science,’ but it is important that we also focus on ‘data.’ And that is another feature of my cutesy definition of data science which I posited before. A lot of data scientists are generalists, who are interested in a broad range of problems. Often, the thing that unites these is the need to gather, clean, and prepare messy data. And often it is the specifics of those data that require the most time, that update most often, and that are worthy of our most full attention. Unfortunately, it’s not typically the type of thing that is professionally rewarded.</p>
</section>
<section id="astronomical-origins" class="level2">
<h2 class="anchored" data-anchor-id="astronomical-origins">Astronomical origins</h2>
<p>At this point I’d like to look back, for a moment, at the origins of data science. As astronomers, I know that you all are used to looking back in time. My PhD is in economic history, so I’m also very keen on looking back in time also, although usually only decades or centuries, rather than the billions of years that you all tend to look back! Anyway, if we look at the history of statistics, we very quickly find ourselves in astronomy.</p>
<p>For instance, speaking about the development of least squares in the 1700s, <span class="citation" data-cites="stigler">Stigler (1986, 16)</span> describes how it was associated with the following problems:</p>
<ol type="1">
<li>Determining the motion of the moon in a way that takes into account minor perturbations.</li>
<li>Reconciling the non periodic motion of Jupiter and Saturn.</li>
<li>Determining the shape of the earth.</li>
</ol>
<p>The very stuff of astronomy!</p>
<p>In the work associated with least squares, we see statistical names that we still speak of today including Euler, Gauss, and Laplace. But it may be of interest to you all as astronomers that <span class="citation" data-cites="stigler">Stigler (1986)</span> describes the papers at the time as ‘a story of statistical success (by a major astronomer, Mayer (Figure @ref(fig:iceberg)) and statistical failure (by a leading mathematician, Euler)’!</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2021-12-17-james_webb_space_telescope/stigler.png" class="img-fluid figure-img" style="width:85.0%"></p>
<figcaption>Example of Mayer from Stigler, 1986</figcaption>
</figure>
</div>
</div>
</div>
<p>The fundamental issue at the time with least squares was that of hesitancy to combine different observations. These days, we just take this for granted and do it without thinking much about it. But if one steps back for a moment, one quickly sees why this was such a mental leap. And again, here we have astronomers, as you are so immersed in your data, as bringing a unique perspective.</p>
<p>Comparing Euler and Mayer, <span class="citation" data-cites="stigler">Stigler (1986, 28)</span> says:</p>
<blockquote class="blockquote">
<p>The two men brought absolutely first-rate intellects to bear on their respective problems, and both problems were in astronomy. Yet there was an essential conceptual difference in their approaches that made it impossible for Euler’…. The differences were these: Mayer approached his problem as a practical astronomer, dealing with observations that he himself had made under what he considered essentially similar observational conditions, despite the differing astronomical conditions. Euler, on the other hand, approached his problem as a mathematician, dealing with observations made by others over several centuries under unknown observational conditions. Mayer could regard errors, or variation, in his observations as random’… and he could take the step of aggregating equations without fear that bad observations would contaminate good ones’…. Euler could not bring himself to accept such a view with respect to his data. He ‘… [took] the mathematician’s view that errors actually increase with aggregation rather than taking the statistician’s view [and here Stigler should actually also add astronomers] that random errors tend to cancel one another.’…</p>
</blockquote>
<p>On the other hand, <span class="citation" data-cites="stigler">Stigler (1986)</span> criticism of Mayer is that ‘…He made no attempt to describe his calculation as a method that would be useful in other problems. He did not do what Legendre did, namely, abstract the method from the application where it first appeared.’ Namely astronomy!</p>
<p>In any case, by around 1800, least squares became more widely appreciated. But, oddly, not in my own area of interest—namely social sciences, where we would take another 70 or 80 years, a veritable lifetime, before we widely applied it.</p>
<p>Before we return to the present, I’d be remiss if I didn’t mention one final historical astronomer, Quetelet. In this talk I’m arguing that it is your foundation in data gathering that makes you such great data scientists. And this is going to be an example where that feature held back social sciences.</p>
<p>Quetelet was a Belgium astronomer, but he also had social sciences interests and made foundational contributions in terms of the ‘average man’ and ‘fitting distributions’. I’d like to touch on a circumstance where his being deeply involved in the data was a handicap.</p>
<p><span class="citation" data-cites="stigler">Stigler (1986, 163)</span> describes how by 1826 Quetelet had become involved in the statistical bureau, and they were planning for a census. As some of you who have taken courses with my wife, Monica Alexander, know, the foundation of demography is births, deaths, and migration. Quetelet argued that births and deaths had been taken care of, but migration had not. He proposed a ratio estimator based on counts in specific geographies—think provinces—which could then be scaled up to the whole country. There was various criticism of this plan, mostly focused on how one could possibly pick appropriate geographies, and Stigler describes how Quetelet then changed his mind.</p>
<p><span class="citation" data-cites="stigler">Stigler (1986)</span> continues</p>
<blockquote class="blockquote">
<p>He [Quetelet] was acutely aware of the infinite number of factors that could affect the quantities he wished to measure, and he lacked the information that could tell him which were indeed important. He, like the generation of social scientists to follow, was reluctant to group together as homogenous, data that he had reason to believe was not’…. In some respects, Quetelet’s view of his social data was like Euler’s view of astronomical data. To be aware of a myriad of potentially important factors, without knowing which are truly important and how their effect may be felt, is often to fear the worst’…. He [Quetelet] could not bring himself to treat large regions as homogeneous, [and so] he could not think of a single rate as applying to a large area’… Astronomers had overcome a similar case of intellectual cold feet in the previous century by comparing observations with fact, by comparing prediction with realization. Success had bolstered confidence in the combination of observations. Social scientists were to require massive empirical data gathered under a wide variety of circumstances before they gained the astronomers’ confidence that the quantities they measured were of sufficient stability that the uncertainty of the estimates was itself susceptible to measurement.</p>
</blockquote>
</section>
<section id="on-balance-between-data-and-science" class="level2">
<h2 class="anchored" data-anchor-id="on-balance-between-data-and-science">On balance between data and science</h2>
<p>Returning to the present, as I’ve been saying, one of the reasons that I think astronomers make such great data scientists, is that you are used to knowing that your data is a biased sample that comes to you via instruments—in your case telescopes.</p>
<p>We always use various instruments to turn the world into data. In astronomy, the development of better telescopes, and eventually satellites and probes, and soon, hopefully, James Webb, enabled new understanding of other worlds. For instance, returning to history again for just a moment, Stigler (1986, p.25) describes how knowledge of that second problem that I mentioned—Jupiter/Saturn non-periodic motion—was ‘due to improved accuracy of astronomical observations’. Returning to the present day, we similarly have new instruments for turning our own world into data being developed each day.</p>
<p>In the social sciences, a census was once a generational-defining event. And it’s appropriate that this talk happens near the Christmas holidays given the role that the census played in that event. But now we have regular surveys, transactions data available by the second, and almost all interactions on the internet become data of some kind. The development of such instruments has enabled exciting new stories to be told with data.</p>
<p>The telescope that we all hope is launching soon—James Webb—has a unique feature, compared with its predecessor in popular imagination - Hubble. And that feature is that it will be sent to L2. My understanding, and please correct me after the talk if I’m wrong, is that the defining feature of L2 is that the Earth’s gravity and the Sun’s gravity and the moon to a certain extent, effectively hold objects there without much in the way of rocket thrust being needed. So the side of the telescope with the instrumentation that needs to be kept cold and dark, can more easily always be kept cold and dark. And so, in this case James Webb can stay there for about 10 years, focusing on answering big questions, without much in the way of needing to worry about pointing the wrong way. We should all be so lucky!</p>
<p>In a way, for James Webb, being at L2 is all about getting the balance right so that it can focus on answering big questions. And I think for the past ten years or so, we’ve had the balance wrong in data science. There has been too much focus on the ‘science’ bit, without sufficient focus on the ‘data’ bit. And we all know what happens when you go too close to the sun.</p>
<p>It is not just the ‘science’ bit that is hard, it is the ‘data’ bit as well. I feel that Foster would have known this, and we are just reinventing things. For instance, researchers went back and examined one of the most popular text datasets in computer science, and they found that around 30 per cent of the data were inappropriately duplicated <span class="citation" data-cites="bandy2021addressing">(Bandy and Vincent 2021)</span>. There is an entire field—linguistics—that specialises in these types of datasets, and inappropriate use of data is one of the dangers of any one field being hegemonic. The strength of data science is that it brings together folks with a variety of backgrounds and training to the task of learning about some dataset. It is not constrained by what was done in the past. But this means that we must go out of our way to show respect for those who do not come from our own tradition, but who are nonetheless as similarly interested in a dataset, or in a question, as we are.</p>
<p>I’m picking on CS a little here, but my home of the social sciences is just as bad and researchers like me are trying to refocus us on data a little more than we have been in the past.</p>
<p>So what are some examples of things that I work on?</p>
</section>
<section id="examples-of-my-work" class="level2">
<h2 class="anchored" data-anchor-id="examples-of-my-work">Examples of my work</h2>
<p>I mentioned that my PhD is in economic history, but I spent most of my PhD trying to deal with big text datasets. And when I say ‘dealing’ I mean using R to clean and tidy them, which was the work of years. My supervisors—John Tang, Tim Hatton, Martine Mariotti, and Zach Ward—gave me the freedom to do what I wanted, with regular weekly meetings. It’s not a topic that traditionally would have been appropriate in economics, and I’m grateful they gave me the space because traditional economics is not for me, but data science is.</p>
<section id="effect-of-elections-and-changed-prime-ministers" class="level3">
<h3 class="anchored" data-anchor-id="effect-of-elections-and-changed-prime-ministers">Effect of elections and changed prime ministers</h3>
<p>One result of this work was the paper—<em>The Increased Effect of Elections and Changing Prime Ministers on Topics Discussed in the Australian Federal Parliament between 1901 and 2018</em>—<span class="citation" data-cites="alexander2021increased">(Alexander and Alexander 2021)</span> which was co-authored with my wife Monica. In Australia there is a written record of what is said in parliament called Hansard. We grabbed the text of everything said between 1901 and 2018 and then built a statistical model to look at whether the topics of discussion changed when there was an election or when there was a change in the prime minister. We found that changes in prime minister tend to be associated with topic changes even when the party in power does not change; and the effect of elections has been increasing since the 1980s, regardless of whether the election results in a change of prime minister.</p>
<section id="lesson-always-start-small-and-then-iterate." class="level4">
<h4 class="anchored" data-anchor-id="lesson-always-start-small-and-then-iterate.">Lesson: Always start small and then iterate.</h4>
<p>I came to that paper hopelessly naive and lost. I didn’t know that text analysis, and natural language processing more generally, was something that was incredibly popular. I didn’t have the skills that I needed, and really all I had was an all-consuming interest in the broad area—I didn’t even have a question. The dataset has over a billion words in it. So the main lesson for me was in dealing with big datasets. And here I don’t mean in terms of technical skills, I mean in terms of approach. These days when I have students and they want to use the Hansard or any large dataset, I start by insisting that they just use one month of data. After they analyse and write that up, then they can go to a year, and then they can continue to build up slowly.</p>
<p>The reason that I know now that’s the best way to go is that I somehow convinced myself that I couldn’t possibly answer any interesting questions until I had a century worth of data. And because I was teaching myself everything as I went, it took me more than a year to just get the data into a usable format.</p>
<p>If you take nothing away from this talk, please I beg you take this away: the most important, vital thing, is that you create a minimal viable product of any research. And that minimal viable product needs to be something that you can finish within a week. If you can’t do that then adjust the scope and the question until you can. Then you achieve that MVP and then you start to scale up to the question that you’re interested in, which is hopefully something that can be published.</p>
</section>
</section>
<section id="explaining-why-text-is-sexist-or-racist-with-gpt-3" class="level3">
<h3 class="anchored" data-anchor-id="explaining-why-text-is-sexist-or-racist-with-gpt-3">Explaining Why Text is Sexist or Racist with GPT-3</h3>
<p>As anyone who has cared for young children knows, the response to almost any statement can be ‘why?’. One can quickly find oneself trying to explain the finer details of photosynthesis to a 3-year-old, and the extent to which one struggles with this tends to put in sharp relief the extent of one’s knowledge. Large language models such as OpenAI’s GPT-3 can generate text that is indistinguishable from that created by humans. They can also classify whether some given text is sexist or racist <span class="citation" data-cites="chiu2021detecting">(Chiu and Alexander 2021)</span>.</p>
<p>In the paper—<em>Explaining Why Text is Sexist or Racist with GPT-3</em>—which was co-authored by Ke-Li Chiu we assess the extent to which GPT-3 can generate explanations for why a given text is sexist or racist. We prompt GPT-3 to generate explanations in a question-and-answer manner: ‘Is the following statement in quotes sexist? Answer yes or no and explain why.’ We then assess the adequacy of the explanations generated by GPT-3. We are interested in firstly, the extent to which it correctly classifies whether the statements are sexist/racist; and secondly, the reasonableness of the explanation that accompanies that classification.</p>
<p>We find that GPT-3 does poorly in the open-ended approach. When we add more structure to guide its responses the model performs better. But even when it correctly classifies racism or sexism, the accompanying explanations are often inaccurate. At times they even contradict the classification. On a technical level, we find a clear relationship between the hyper-parameter temperature and the number of correctly matched attributes, with substantial decreases as temperature increases.</p>
<section id="lesson-always-teach" class="level4">
<h4 class="anchored" data-anchor-id="lesson-always-teach">Lesson: Always teach</h4>
<p>I just used a bunch of terms there and you probably assume that I know what they mean. In writing the paper that preceded this one, I actually fooled myself into thinking that I knew what they meant. It wasn’t until I tried to teach the material that I realised that I didn’t have a clue what was going on.</p>
<p>A lot of my colleagues try to get out of teaching, and I can understand why they would think that, but I’ve found that having to teach has made me a better researcher. For one reason, I found that it’s too easy to fool yourself into thinking you know something until you have to explain it. And I also kind of think that a lot of us in academia need pressure, constraints, and a weekly structure, in order to do our best work.</p>
</section>
</section>
<section id="reproducibility-of-covid-19-pre-prints" class="level3">
<h3 class="anchored" data-anchor-id="reproducibility-of-covid-19-pre-prints">Reproducibility of COVID-19 pre-prints</h3>
<p>The final paper that I’d like to touch on is—<em>Reproducibility of COVID-19 pre-prints</em>—by Annie Collins and me <span class="citation" data-cites="collins2021reproducibility">(Collins and Alexander 2021)</span>. In that paper we are interested in the reproducibility of COVID-19 research. We create a dataset of pre-prints posted to arXiv, bioRxiv, medRxiv, and SocArXiv between 28 January 2020 and 30 June 2021 that are related to COVID-19. We extract the text from these pre-prints and parse them looking for keyword markers signalling the availability of the data and code underpinning the pre-print. For the pre-prints that are in our sample, we are unable to find markers of either open data or open code for 75 per cent of those on arXiv, 67 per cent of those on bioRxiv, 79 per cent of those on medRxiv, and 85 per cent of those on SocArXiv. We conclude that there may be value in having authors categorize the degree of openness of their pre-print as part of the pre-print submissions process, and more broadly, there is a need to better integrate open science training into a wide range of fields.</p>
<section id="lesson-you-always-need-the-code-more-than-once" class="level4">
<h4 class="anchored" data-anchor-id="lesson-you-always-need-the-code-more-than-once">Lesson: You always need the code more than once</h4>
<p>I went into that paper thinking that I’d just quickly write some code to download some files and then be done with it. But then Annie wanted to broaden the scope of the paper, so the code needed to be re-written because she couldn’t understand what I’d done. And then we had to re-run the code because we wanted to update everything before she presented the paper. And that meant re-writing things. And then we to re-run the code before we submitted the paper. Again that meant re-writing things.</p>
<p>We eventually just turned the code into an R package, which is on CRAN as <a href="https://rohanalexander.github.io/heapsofpapers/">heapsofpapers</a> <span class="citation" data-cites="heaps">(Alexander and Mahfouz 2021)</span>. Which is what I should have done from the start. The lesson that I learnt from this paper is that regardless of how certain you are that you’ll never use some particular code again, you’ll always need it.</p>
</section>
</section>
</section>
<section id="open-questions" class="level2">
<h2 class="anchored" data-anchor-id="open-questions">Open questions</h2>
<section id="how-do-we-write-unit-tests-for-data-science" class="level3">
<h3 class="anchored" data-anchor-id="how-do-we-write-unit-tests-for-data-science">How do we write unit tests for data science?</h3>
<p>One thing that working with real computer scientists has taught me is the importance of unit tests. Basically this just means writing down the small checks that we do in our heads all the time. Like if we have a column that purports to the year, then it’s unlikely that it’s a character, and it’s unlikely that it’s an integer larger than 2500, and it’s unlikely that it’s a negative integer. We know all this, but writing unit tests has us write this all down.</p>
<p>In this case it’s obvious what the unit test looks like. But more generally, we often have little idea what our results should look like if they’re running well. The approach that I’ve taken is to add simulation—so we simulate reasonable results, write unit tests based on that, and then bring the real data to bear and adjust as necessary. But I really think that we need extensive work in this area because the current state-of-the-art is lacking.</p>
</section>
<section id="what-happened-to-the-revolution" class="level3">
<h3 class="anchored" data-anchor-id="what-happened-to-the-revolution">What happened to the revolution?</h3>
<p>I don’t understand what happened to the promised machine learning revolution in social sciences. Specifically, I’m yet to see any convincing application of machine learning methods that are designed for prediction to a social sciences problem where what we care about is understanding. I would like to either see evidence of them or a definitive thesis about why this can’t happen. The current situation is untenable where folks, especially those in fields that have been historically female, are made to feel inferior even though their results are no worse.</p>
</section>
<section id="how-do-we-think-about-power" class="level3">
<h3 class="anchored" data-anchor-id="how-do-we-think-about-power">How do we think about power?</h3>
<p>As someone who learnt statistics from economists, but now is partly in a statistics department, I do think that everyone should learn statistics from statisticians. This isn’t anything against economists, but the conversations that I have in the statistics department about what statistical methods are and how they should be used are very different to those that I’ve had in other departments.</p>
<p>I think the problem is that people outside statistics, treat statistics as a recipe in which they follow various steps and then out comes a cake. With regard to ‘power’—it turns out that there were a bunch of instructions that no one bothered to check—they turned the oven on to some temperature without checking that it was 180C, and that’s fine because whatever mess came out was accepted because the people evaluating the cake didn’t know that they needed to check the temperature had been appropriately set. (I’m ditching this analogy right now).</p>
<p>As you know, the issue with power is related to the broader discussion about p-values, which basically no one is taught properly, because it would require changing an awful lot about how we teach statistics i.e.&nbsp;moving away from the recipe approach.</p>
<p>And so, my specific issue is that people think that statistics is a recipe to be followed. They think that because that’s how they are trained especially in social sciences like political science and economics, and that’s what is rewarded. But that’s not what these methods are. Instead, statistics is a collection of different instruments that let us look at our data in a certain way. I think that we need a revolution here, not a metaphorical tucking in of one’s shirt.</p>
</section>
</section>
<section id="thank-you" class="level2">
<h2 class="anchored" data-anchor-id="thank-you">Thank you</h2>
<p>Right. So I think I’ll leave it there. Thank you again to Josh and Kartheik for inviting me.</p>
<p>Let’s cross our fingers for a successful launch of James Webb next week and its subsequent deployment. I do hope that you invite me back when you start getting data from it to analyse!</p>
<p>This is also my last talk for this year, so I’ll take this opportunity to say Merry Christmas, Happy Holidays, and I hope everyone has a wonderful start to 2022.</p>
<p>I’d be happy to take any questions.</p>
</section>


<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Thanks very much to Josh for the invitation to speak, and to Monica Alexander for her suggestions and comments.</p>



</div></section><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-alexander2021increased" class="csl-entry">
Alexander, Rohan, and Monica Alexander. 2021. <span>“The Increased Effect of Elections and Changing Prime Ministers on Topics Discussed in the Australian Federal Parliament Between 1901 and 2018.”</span> <a href="https://arxiv.org/abs/2111.09299">https://arxiv.org/abs/2111.09299</a>.
</div>
<div id="ref-heaps" class="csl-entry">
Alexander, Rohan, and A Mahfouz. 2021. <em>Heapsofpapers: Easily Download Heaps of PDF and CSV Files</em>. <a href="https://CRAN.R-project.org/package=heapsofpapers">https://CRAN.R-project.org/package=heapsofpapers</a>.
</div>
<div id="ref-bandy2021addressing" class="csl-entry">
Bandy, Jack, and Nicholas Vincent. 2021. <span>“Addressing "Documentation Debt" in Machine Learning Research: A Retrospective Datasheet for BookCorpus.”</span> <a href="https://arxiv.org/abs/2105.05241">https://arxiv.org/abs/2105.05241</a>.
</div>
<div id="ref-nick" class="csl-entry">
Benjamin S. Baumer, Daniel T. Kaplan, and Nicholas J. Horton. 2021. <em>Modern Data Science with r</em>. 2nd ed. <a href="https://mdsr-book.github.io/mdsr2e/">https://mdsr-book.github.io/mdsr2e/</a>.
</div>
<div id="ref-chiu2021detecting" class="csl-entry">
Chiu, Ke-Li, and Rohan Alexander. 2021. <span>“Detecting Hate Speech with GPT-3.”</span> <a href="https://arxiv.org/abs/2103.12407">https://arxiv.org/abs/2103.12407</a>.
</div>
<div id="ref-collins2021reproducibility" class="csl-entry">
Collins, Annie, and Rohan Alexander. 2021. <span>“Reproducibility of COVID-19 Pre-Prints.”</span> <a href="https://arxiv.org/abs/2107.10724">https://arxiv.org/abs/2107.10724</a>.
</div>
<div id="ref-Craiu2019Hiring" class="csl-entry">
Craiu, Radu V. 2019. <span>“The Hiring Gambit: In Search of the Twofer Data Scientist.”</span> <em>Harvard Data Science Review</em> 1 (1). <a href="https://doi.org/10.1162/99608f92.440445cb">https://doi.org/10.1162/99608f92.440445cb</a>.
</div>
<div id="ref-edgeworth1885methods" class="csl-entry">
Edgeworth, Francis Ysidro. 1885. <span>“Methods of Statistics.”</span> <em>Journal of the Statistical Society of London</em>, 181–217.
</div>
<div id="ref-leekpeng" class="csl-entry">
Leek, Jeff, and Roger D. Peng. 2020. <em>Advanced Data Science 2020</em>. <a href="http://jtleek.com/ads2020/index.html">http://jtleek.com/ads2020/index.html</a>.
</div>
<div id="ref-richard" class="csl-entry">
McElreath, Richard. 2020. <em>Statistical Rethinking: A Bayesian Course with Examples in r and Stan</em>. 2nd ed.
</div>
<div id="ref-stigler" class="csl-entry">
Stigler, Stephen. 1986. <em>The History of Statistics</em>. Harvard University Press.
</div>
<div id="ref-tiffany" class="csl-entry">
Timbers, Tiffany-Anne, Trevor Campbell, and Melissa Lee. 2021. <em>Data Science: A First Introduction</em>. <a href="https://ubc-dsci.github.io/introduction-to-datascience/">https://ubc-dsci.github.io/introduction-to-datascience/</a>.
</div>
<div id="ref-hads" class="csl-entry">
Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for Data Science</em>. O’Reilly. <a href="https://r4ds.had.co.nz">https://r4ds.had.co.nz</a>.
</div>
</div></section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-12-17-james_webb_space_telescope/james_webb_space_telescope.html</guid>
  <pubDate>Fri, 17 Dec 2021 05:00:00 GMT</pubDate>
</item>
<item>
  <title>On the privilege of turning our world into data</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-12-16-on_the_privilege_of_turning_our_world_into_data/on_the_privilege_of_turning_our_world_into_data.html</link>
  <description><![CDATA[ 




<p>The slides are <a href="https://rohanalexander.com/pdfs/young_irish_statisticians.pdf">here</a>.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Hi, my name is Rohan Alexander. I’m an assistant professor at the University of Toronto in the Faculty of Information and the Department of Statistical Sciences. I’m also one of the co-leads of the University of Toronto Data Sciences Institute Thematic Program in Reproducibility. We’d love to develop ties with other institutions who are similarly interested in these issues, so please do get in touch.</p>
<p>I’d like to thank Niamh Cahill for the opportunity to talk today. I always feel a little awed by everything that she’s able to accomplish and all her publications. In preparing for this talk I was looking for imminent historical Irish statisticians, and of course arguably one of the most imminent present-day Irish statisticians is Adrian Raftery, who had a PhD student, Leontine Alkema, who was Niamh’s postdoc advisor. And Niamh certainly lives up to her pedigree.</p>
<p>I must admit that I feel a bit of a fraud talking today at this Young Irish Statisticians group. I’m no longer young, I’m certainly not Irish, and I’m not a statistician. But I do adore your country, and I spend a lot of time with statisticians, and I was once young. That said, I do hope that in a few years you can invite me back and we can do this in person, perhaps at the middle-aged Irish-fans pseudo-statisticians’ group!</p>
<p>Today I’d like to talk a little about the origins of data science, especially mentioning the contributions of some Irish statisticians. I will turn to what I see data science as, and what I see are some of our roles and responsibilities as quantitatively interested folks. I will then go through various applications including: understanding the effect of elections; hate speech detection; and the reproducibility of COVID-19 pre-prints. While going through those applications I will focus more on what I learned and how I developed, rather than specific results. I will close with a few open issues.</p>
<p>None of what I’m about to say is cannon, this talk is more my way of trying to work out what I think, so I’d appreciate your reactions and comments.</p>
</section>
<section id="what-is-data-science" class="level2">
<h2 class="anchored" data-anchor-id="what-is-data-science">What is data science?</h2>
<p>When we think about data science, I think that we all have different things in mind.</p>
<p>The only thing that is certain, is that there is no agreed definition of data science, but a lot of people have tried. For instance, <span class="citation" data-cites="hads">Wickham and Grolemund (2016)</span> say it is ‘…an exciting discipline that allows you to turn raw data into understanding, insight, and knowledge.’ Similarly, <span class="citation" data-cites="leekpeng">Leek and Peng (2020)</span> say it is ‘…the process of formulating a quantitative question that can be answered with data, collecting and cleaning the data, analyzing the data, and communicating the answer to the question to a relevant audience.’ <span class="citation" data-cites="nick">Benjamin S. Baumer and Horton (2021)</span> say it is ‘…the science of extracting meaningful information from data.’ And <span class="citation" data-cites="tiffany">Timbers, Campbell, and Lee (2021)</span> say they define ‘data science as the process of generating insight from data through reproducible and auditable processes’.</p>
<p><span class="citation" data-cites="Craiu2019Hiring">Craiu (2019)</span> argues that the lack of certainty as to what data science is, might not matter because ‘…who can really say what makes someone a poet or a scientist?’ He goes on to broadly say that a data scientist is ‘…someone with a data driven research agenda, who adheres to or aspires to using a principled implementation of statistical methods and uses efficient computation skills.’</p>
<p>Regardless of who is right, alongside those specific, more-technical, definitions, there is value in having a simple definition, even if we lose a bit of specificity. For instance, probability is often informally defined as ‘counting things’ <span class="citation" data-cites="richard">(McElreath 2020, 10)</span>. In a similar informal sense, data science can be defined as something like: ‘humans measuring stuff, typically related to other humans, and using sophisticated averaging to explain and predict’.</p>
<p>That may sound a touch cute, but Francis Edgeworth, the Irish nineteenth century statistician and economist, who went to Trinity College Dublin, considered statistics to be the science ‘of those Means which are presented by social phenomena,’ so it is in good company <span class="citation" data-cites="edgeworth1885methods">(Edgeworth 1885)</span>.</p>
<p>In any case, one feature of this definition is that it does not treat data as terra nullius, or nobody’s land. Statisticians tend to see data as the result of some process that we can never know, but that we try to use data to come to understand. Many statisticians care deeply about data and measurement, but there are many cases in statistics where data kind of just appear; they belong to no one. But that is never actually the case.</p>
<p>Data must be gathered, cleaned, and prepared, and these decisions matter. Every dataset is sui generis, or a class by itself, and so when you come to know one dataset well, you just know one dataset, not all datasets.</p>
<p>More broadly, I think that much of data science focuses on the ‘science,’ but it is important that we also focus on ‘data.’ And that is another feature of my cutesy definition of data science which I posited before. A lot of data scientists are generalists, who are interested in a broad range of problems. Often, the thing that unites these is the need to gather, clean, and prepare messy data. And often it is the specifics of those data that require the most time, that update most often, and that are worthy of our most full attention. Unfortunately, it’s not typically the type of thing that is professionally rewarded.</p>
</section>
<section id="what-we-can-learn-from-a-historical-dublin-census" class="level2">
<h2 class="anchored" data-anchor-id="what-we-can-learn-from-a-historical-dublin-census">What we can learn from a historical Dublin census?</h2>
<p>At this point I’d like to look back, for a moment, at the origins of data science. If we look at the history of statistics, we very quickly find ourselves surrounded by Irish contributions.</p>
<p>In preparing for this talk I was thrilled to learn about the book by the Reverend James Whitelaw, and this is its actual title, ‘An essay on the population of Dublin. Being the result of an actual survey taken in 1798, with great care and precision, and arranged in a manner entirely new’ <span class="citation" data-cites="whatasurvey">(Whitelaw 1905)</span>. I really do think that we all maybe need to adopt a little more of the Whitelaw’s detail in our paper titles!</p>
<p>In any case, <span class="citation" data-cites="whatasurvey">Whitelaw (1905)</span> says that he is fed up with the bad estimates of the size of the population in various capitals. And he particularly singled out London, which he says has estimates that range anywhere between 128,570 and 300,000. Instead, he says that he intends to make an accurate count of the number of inhabitants of Dublin.</p>
<p>He describes how:</p>
<blockquote class="blockquote">
<p>When I first entered on the business, I conceived that I should have little more to do than to transcribe carefully the list of inhabitants affixed to the door of each house by order of the Lord Mayor.</p>
</blockquote>
<p>Like many of us who spend our days in data, he found it was not that simple. Instead, he found:</p>
<blockquote class="blockquote">
<p>(t)he lists on the doors… presented generally to view a confused chaos of names, frequently illegible, and generally short of the actual number by a third, or even one-half’. He goes onto say that instead, he and his assistants braved ’the dread of infectious diseases,… filth, stench, and darkness,… to explore… every room of those wretched habitations, from the cellar to the garret, and on the spot ascertained their population.</p>
</blockquote>
<p>The resulting tables looked something like this (Figure @ref(fig:iceberg)):</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2021-12-16-on_the_privilege_of_turning_our_world_into_data/extract.png" class="img-fluid figure-img" style="width:85.0%"></p>
<figcaption>Extract of the survey</figcaption>
</figure>
</div>
</div>
</div>
<p>And in case you’re interested, his estimate of the total population of Dublin in 1798 was estimated at 182,370.</p>
<p>I was surprised by how confident Whitelaw was in his numbers. My PhD is in economic history, where I was interested in Australian economic history, especially political history. And the thing about economic historians is that we have to create, clean, and prepare our own datasets from whatever traces we can find before we can analyse it. So that training focuses one’s mind on measurement, and sampling.</p>
<p>And there’s an odd phenomenon that I’ve observed where the further one is away from decisions to do with the counting, measurement, organisation, and categorisation, the more one tends to trust the resulting datasets. That is, the person that actually does the hard work of constructing our datasets is usually the one that trusts them the least.</p>
<p>I’ve never understood this confidence that people have in datasets that they don’t construct themselves.</p>
<p>It’s an absolute privilege to get to work in data science. To be able to feel, like Reverend Whitelaw did, that one is bringing some order to things. But it’s important to realise the perspective that one brings as one is doing that.</p>
<p>Now my point here isn’t to attack Whitelaw, as he is long dead and incapable of defending himself, but, I skipped over a bunch of the actual quote in Whitelaw. In particular, after talking about that bit about just looking at the lists on the doors:</p>
<blockquote class="blockquote">
<p>As the families of the middle and upper classes always contained some individual who was competent to the task, and as few had any motive to conceal or misrepresent, I found their lists, in general, extremely correct; but among the lower class, which forms the great mass of the population of this city, the case was very different…. This I at first imputed to design, but was afterwards convinced that it proceeded from ignorance and incapacity.</p>
</blockquote>
<p>But how could he possibly know?</p>
<p>To a certain extent we are wasting our time. We have a perfect model of the world—it is the world! But it is too complicated. If we knew perfectly how everything was affected by the uncountable factors that influence it, then we could perfectly forecast a coin toss, a dice roll, and every other seemingly random process each time. But we cannot. Instead, we must simplify things to that which is plausibly measurable, and it is that which we define as data. Our data are a simplification of the messy, complex, world from which they were generated.</p>
<p>There are different approximations of ‘plausibly measurable.’ Hence, datasets are always the result of choices. We must decide whether they are nonetheless reasonable for the task at hand. We use statistical models to help us think deeply about, explore, and hopefully come to better understand, our data.</p>
<p>Much of statistics is focused on considering, thoroughly, the data that we have. And that was appropriate for when our data were predominately agricultural, astronomical, or from the physical sciences. But with the rise of data science, mostly because of the value of its application to datasets generated by humans, we must also actively consider what is not in our dataset. Who is systematically missing from our dataset? Whose data does not fit nicely into the approach that we are using and are hence is being inappropriately simplified? If the process of the world becoming data necessarily involves abstraction and simplification, then we need to be clear about the points at which we can reasonably simplify, and those which would be inappropriate, recognising that this will be application specific.</p>
<p>Data science needs diversity. And it’s one reason that I’m excited by all the initiatives to increase participation by women and other underrepresented groups. We need our labs, our classrooms, and of course, eventually, our startups and businesses to be representative of the broader society.</p>
<p>The process of our world becoming data necessarily involves measurement. As I mentioned before, paradoxically, often those that do the measurement and are deeply immersed in the details have less trust in the data than those that are removed from it. Even seemingly clear tasks, such as measuring distance, defining boundaries, and counting populations, are surprisingly difficult in practice. Turning our world into data requires many decisions and imposes much error. Among many other considerations, we need to decide what will be measured, how accurately we will do this, and who will be doing the measurement.</p>
<p>An important example of how something seemingly simple quickly becomes difficult is maternal mortality. That refers to the number of women who die while pregnant, or soon after a termination, from a cause related to the pregnancy or its management <span class="citation" data-cites="matmortality">(WHO 2019)</span>. It is difficult but critical to turn the tragedy of such a death into cause-specific data because that helps mitigate future deaths. Some countries have well-developed civil registration and vital statistics (CRVS). These collect data about every death. But many countries do not have a CRVS and so not every death is recorded. Even if a death is recorded, defining a cause of death may be difficult, especially when there is a lack of qualified medical personal or equipment. Maternal mortality is especially difficult because there are typically many causes. Some CRVS have a checkbox on the form to specify whether the death should be counted as maternal mortality. But even some developed countries have only recently adopted this. For instance, it was only introduced in the US in 2003, and even in 2015 Alabama, California, and West Virginia had not adopted the standard question <span class="citation" data-cites="macdorman2018failure">(MacDorman and Declercq 2018)</span>.</p>
</section>
<section id="on-balance-between-data-and-science" class="level2">
<h2 class="anchored" data-anchor-id="on-balance-between-data-and-science">On balance between data and science</h2>
<p>I mentioned at the start of the talk that I’m appointed in both the Faculty of Information and the Department of Statistical Sciences. For those who don’t know, faculties of information were created around the turn of the century to train librarians. Library science of course has a long and distinguished history of archiving, categorising, storing, and retrieving information, and for a long time when computers were first developed, a lot of the initial work was done by librarians, or at libraries. I suspect there is a gendered aspect to this, with librarians often being female, but a lot of that work was systematically overlooked and was re-invented later. This continues today, with our library at the University of Toronto doing excellent work that is consistently overlooked. I used to feel a bit funny about being jointly appointed, but it turns out that the first chair of the Department of Statistics at Trinity College Dublin, Gordon Foster, was not only a statistician, but he also created the International Book Numbering System (ISBN), which we still use today.</p>
<p>In 1968 Foster gave the Geary Lecture at the Economic and Social Research Institute in Dublin <span class="citation" data-cites="foster">(Foster 1968)</span>. And I think it is worth revisiting that talk because he was clearly, yet another, Irish statistician who was well ahead of his time.</p>
<p><span class="citation" data-cites="foster">Foster (1968)</span> first describes how:</p>
<blockquote class="blockquote">
<p>[j]ust prior to the time when my own career in statistics was commencing, an important development took place in which I was therefore able to participate straight away, and which has since had a great effect on the development of the subject. I mean of course the invention of the computer.</p>
</blockquote>
<p>It’s funny, but fifty years on, I actually feel the same way about my career!</p>
<p><span class="citation" data-cites="foster">Foster (1968)</span> goes on to say that</p>
<blockquote class="blockquote">
<p>it was something of an achievement to get a programme actually working. It was useful to have handy a screwdriver and scotch-tape, and to know where to kick the machine if it stuck.</p>
</blockquote>
<p>And as someone who gets the privilege to write code for living, I do wonder if much has changed!</p>
<p>It’s interesting that <span class="citation" data-cites="foster">Foster (1968)</span> points very clearly to data science in this talk, where he says:</p>
<blockquote class="blockquote">
<p>(s)tatistics are concerned with the processing and analysis of masses of data and with the development of mathematical methods of extracting information from data. Combine all this activity with computer methods and you have something more than the sum of its parts.</p>
</blockquote>
<p>Talking about computers at the time, <span class="citation" data-cites="foster">Foster (1968)</span> says:</p>
<blockquote class="blockquote">
<p>(t)hey are capable of performing any structured task, from planning a hospital diet, retrieving a legal precedent, or controlling stocks in a warehouse, to playing a reasonably good game of chess… I think, we begin to realise that the endeavour which I have referred to as information technology is no longer something just affecting specialists, but is bringing about changes in society affecting us all.</p>
</blockquote>
<p>How easy it would be to change ‘information technology’ to ‘data science’ in those quotes for them to ring true almost a lifetime after they were spoken.</p>
<p>We always use various instruments to turn the world into data. For instance, in astronomy, the development of better telescopes, and eventually satellites and probes, enabled new understanding of other worlds. We similarly have new instruments for turning our own world into data being developed each day.</p>
<p>In the social sciences, a census was once a generational-defining event. And it’s appropriate that this talk happens near the Christmas holidays given the role that the census played in that event. But now we have regular surveys, transactions data available by the second, and almost all interactions on the internet become data of some kind. The development of such instruments has enabled exciting new stories to be told with data.</p>
<p>I think for the past ten years or so, we’ve had the balance wrong in data science. There has been too much focus on the ‘science’ bit, without sufficient focus on the ‘data’ bit.</p>
<p>It is not just the ‘science’ bit that is hard, it is the ‘data’ bit as well. I feel that Foster would have known this, and we are just reinventing things. For instance, researchers went back and examined one of the most popular text datasets in computer science, and they found that around 30 per cent of the data were inappropriately duplicated <span class="citation" data-cites="bandy2021addressing">(Bandy and Vincent 2021)</span>. There is an entire field—linguistics—that specialises in these types of datasets, and inappropriate use of data is one of the dangers of any one field being hegemonic. The strength of data science is that it brings together folks with a variety of backgrounds and training to the task of learning about some dataset. It is not constrained by what was done in the past. But this means that we must go out of our way to show respect for those who do not come from our own tradition, but who are nonetheless as similarly interested in a dataset, or in a question, as we are.</p>
<p>I’m picking on CS a little here, but my home of the social sciences is just as bad and researchers like me are trying to refocus us on data a little more than we have been in the past.</p>
<p>So what are some examples of things that I work on?</p>
</section>
<section id="examples-of-my-work" class="level2">
<h2 class="anchored" data-anchor-id="examples-of-my-work">Examples of my work</h2>
<p>I mentioned that my PhD is in economic history, but I spent most of my PhD trying to deal with big text datasets. And when I say ‘dealing’ I mean using R to clean and tidy them, which was the work of years. My supervisors—John Tang, Tim Hatton, Martine Mariotti, and Zach Ward—gave me the freedom to do what I wanted, with regular weekly meetings. It’s not a topic that traditionally would have been appropriate in economics, and I’m grateful they gave me the space because traditional economics is not for me, but data science is.</p>
<section id="effect-of-elections-and-changed-prime-ministers" class="level3">
<h3 class="anchored" data-anchor-id="effect-of-elections-and-changed-prime-ministers">Effect of elections and changed prime ministers</h3>
<p>One result of this work was the paper—<em>The Increased Effect of Elections and Changing Prime Ministers on Topics Discussed in the Australian Federal Parliament between 1901 and 2018</em>—<span class="citation" data-cites="alexander2021increased">(Alexander and Alexander 2021)</span> which was co-authored with my wife Monica. In Australia there is a written record of what is said in parliament called Hansard. We grabbed the text of everything said between 1901 and 2018 and then built a statistical model to look at whether the topics of discussion changed when there was an election or when there was a change in the prime minister. We found that changes in prime minister tend to be associated with topic changes even when the party in power does not change; and the effect of elections has been increasing since the 1980s, regardless of whether the election results in a change of prime minister.</p>
<section id="lesson-always-start-small-and-then-iterate." class="level4">
<h4 class="anchored" data-anchor-id="lesson-always-start-small-and-then-iterate.">Lesson: Always start small and then iterate.</h4>
<p>I came to that paper hopelessly naive and lost. I didn’t know that text analysis, and natural language processing more generally, was something that was incredibly popular. I didn’t have the skills that I needed, and really all I had was an all-consuming interest in the broad area - I didn’t even have a question. The dataset has over a billion words in it. So the main lesson for me was in dealing with big datasets. And here I don’t mean in terms of technical skills, I mean in terms of approach. These days when I have students and they want to use the Hansard or any large dataset, I start by insisting that they just use one month of data. After they analyse and write that up, then they can go to a year, and then they can continue to build up slowly.</p>
<p>The reason that I know now that’s the best way to go is that I somehow convinced myself that I couldn’t possibly answer any interesting questions until I had a century worth of data. And because I was teaching myself everything as I went, it took me more than a year to just get the data into a usable format.</p>
<p>If you take nothing away from this talk, please I beg you take this away: the most important, vital thing, is that you create a minimal viable product of any research. And that minimal viable product needs to be something that you can finish within a week. If you can’t do that then adjust the scope and the question until you can. Then you achieve that MVP and then you start to scale up to the question that you’re interested in, which is hopefully something that can be published.</p>
</section>
</section>
<section id="explaining-why-text-is-sexist-or-racist-with-gpt-3" class="level3">
<h3 class="anchored" data-anchor-id="explaining-why-text-is-sexist-or-racist-with-gpt-3">Explaining Why Text is Sexist or Racist with GPT-3</h3>
<p>As anyone who has cared for young children knows, the response to almost any statement can be ‘why?’. One can quickly find oneself trying to explain the finer details of photosynthesis to a 3-year-old, and the extent to which one struggles with this tends to put in sharp relief the extent of one’s knowledge. Large language models such as OpenAI’s GPT-3 can generate text that is indistinguishable from that created by humans. They can also classify whether some given text is sexist or racist <span class="citation" data-cites="chiu2021detecting">(Chiu and Alexander 2021)</span>.</p>
<p>In the paper—<em>Explaining Why Text is Sexist or Racist with GPT-3</em>—which was co-authored by Ke-Li Chiu we assess the extent to which GPT-3 can generate explanations for why a given text is sexist or racist. We prompt GPT-3 to generate explanations in a question-and-answer manner: ‘Is the following statement in quotes sexist? Answer yes or no and explain why.’ We then assess the adequacy of the explanations generated by GPT-3. We are interested in firstly, the extent to which it correctly classifies whether the statements are sexist/racist; and secondly, the reasonableness of the explanation that accompanies that classification.</p>
<p>We find that GPT-3 does poorly in the open-ended approach. When we add more structure to guide its responses the model performs better. But even when it correctly classifies racism or sexism, the accompanying explanations are often inaccurate. At times they even contradict the classification. On a technical level, we find a clear relationship between the hyper-parameter temperature and the number of correctly matched attributes, with substantial decreases as temperature increases.</p>
<section id="lesson-always-teach" class="level4">
<h4 class="anchored" data-anchor-id="lesson-always-teach">Lesson: Always teach</h4>
<p>I just used a bunch of terms there and you probably assume that I know what they mean. In writing the paper that preceded this one, I actually fooled myself into thinking that I knew what they meant. It wasn’t until I tried to teach the material that I realised that I didn’t have a clue what was going on.</p>
<p>A lot of my colleagues try to get out of teaching, and I can understand why they would think that, but I’ve found that having to teach has made me a better researcher. For one reason, I found that it’s too easy to fool yourself into thinking you know something until you have to explain it. And I also kind of think that a lot of us in academia need pressure, constraints, and a weekly structure, in order to do our best work.</p>
</section>
</section>
<section id="reproducibility-of-covid-19-pre-prints" class="level3">
<h3 class="anchored" data-anchor-id="reproducibility-of-covid-19-pre-prints">Reproducibility of COVID-19 pre-prints</h3>
<p>The final paper that I’d like to touch on is—<em>Reproducibility of COVID-19 pre-prints</em>—by Annie Collins and me <span class="citation" data-cites="collins2021reproducibility">(Collins and Alexander 2021)</span>. In that paper we are interested in the reproducibility of COVID-19 research. We create a dataset of pre-prints posted to arXiv, bioRxiv, medRxiv, and SocArXiv between 28 January 2020 and 30 June 2021 that are related to COVID-19. We extract the text from these pre-prints and parse them looking for keyword markers signalling the availability of the data and code underpinning the pre-print. For the pre-prints that are in our sample, we are unable to find markers of either open data or open code for 75 per cent of those on arXiv, 67 per cent of those on bioRxiv, 79 per cent of those on medRxiv, and 85 per cent of those on SocArXiv. We conclude that there may be value in having authors categorize the degree of openness of their pre-print as part of the pre-print submissions process, and more broadly, there is a need to better integrate open science training into a wide range of fields.</p>
<section id="lesson-you-always-need-the-code-more-than-once" class="level4">
<h4 class="anchored" data-anchor-id="lesson-you-always-need-the-code-more-than-once">Lesson: You always need the code more than once</h4>
<p>I went into that paper thinking that I’d just quickly write some code to download some files and then be done with it. But then Annie wanted to broaden the scope of the paper, so the code needed to be re-written because she couldn’t understand what I’d done. And then we had to re-run the code because we wanted to update everything before she presented the paper. And that meant re-writing things. And then we to re-run the code before we submitted the paper. Again that meant re-writing things.</p>
<p>We eventually just turned the code into an R package, which is on CRAN as <a href="https://rohanalexander.github.io/heapsofpapers/">heapsofpapers</a> <span class="citation" data-cites="heaps">(Alexander and Mahfouz 2021)</span>. Which is what I should have done from the start. The lesson that I learnt from this paper is that regardless of how certain you are that you’ll never use some particular code again, you’ll always need it.</p>
</section>
</section>
</section>
<section id="open-questions" class="level2">
<h2 class="anchored" data-anchor-id="open-questions">Open questions</h2>
<section id="how-do-we-write-unit-tests-for-data-science" class="level3">
<h3 class="anchored" data-anchor-id="how-do-we-write-unit-tests-for-data-science">How do we write unit tests for data science?</h3>
<p>One thing that working with real computer scientists has taught me is the importance of unit tests. Basically this just means writing down the small checks that we do in our heads all the time. Like if we have a column that purports to the year, then it’s unlikely that it’s a character, and it’s unlikely that it’s an integer larger than 2500, and it’s unlikely that it’s a negative integer. We know all this, but writing unit tests has us write this all down.</p>
<p>In this case it’s obvious what the unit test looks like. But more generally, we often have little idea what our results should look like if they’re running well. The approach that I’ve taken is to add simulation - so we simulate reasonable results, write unit tests based on that, and then bring the real data to bear and adjust as necessary. But I really think that we need extensive work in this area because the current state-of-the-art is lacking.</p>
</section>
<section id="what-happened-to-the-revolution" class="level3">
<h3 class="anchored" data-anchor-id="what-happened-to-the-revolution">What happened to the revolution?</h3>
<p>I don’t understand what happened to the promised machine learning revolution in social sciences. Specifically, I’m yet to see any convincing application of machine learning methods that are designed for prediction to a social sciences problem where what we care about is understanding. I would like to either see evidence of them or a definitive thesis about why this can’t happen. The current situation is untenable where folks, especially those in fields that have been historically female, are made to feel inferior even though their results are no worse.</p>
</section>
<section id="how-do-we-think-about-power" class="level3">
<h3 class="anchored" data-anchor-id="how-do-we-think-about-power">How do we think about power?</h3>
<p>As someone who learnt statistics from economists, but now is partly in a statistics department, I do think that everyone should learn statistics from statisticians. This isn’t anything against economists, but the conversations that I have in the statistics department about what statistical methods are and how they should be used are very different to those that I’ve had in other departments.</p>
<p>I think the problem is that people outside statistics, treat statistics as a recipe in which they follow various steps and then out comes a cake. With regard to ‘power’—it turns out that there were a bunch of instructions that no one bothered to check—they turned the oven on to some temperature without checking that it was 180C, and that’s fine because whatever mess came out was accepted because the people evaluating the cake didn’t know that they needed to check the temperature had been appropriately set. (I’m ditching this analogy right now).</p>
<p>As you know, the issue with power is related to the broader discussion about p-values, which basically no one is taught properly, because it would require changing an awful lot about how we teach statistics i.e.&nbsp;moving away from the recipe approach.</p>
<p>And so, my specific issue is that people think that statistics is a recipe to be followed. They think that because that’s how they are trained especially in social sciences like political science and economics, and that’s what is rewarded. But that’s not what these methods are. Instead, statistics is a collection of different instruments that let us look at our data in a certain way. I think that we need a revolution here, not a metaphorical tucking in of one’s shirt.</p>
</section>
</section>
<section id="thank-you" class="level2">
<h2 class="anchored" data-anchor-id="thank-you">Thank you</h2>
<p>Right. So I think I’ll leave it there. Thank you again to Niamh for inviting me. And I hope that I haven’t bored you all too much.Merry Christmas, happy holidays, and I hope everyone has a wonderful start to 2022.</p>
<p>I’d be happy to take any questions.</p>
</section>


<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Thanks very much to Niamh Cahill for the invitation to speak, and to Monica Alexander for her suggestions and comments.</p>



</div></section><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-alexander2021increased" class="csl-entry">
Alexander, Rohan, and Monica Alexander. 2021. <span>“The Increased Effect of Elections and Changing Prime Ministers on Topics Discussed in the Australian Federal Parliament Between 1901 and 2018.”</span> <a href="https://arxiv.org/abs/2111.09299">https://arxiv.org/abs/2111.09299</a>.
</div>
<div id="ref-heaps" class="csl-entry">
Alexander, Rohan, and A Mahfouz. 2021. <em>Heapsofpapers: Easily Download Heaps of PDF and CSV Files</em>. <a href="https://CRAN.R-project.org/package=heapsofpapers">https://CRAN.R-project.org/package=heapsofpapers</a>.
</div>
<div id="ref-bandy2021addressing" class="csl-entry">
Bandy, Jack, and Nicholas Vincent. 2021. <span>“Addressing "Documentation Debt" in Machine Learning Research: A Retrospective Datasheet for BookCorpus.”</span> <a href="https://arxiv.org/abs/2105.05241">https://arxiv.org/abs/2105.05241</a>.
</div>
<div id="ref-nick" class="csl-entry">
Benjamin S. Baumer, Daniel T. Kaplan, and Nicholas J. Horton. 2021. <em>Modern Data Science with r</em>. 2nd ed. <a href="https://mdsr-book.github.io/mdsr2e/">https://mdsr-book.github.io/mdsr2e/</a>.
</div>
<div id="ref-chiu2021detecting" class="csl-entry">
Chiu, Ke-Li, and Rohan Alexander. 2021. <span>“Detecting Hate Speech with GPT-3.”</span> <a href="https://arxiv.org/abs/2103.12407">https://arxiv.org/abs/2103.12407</a>.
</div>
<div id="ref-collins2021reproducibility" class="csl-entry">
Collins, Annie, and Rohan Alexander. 2021. <span>“Reproducibility of COVID-19 Pre-Prints.”</span> <a href="https://arxiv.org/abs/2107.10724">https://arxiv.org/abs/2107.10724</a>.
</div>
<div id="ref-Craiu2019Hiring" class="csl-entry">
Craiu, Radu V. 2019. <span>“The Hiring Gambit: In Search of the Twofer Data Scientist.”</span> <em>Harvard Data Science Review</em> 1 (1). <a href="https://doi.org/10.1162/99608f92.440445cb">https://doi.org/10.1162/99608f92.440445cb</a>.
</div>
<div id="ref-edgeworth1885methods" class="csl-entry">
Edgeworth, Francis Ysidro. 1885. <span>“Methods of Statistics.”</span> <em>Journal of the Statistical Society of London</em>, 181–217.
</div>
<div id="ref-foster" class="csl-entry">
Foster, Gordon. 1968. <span>“Computers, Statistics and Planning: Systems or Chaos?”</span> <em>Geary Lecture</em>. <a href="https://www.esri.ie/system/files/media/file-uploads/2016-03/GLS2.pdf">https://www.esri.ie/system/files/media/file-uploads/2016-03/GLS2.pdf</a>.
</div>
<div id="ref-leekpeng" class="csl-entry">
Leek, Jeff, and Roger D. Peng. 2020. <em>Advanced Data Science 2020</em>. <a href="http://jtleek.com/ads2020/index.html">http://jtleek.com/ads2020/index.html</a>.
</div>
<div id="ref-macdorman2018failure" class="csl-entry">
MacDorman, Marian F, and Eugene Declercq. 2018. <span>“The Failure of United States Maternal Mortality Reporting and Its Impact on Women’s Lives.”</span> <em>Birth (Berkeley, Calif.)</em> 45 (2): 105.
</div>
<div id="ref-richard" class="csl-entry">
McElreath, Richard. 2020. <em>Statistical Rethinking: A Bayesian Course with Examples in r and Stan</em>. 2nd ed.
</div>
<div id="ref-tiffany" class="csl-entry">
Timbers, Tiffany-Anne, Trevor Campbell, and Melissa Lee. 2021. <em>Data Science: A First Introduction</em>. <a href="https://ubc-dsci.github.io/introduction-to-datascience/">https://ubc-dsci.github.io/introduction-to-datascience/</a>.
</div>
<div id="ref-whatasurvey" class="csl-entry">
Whitelaw, James. 1905. <em>An Essay on the Population of Dublin. Being the Result of an Actual Survey Taken in 1798, with Great Care and Precision, and Arranged in a Manner Entirely New</em>. Graisberry; Campbell.
</div>
<div id="ref-matmortality" class="csl-entry">
WHO. 2019. <span>“Trends in Maternal Mortality 2000 to 2017: Estimates by WHO, UNICEF, UNFPA, World Bank Group and the United Nations Population Division.”</span> <a href="https://www.who.int/reproductivehealth/publications/maternal-mortality-2000-2017/en/">https://www.who.int/reproductivehealth/publications/maternal-mortality-2000-2017/en/</a>.
</div>
<div id="ref-hads" class="csl-entry">
Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for Data Science</em>. O’Reilly. <a href="https://r4ds.had.co.nz">https://r4ds.had.co.nz</a>.
</div>
</div></section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-12-16-on_the_privilege_of_turning_our_world_into_data/on_the_privilege_of_turning_our_world_into_data.html</guid>
  <pubDate>Thu, 16 Dec 2021 05:00:00 GMT</pubDate>
</item>
<item>
  <title>The average age of politicians in the Australian Federal Parliament (1901-2021)</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-12-02-average_age_of_australian_politicians/average_age_of_parliaments.html</link>
  <description><![CDATA[ 




<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Last week I had the opportunity to attend my first thesis defence at a French-language institution (just to clarify - the actual defence was nonetheless conducted in English). Congratulations to Florence Vallée-Dubois on a successful defence. Her thesis looks at population ageing and democratic representation in Canada and is absolutely brilliant.</p>
<p>Her work, and some earlier comments by Ben Readshaw, got me thinking about what the average age of a politician in Australia looks like. Thankfully, this is an example of a question that my new R package with Paul Hodgetts <code>AustralianPoliticians</code> makes easy to answer <span class="citation" data-cites="citeaustralianpoltiicaisn">(Alexander and Hodgetts 2021)</span>.</p>
<p>The average age of politicians in a parliament may have implications for the types of issues that are emphasised and the policies that are put in place. I examine the average age of Australian politicians in the Senate and the House of Representatives. In general, the Senate tends to be slightly older than the House of Representatives. I find a gradual increase in the average age from Federation through to the 1940s. In 1949 there was an expansion of the parliament and the average age noticeably declined. After a period of relative stability in the 1950s and 1960s, there was another noticeable decrease in the 1970s, followed by a gradual aging.</p>
</section>
<section id="data-preparation" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation">Data preparation</h2>
<p>The dataset that I used in this note was primarily collected from records from the Australian Parliamentary Library, Wikipedia, and the Australian Dictionary of Biography. The dataset comprises biographical, political, and other information about every person elected to either the House of Representatives or the Senate. You can get the dataset in a series of CSVs on GitHub or as an R Package <code>AustralianPoliticians</code> available on CRAN.<sup>1</sup></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># install.packages("AustralianPoliticians")</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(AustralianPoliticians)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(lubridate)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span></code></pre></div>
</div>
<p>The other packages that are required for the analysis are <code>lubridate</code> <span class="citation" data-cites="citeLubridate">(Grolemund and Wickham 2011)</span>, the <code>tidyverse</code> <span class="citation" data-cites="citeTidyverse">(Wickham et al. 2019)</span>. Additionally this note draws on the <code>knitr</code> <span class="citation" data-cites="citeKnitr">(Xie 2020)</span> and <code>distill</code> <span class="citation" data-cites="citedistill">(Allaire et al. 2021)</span> packages. All analysis is conducted in the statistical programming language R <span class="citation" data-cites="citeR">(R Core Team 2020)</span>.</p>
<p>I’m not going to spend a lot of time on descriptives about the dataset here because that’s needed for a paper, and this is meant to be fun.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">all <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> AustralianPoliticians<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_auspol</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"all"</span>)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(all)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 20
  uniqueID   surname allOtherNames      firstName commonName
  &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;              &lt;chr&gt;     &lt;chr&gt;     
1 Abbott1859 Abbott  Richard Hartley S… Richard   &lt;NA&gt;      
2 Abbott1869 Abbott  Percy Phipps       Percy     &lt;NA&gt;      
3 Abbott1877 Abbott  Macartney          Macartney Mac       
4 Abbott1886 Abbott  Charles Lydiard A… Charles   Aubrey    
5 Abbott1891 Abbott  Joseph Palmer      Joseph    &lt;NA&gt;      
6 Abbott1957 Abbott  Anthony John       Anthony   Tony      
# ℹ 15 more variables: displayName &lt;chr&gt;,
#   earlierOrLaterNames &lt;chr&gt;, title &lt;chr&gt;, gender &lt;chr&gt;,
#   birthDate &lt;date&gt;, birthYear &lt;dbl&gt;, birthPlace &lt;chr&gt;,
#   deathDate &lt;date&gt;, member &lt;dbl&gt;, senator &lt;dbl&gt;,
#   wasPrimeMinister &lt;dbl&gt;, wikidataID &lt;chr&gt;,
#   wikipedia &lt;chr&gt;, adb &lt;chr&gt;, comments &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">all<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>member <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>.
   0    1 
 578 1205 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">all<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>senator <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">table</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>.
   0    1 
1155  628 </code></pre>
</div>
</div>
<p>But briefly, there are 1,783 politicians in the dataset, with 1,205 having sat in the House of Representatives, which is the lower house, and 628 having sat in the Senate, which is the upper house. There is some overlap because there are people who sat in both houses.<sup>2</sup></p>
<p>The <code>AustralianPoliticians</code> package contains a number of datasets that are related by the <code>uniqueID</code> variable. This note requires the main dataset - ‘all’ - as well as two supporting datasets that provide more detailed information about the members - ‘mps’ - and the senators - ‘senators’.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get the members and the dates they were in the house</span></span>
<span id="cb8-2">mps <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> AustralianPoliticians<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_auspol</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mps"</span>)</span>
<span id="cb8-3"></span>
<span id="cb8-4">australian_mps <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb8-5">  all <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(member <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(mps, </span>
<span id="cb8-8">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"uniqueID"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(uniqueID, mpFrom, mpTo) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">house =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"reps"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">from =</span> mpFrom,</span>
<span id="cb8-12">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to =</span> mpTo)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get the senators and the dates they were in the senate</span></span>
<span id="cb9-2">senators <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> AustralianPoliticians<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_auspol</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"senators"</span>)</span>
<span id="cb9-3"></span>
<span id="cb9-4">australian_senators <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb9-5">  all <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(senator <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(senators, </span>
<span id="cb9-8">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"uniqueID"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(uniqueID, senatorFrom, senatorTo) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">house =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"senate"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">from =</span> senatorFrom,</span>
<span id="cb9-12">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to =</span> senatorTo)</span>
<span id="cb9-13"></span>
<span id="cb9-14">australian_politicians <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(australian_mps, australian_senators)</span>
<span id="cb9-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span>(australian_senators, australian_mps, mps, senators)</span>
<span id="cb9-16"></span>
<span id="cb9-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Change the names so that they print nicely in graphs/tables</span></span>
<span id="cb9-18">australian_politicians <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb9-19">  australian_politicians <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">house =</span></span>
<span id="cb9-21">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(</span>
<span id="cb9-22">             house <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"senate"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Senate"</span>,</span>
<span id="cb9-23">             house <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"reps"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HoR"</span>,</span>
<span id="cb9-24">             <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OH NO"</span>)</span>
<span id="cb9-25">         )</span>
<span id="cb9-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(australian_politicians)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  uniqueID   from       to         house
  &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;
1 Abbott1869 1913-05-31 1919-11-03 HoR  
2 Abbott1886 1925-11-14 1929-10-12 HoR  
3 Abbott1886 1931-12-19 1937-03-28 HoR  
4 Abbott1891 1940-09-21 1949-10-31 HoR  
5 Abbott1957 1994-03-26 2019-05-18 HoR  
6 Abel1939   1975-12-13 1977-11-10 HoR  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># australian_politicians$house %&gt;% table()</span></span></code></pre></div>
</div>
<p>For each day, I would like to know the average age of everyone sitting in the parliament. There are a variety of ways to do this, but one is to create a dataset of two columns: <code>date</code> and <code>uniqueID.</code> Both of these are repeated, so that for every <code>date</code> there is every <code>uniqueID.</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">start_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1901-01-01"</span>)</span>
<span id="cb12-2">end_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-12-31"</span>)</span>
<span id="cb12-3"></span>
<span id="cb12-4">politicians_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb12-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb12-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">uniqueID =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(australian_politicians<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>uniqueID <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(),</span>
<span id="cb12-7">                   end_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> start_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb12-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq.Date</span>(start_date, end_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"day"</span>),</span>
<span id="cb12-9">               australian_politicians<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>uniqueID <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>()</span>
<span id="cb12-10">               )</span>
<span id="cb12-11">    )</span>
<span id="cb12-12"></span>
<span id="cb12-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(politicians_by_date)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  uniqueID   date      
  &lt;chr&gt;      &lt;date&gt;    
1 Abbott1869 1901-01-01
2 Abbott1886 1901-01-02
3 Abbott1891 1901-01-03
4 Abbott1957 1901-01-04
5 Abel1939   1901-01-05
6 Adams1951  1901-01-06</code></pre>
</div>
</div>
<p>Although the dataset is long at this point, it will be quite sparse as there are many combinations of <code>date</code> and <code>uniqueID</code> that are irrelevant. In the next step I check if each <code>uniqueID</code> was in parliament on each date, and filter away those that were not.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add an explicit end date to the uniqueIDs that are still in parliament and</span></span>
<span id="cb14-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># hence have NA in the date they left parliament.</span></span>
<span id="cb14-3">australian_politicians<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>to[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(australian_politicians<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>to)] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> end_date</span>
<span id="cb14-4"></span>
<span id="cb14-5">politicians_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb14-6">  politicians_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb14-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(australian_politicians,</span>
<span id="cb14-8">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"uniqueID"</span></span>
<span id="cb14-9">            )</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in left_join(., australian_politicians, by = "uniqueID"): Detected an unexpected many-to-many relationship between
`x` and `y`.
ℹ Row 1 of `x` matches multiple rows in `y`.
ℹ Row 1 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set
  `relationship = "many-to-many"` to silence this warning.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1">politicians_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb16-2">  politicians_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb16-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">in_parliament_interval =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">interval</span>(from, to),</span>
<span id="cb16-4">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">in_parliament_at_date =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%within%</span> in_parliament_interval, </span>
<span id="cb16-5">                                         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, </span>
<span id="cb16-6">                                         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb16-7">         ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb16-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(in_parliament_at_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb16-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>in_parliament_interval,</span>
<span id="cb16-10">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>in_parliament_at_date,</span>
<span id="cb16-11">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>from,</span>
<span id="cb16-12">         <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>to)</span>
<span id="cb16-13"></span>
<span id="cb16-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(politicians_by_date)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  uniqueID     date       house
  &lt;chr&gt;        &lt;date&gt;     &lt;chr&gt;
1 Bonython1848 1901-04-13 HoR  
2 Braddon1829  1901-04-25 HoR  
3 Brown1861    1901-05-11 HoR  
4 Cameron1851  1901-06-13 HoR  
5 Chanter1845  1901-07-13 HoR  
6 Chapman1864  1901-07-14 HoR  </code></pre>
</div>
</div>
<p>Now that the dataset is a bit more tractable, I add the birthday of every uniqueID and then calculate their age, in days, for every date.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">politicians_by_house_and_birthday <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb18-2">  all <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(uniqueID, birthDate, member, senator) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(member, senator), </span>
<span id="cb18-5">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"house"</span>, </span>
<span id="cb18-6">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in_it"</span></span>
<span id="cb18-7">               ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(in_it <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>in_it) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">house =</span> </span>
<span id="cb18-11">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(</span>
<span id="cb18-12">             house <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"senator"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Senate"</span>,</span>
<span id="cb18-13">             house <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"member"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HoR"</span>,</span>
<span id="cb18-14">             <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OH NO"</span>)</span>
<span id="cb18-15">         )</span>
<span id="cb18-16"></span>
<span id="cb18-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if the catch-all has been invoked</span></span>
<span id="cb18-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># politicians_by_house_and_birthday[politicians_by_house_and_birthday$house == "OH NO",]</span></span>
<span id="cb18-19"></span>
<span id="cb18-20">politicians_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb18-21">  politicians_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(politicians_by_house_and_birthday,</span>
<span id="cb18-23">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"uniqueID"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"house"</span>)</span>
<span id="cb18-24">            )</span>
<span id="cb18-25"></span>
<span id="cb18-26">politicians_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb18-27">  politicians_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb18-28">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(birthDate)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># I can't find Trish Wortley's birthday and also</span></span>
<span id="cb18-29">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># we don't know the birthdates of some of the politicians from around Federation.</span></span>
<span id="cb18-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">age_as_at_that_date =</span> date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> birthDate)</span>
<span id="cb18-31"></span>
<span id="cb18-32"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(politicians_by_date)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  uniqueID   date       house birthDate  age_as_at_that_date
  &lt;chr&gt;      &lt;date&gt;     &lt;chr&gt; &lt;date&gt;     &lt;drtn&gt;             
1 Bonython1… 1901-04-13 HoR   1848-10-15 19172 days         
2 Braddon18… 1901-04-25 HoR   1829-06-11 26250 days         
3 Brown1861  1901-05-11 HoR   1861-10-06 14461 days         
4 Cameron18… 1901-06-13 HoR   1851-11-03 18119 days         
5 Chanter18… 1901-07-13 HoR   1845-02-11 20605 days         
6 Chapman18… 1901-07-14 HoR   1864-07-10 13517 days         </code></pre>
</div>
</div>
<p>I need to work out the average age for each day. There are some politicians for whom we do not know their exact birthdate. Those have been removed in this calculation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">average_age_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb20-2">  politicians_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb20-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">age_as_at_that_date =</span> age_as_at_that_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ddays</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This just converts it into a days count</span></span>
<span id="cb20-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(date, house) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb20-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_age =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">median</span>(age_as_at_that_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) </span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'date'. You can
override using the `.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">average_age_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb22-2">  average_age_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb22-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_age_in_years =</span> average_age<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span>) </span>
<span id="cb22-4"></span>
<span id="cb22-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(average_age_by_date)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
# Groups:   date [3]
  date       house  average_age average_age_in_years
  &lt;date&gt;     &lt;chr&gt;        &lt;dbl&gt;                &lt;dbl&gt;
1 1901-03-29 HoR         16765                  45.9
2 1901-03-29 Senate      16086.                 44.1
3 1901-03-30 HoR         17235                  47.2
4 1901-03-30 Senate      18878.                 51.7
5 1901-03-31 HoR         17236                  47.2
6 1901-03-31 Senate      18878.                 51.7</code></pre>
</div>
</div>
<p>I’ll do the same thing except to work out the average by election period. This requires grabbing the election periods (there’s an R package coming soon about this)!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1">elections <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://raw.githubusercontent.com/RohanAlexander/australian_federal_elections/master/outputs/elections.csv"</span>,</span>
<span id="cb24-2">                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col_types =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Dicc"</span>)</span>
<span id="cb24-3"></span>
<span id="cb24-4">average_age_by_election <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb24-5">  politicians_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(elections <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-7">              <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date =</span> electionDate) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-8">              <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>comment) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-9">              <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">house =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HoR"</span>),</span>
<span id="cb24-10">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"house"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(house <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HoR"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(date, uniqueID) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_election =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(electionWinner), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb24-15">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">is_election =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">if_else</span>(is_election <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lag</span>(is_election, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">default =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, is_election),</span>
<span id="cb24-16">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">election_counter =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(is_election))</span>
<span id="cb24-17"></span>
<span id="cb24-18">average_age_by_election <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb24-19">  average_age_by_election <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">age_as_at_that_date =</span> age_as_at_that_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ddays</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This just </span></span>
<span id="cb24-22">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># converts it into a days count</span></span>
<span id="cb24-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(election_counter) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_age =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">median</span>(age_as_at_that_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb24-25">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">first_date =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(date)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_age_in_years =</span> average_age<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb24-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() </span></code></pre></div>
</div>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<section id="over-time" class="level3">
<h3 class="anchored" data-anchor-id="over-time">Over time</h3>
<p>There are considerable changes over time (Figure @ref(fig:maingraph)).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1">average_age_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb25-2">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># filter(year(date) == 1904) %&gt;%</span></span>
<span id="cb25-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># filter(month(date) == 2) %&gt;%</span></span>
<span id="cb25-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># filter(house == "HoR") %&gt;%</span></span>
<span id="cb25-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> average_age_in_years, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> house)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb25-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb25-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>,</span>
<span id="cb25-8">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average age (years)"</span>,</span>
<span id="cb25-9">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"House"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb25-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb25-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>) </span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2021-12-02-average_age_of_australian_politicians/average_age_of_parliaments_files/figure-html/maingraph-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Average age in the Australian Federal Parliament on a daily basis</figcaption>
</figure>
</div>
</div>
</div>
<p>I’ll just separate each of the houses because there’s a lot going on there (Figures @ref(fig:justrepsthings) and @ref(fig:justsenatethigns)).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1">average_age_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb26-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(house <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HoR"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb26-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> average_age_in_years)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb26-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#F90000"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb26-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>,</span>
<span id="cb26-6">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average age (years)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb26-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb26-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>) </span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2021-12-02-average_age_of_australian_politicians/average_age_of_parliaments_files/figure-html/justrepsthings-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Average age in the lower house on a daily basis</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1">average_age_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb27-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(house <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Senate"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb27-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> average_age_in_years)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb27-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#0080BD"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb27-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>,</span>
<span id="cb27-6">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average age (years)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb27-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb27-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>) </span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2021-12-02-average_age_of_australian_politicians/average_age_of_parliaments_files/figure-html/justsenatethigns-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Average age in the upper house on a daily basis</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="group-by-election-period" class="level3">
<h3 class="anchored" data-anchor-id="group-by-election-period">Group by election period</h3>
<p>We can also look at a summary of the results, averaged across days, on the basis of each election period (Table @ref(tab:maintable) and Figure @ref(fig:othergraph)).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1">average_age_by_election <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb28-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>average_age) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb28-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Election number</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> election_counter,</span>
<span id="cb28-4">         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Period begins</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> first_date,</span>
<span id="cb28-5">         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Average age (years)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> average_age_in_years) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb28-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average age by for each period between lower house elections"</span>,</span>
<span id="cb28-7">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">digits =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb28-8">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">booktabs =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Average age by for each period between lower house elections</caption>
<thead>
<tr class="header">
<th style="text-align: right;">Election number</th>
<th style="text-align: left;">Period begins</th>
<th style="text-align: right;">Average age (years)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">1901-03-29</td>
<td style="text-align: right;">48.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">1903-12-16</td>
<td style="text-align: right;">48.8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">1906-12-12</td>
<td style="text-align: right;">49.0</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">1910-04-13</td>
<td style="text-align: right;">50.1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">1913-05-31</td>
<td style="text-align: right;">49.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">1914-09-05</td>
<td style="text-align: right;">51.9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">1917-05-05</td>
<td style="text-align: right;">53.0</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: left;">1919-12-13</td>
<td style="text-align: right;">52.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: left;">1922-12-16</td>
<td style="text-align: right;">51.7</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: left;">1925-11-14</td>
<td style="text-align: right;">52.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: left;">1928-11-17</td>
<td style="text-align: right;">50.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: left;">1929-10-12</td>
<td style="text-align: right;">49.4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: left;">1931-12-19</td>
<td style="text-align: right;">52.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: left;">1934-09-15</td>
<td style="text-align: right;">51.1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: left;">1937-10-23</td>
<td style="text-align: right;">51.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: left;">1940-09-21</td>
<td style="text-align: right;">52.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: left;">1943-08-21</td>
<td style="text-align: right;">51.6</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: left;">1946-09-28</td>
<td style="text-align: right;">53.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: left;">1949-12-10</td>
<td style="text-align: right;">50.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">20</td>
<td style="text-align: left;">1951-04-28</td>
<td style="text-align: right;">52.4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">21</td>
<td style="text-align: left;">1954-05-29</td>
<td style="text-align: right;">53.7</td>
</tr>
<tr class="even">
<td style="text-align: right;">22</td>
<td style="text-align: left;">1955-12-10</td>
<td style="text-align: right;">52.4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">23</td>
<td style="text-align: left;">1958-11-22</td>
<td style="text-align: right;">52.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">24</td>
<td style="text-align: left;">1961-12-09</td>
<td style="text-align: right;">53.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">25</td>
<td style="text-align: left;">1963-11-30</td>
<td style="text-align: right;">53.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">26</td>
<td style="text-align: left;">1966-11-26</td>
<td style="text-align: right;">52.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">27</td>
<td style="text-align: left;">1969-10-25</td>
<td style="text-align: right;">51.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">28</td>
<td style="text-align: left;">1972-12-02</td>
<td style="text-align: right;">49.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">29</td>
<td style="text-align: left;">1974-05-18</td>
<td style="text-align: right;">48.6</td>
</tr>
<tr class="even">
<td style="text-align: right;">30</td>
<td style="text-align: left;">1975-12-13</td>
<td style="text-align: right;">47.1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">31</td>
<td style="text-align: left;">1977-12-10</td>
<td style="text-align: right;">47.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">32</td>
<td style="text-align: left;">1980-10-18</td>
<td style="text-align: right;">48.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">33</td>
<td style="text-align: left;">1983-03-05</td>
<td style="text-align: right;">47.7</td>
</tr>
<tr class="even">
<td style="text-align: right;">34</td>
<td style="text-align: left;">1984-12-01</td>
<td style="text-align: right;">48.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35</td>
<td style="text-align: left;">1987-07-11</td>
<td style="text-align: right;">49.4</td>
</tr>
<tr class="even">
<td style="text-align: right;">36</td>
<td style="text-align: left;">1990-03-24</td>
<td style="text-align: right;">48.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">37</td>
<td style="text-align: left;">1993-03-13</td>
<td style="text-align: right;">48.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">38</td>
<td style="text-align: left;">1996-03-02</td>
<td style="text-align: right;">48.9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">39</td>
<td style="text-align: left;">1998-10-03</td>
<td style="text-align: right;">49.7</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: left;">2001-11-10</td>
<td style="text-align: right;">50.7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: left;">2004-10-09</td>
<td style="text-align: right;">51.7</td>
</tr>
<tr class="even">
<td style="text-align: right;">42</td>
<td style="text-align: left;">2007-11-24</td>
<td style="text-align: right;">51.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">43</td>
<td style="text-align: left;">2010-08-21</td>
<td style="text-align: right;">51.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">44</td>
<td style="text-align: left;">2013-09-07</td>
<td style="text-align: right;">50.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">45</td>
<td style="text-align: left;">2016-07-02</td>
<td style="text-align: right;">50.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">46</td>
<td style="text-align: left;">2019-05-18</td>
<td style="text-align: right;">51.7</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1">average_age_by_election <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb29-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> first_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> average_age_in_years)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb29-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb29-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>,</span>
<span id="cb29-5">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average age (years)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb29-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb29-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>) </span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2021-12-02-average_age_of_australian_politicians/average_age_of_parliaments_files/figure-html/othergraph-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Average age in the Australian Federal Parliament, by election period</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="compare-with-average-age" class="level3">
<h3 class="anchored" data-anchor-id="compare-with-average-age">Compare with average age</h3>
<p>To get a sense of whether the parliament is unusual we need know what is happening the broader population over this time. Fortunately, I know someone who is fairly handy when it comes to demography who can help.<sup>3</sup></p>
<p>Although it’s going to average over elections, which we’ve seen is a big source of variation, we can create an average age for each year, and then compare that against data from the Australian Bureau of Statistics (ABS). The ABS provides an estimate of historical population statistics in 3105.0.65.001 - Australian Historical Population Statistics, 2016, which was released in 2019. I want the second data cube - 2 - Population Age and Sex Structure - and within that I want Table 2.18 - Median age by sex, states and territories, 30 June, 1861 onwards.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb30-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(janitor)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1">ABS_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3105065001ds0002_2019.xls"</span>, </span>
<span id="cb33-2">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sheet =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Table 2.18"</span>,</span>
<span id="cb33-3">                       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb33-4">  janitor<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">clean_names</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb33-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">area_and_type =</span> x1,) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb33-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>x1861, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>x1870, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>x1871, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>x1881, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>x1891)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1">ABS_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb35-2">  ABS_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb35-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">type =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(area_and_type <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Males"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Females"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Persons"</span>), area_and_type, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>),</span>
<span id="cb35-4">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">area_and_type =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(type), area_and_type, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb35-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(area_and_type, type, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">everything</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb35-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fill</span>(area_and_type, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.direction =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"down"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb35-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">area_and_type =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(area_and_type, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">(f</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">(g</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">)"</span>))</span>
<span id="cb35-8"></span>
<span id="cb35-9">ABS_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb35-10">  ABS_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>  </span>
<span id="cb35-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(area_and_type <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Australia"</span>,</span>
<span id="cb35-12">         type <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Persons"</span>)</span>
<span id="cb35-13"></span>
<span id="cb35-14">ABS_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb35-15">  ABS_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb35-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">starts_with</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span>),</span>
<span id="cb35-17">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"year"</span>,</span>
<span id="cb35-18">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"median"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb35-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span>),</span>
<span id="cb35-20">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(year)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb35-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">area =</span> area_and_type)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1">average_age_by_year <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb36-2">  politicians_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb36-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">year</span>(date)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">age_as_at_that_date =</span> age_as_at_that_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ddays</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This just </span></span>
<span id="cb36-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># converts it into a days count</span></span>
<span id="cb36-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(year) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_age =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">median</span>(age_as_at_that_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">average_age_in_years =</span> average_age<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb36-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ungroup</span>() </span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1">average_age_by_year <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb37-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(ABS_data, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"year"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb37-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(year, average_age_in_years, median) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb37-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Politicians =</span> average_age_in_years,</span>
<span id="cb37-5">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Overall =</span> median) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb37-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(Politicians, Overall), </span>
<span id="cb37-7">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"population"</span>,</span>
<span id="cb37-8">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"median"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb37-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> median, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> population)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb37-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb37-11">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># geom_smooth() +</span></span>
<span id="cb37-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_classic</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb37-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_color_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb37-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>,</span>
<span id="cb37-15">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Median age (years)"</span>,</span>
<span id="cb37-16">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Population"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 23 rows containing missing values
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2021-12-02-average_age_of_australian_politicians/average_age_of_parliaments_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding remarks</h2>
<p>I’ve had a brief look at the average age of politicians in the Australian Parliament. In general, I’ve found that they’re older than the general population, and that there’s a lot of variation.</p>
<p>More generally, I’ve shown one of the advantages of putting data onto GitHub, and wrapping that in an R Package where possible. If you don’t like my analysis then you can grab the data yourself and play around with it!</p>
<p>As I mentioned at the top, <a href="https://florencevdubois.github.io">Florence Vallée-Dubois</a> does a lot more of this type of work in her thesis ‘Growing old : Population ageing and democratic representation in Canada’ where she looks at ‘whether the social changes brought about by population ageing also have implications for electoral politics and democratic representation.’ There’s probably a lot of similar work that could be done for Australia.</p>
</section>



<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Thanks very much to Ben Readshaw and Florence Vallée-Dubois for motivating this note, and to Monica Alexander for her thoughtful comments.</p>



</div></section><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-citeaustralianpoltiicaisn" class="csl-entry">
Alexander, Rohan, and Paul A. Hodgetts. 2021. <em>AustralianPoliticians: Provides Datasets about Australian Politicians</em>. <a href="https://CRAN.R-project.org/package=AustralianPoliticians">https://CRAN.R-project.org/package=AustralianPoliticians</a>.
</div>
<div id="ref-citedistill" class="csl-entry">
Allaire, JJ, Rich Iannone, Alison Presmanes Hill, and Yihui Xie. 2021. <em>Distill: ’R Markdown’ Format for Scientific and Technical Writing</em>. <a href="https://CRAN.R-project.org/package=distill">https://CRAN.R-project.org/package=distill</a>.
</div>
<div id="ref-citeLubridate" class="csl-entry">
Grolemund, Garrett, and Hadley Wickham. 2011. <span>“Dates and Times Made Easy with <span class="nocase">lubridate</span>.”</span> <em>Journal of Statistical Software</em> 40 (3): 1–25. <a href="https://www.jstatsoft.org/v40/i03/">https://www.jstatsoft.org/v40/i03/</a>.
</div>
<div id="ref-citeR" class="csl-entry">
R Core Team. 2020. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-citeTidyverse" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-citeKnitr" class="csl-entry">
Xie, Yihui. 2020. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in r</em>. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Monica Alexander uses an early version of this dataset to look at the average age of death of Australian politicians: https://www.monicaalexander.com/posts/2019-08-09-australian_politicians/.↩︎</p></li>
<li id="fn2"><p>There are a handful of politicians who sat in the parliament, but were never elected - when the first parliament sat, there were initially some who were just appointed, and never went on to seek election. Conversely, there is one politician - Heather Hill - who was elected, but whose election was reversed before she could take her seat. While she never served in either house, she is included in the dataset for purposes of being able to link it to the elections dataset. However she is not included in the number of Australian politicians.↩︎</p></li>
<li id="fn3"><p>If you’re interested in this sort of thing, then a PhD with <a href="https://www.monicaalexander.com">Monica Alexander</a> is probably the way to go.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-12-02-average_age_of_australian_politicians/average_age_of_parliaments.html</guid>
  <pubDate>Thu, 02 Dec 2021 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Review of ‘Data Science: A First Introduction’</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-11-30-review_of_timbers/timbers_review.html</link>
  <description><![CDATA[ 




<p>“Data Science: A First Introduction” by Tiffany-Anne Timbers, Trevor Campbell, and Melissa Lee from University of British Columbia’s Department of Statistics is the first-year data science textbook by which all others will be judged. It is a kind, yet rigorous, textbook that provides a foundation on which students can quickly answer exciting questions. One can imagine the authors saying to a new student ‘I’ve spent my life learning all this exciting stuff, and I can’t wait to share it with you’.</p>
<p>The book is effectively divided into three parts: the first four chapters focus on data; the next six chapters go through statistical methods; and the final three brief chapters introduce tools such as Jupyter, version control, and local installation.</p>
<p>Chapter 1 focuses on R and the <code>tidyverse</code> and is based around a dataset of languages spoken in Canada. It introduces key verbs, such as <code>filter</code>, <code>select</code>, <code>arrange</code>, and <code>slice</code>, as well as <code>ggplot2</code>. Chapter 2 covers how to get data into R; initially using CSV and TSV files, but then turning to SQL. This early focus on SQL (starting at p.&nbsp;41) is a key feature of this book, and one that will pay dividends for students as they progress with subsequent courses. This chapter again uses the Canadian languages dataset. Chapter 3 focuses on cleaning and wrangling data within the tidy data framework. Key verbs including <code>mutate</code>, <code>summarize</code>, <code>map</code>, <code>pivot_wider</code>, and <code>pivot_longer</code> are introduced in this chapter, as is the base pipe operator <code>|&gt;</code>. This example of the authors’ decision to use the latest innovation, is reflected throughout the book in many other choices. The chapter uses a dataset of Canadian city populations and the Canadian languages dataset. Chapter 4 focuses on data visualization with <code>ggplot2</code>, especially scatter plots, line plots, bar plots, histograms, and how to improve on the default plots. The chapter uses the Old Faithful eruptions dataset and the Michelson’s speed of light dataset. The pages in this chapter that tell students how to explain a visualization (pp.&nbsp;168-169) are an absolute treat.</p>
<p>Chapters 5 through to 10 focus on statistical methods. Chapters 5 and 6 are focused on classification, firstly introducing K-nearest neighbors, and then using this to introduce <code>tidymodels</code> and data preprocessing, which Chapter 6 then builds on to focus on test and training datasets, evaluation, and tuning, including lovely discussions of pre-processing and cross-validation. These chapters use the breast cancer dataset. There is a very nice discussion of what it means to be ‘good’ when it comes to accuracy on p.&nbsp;224. Chapter 7 introduces regression using K-nearest neighbors and discusses underfitting and overfitting. It uses a real estate dataset from Sacramento. Chapter 8 turns to classical linear regression including simple and multivariable. There is some discussion of multicollinearity and outliers as well as prediction. This chapter again uses the Sacramento real estate dataset. Chapter 9 focuses on clustering within the context of K-means, including thorough discussions of how it all works, and some of the limitations. It uses the Palmer Penguins dataset. Finally, Chapter 10 discusses statistical inference, and sampling, including a lovely treatment of bootstrapping. It uses a dataset from Airbnb.</p>
<p>Chapters 11 through to 13 focus on tools. Chapter 11 introduces Jupyter including execution and markdown. Chapter 12 introduces version control and GitHub, covering not just commit, push, and pull, but also dealing with GitHub PATs, cloning, and collaboration including merge conflicts. Finally, Chapter 13 briefly covers installing all this locally, on the assumption that the reader to this point has been able to use a cloud solution that was already set-up for them.</p>
<p>To a certain extent data science textbooks are playing catch-up: we’ve long had methods texts in discipline-specific areas, but data sciences today is largely following demand from research/industry to move these methods into other areas – what discipline at a university covers real estate pricing? Into that void, Timbers, Campbell, and Lee, is the standard by which all other introductory data science textbooks will be judged. It is a rare immediate addition to the pantheon of introductory data science textbooks released (or updated) in the past five years, taking its place alongside R4DS, ISLR, and Statistical Rethinking. It introduces data science in a way that specifies exactly what a student needs and anticipates many of their questions. Its content will represent table stakes in terms of what we expect of students after they take first-year classes.</p>
<p>I made it 10 per cent of the way through Timbers et al before I learnt something new. Frankly I was surprised I made it so far. Data science pedagogy has been so disjoint and so many of us are self-taught that it is refreshing to have a class-room-tested textbook that is focused on workflows and reproducibility. The approaches are rigorous and opinionated, and the text is filled with kindness and warmth. It is the book that I wish I had when I first came to learn this material. The book is unashamedly focused on the newest innovations including <code>tidymodels</code> and the native pipe operator, and I soon found myself learning things, on average, at roughly one-thing-per-page, which was an exciting experience for someone who spends his days doing and teaching data science in R. This is a text that I can see myself coming back to regularly, not just in my teaching, but as a reference. I am hopeful that the authors will go on to write “Data Science”, and “Advanced Data Science”, without too much delay!</p>
<p>I mentioned kindness and warmth earlier, but it permeates the book. And there are many sections that proactively address questions that new students often have. For instance, p.&nbsp;11 when a dataset is assigned to a name, the authors acknowledge how perplexing it can be to a student that nothing happens. Pleasingly the authors place reproducibility front-and-center of data science. For instance, the use of seeds is emphasised throughout the text, as is the importance of code that others can run.</p>
<p>There is extensive use of ‘Notes’ to separate more reflective content. One can imagine many of these are the result of the countless hours the authors have spent teaching this material. More generally, all aspects are clearly explained and built-up slowly. Chapter 3, which focuses on tidy data, is a particularly strong example of this. The text places potential research questions throughout, which may help retain student interest throughout.</p>
<p>While it’s clear that I think the book is great, there are a few areas there I wish they had expanded on a little. For instance, on p.&nbsp;3 Timbers et al say ‘when you work with data, it is essential to think about how the data were collected, which affects the conclusions you can draw. If your data are biased, then you results will be biased.’ But there is not much coverage of this throughout the book. I wonder if subsequent editions of this book could consider more explicit coverage of ethics especially around data collection, following say, D’Ignazio and Klein <em>Data Feminism</em>, and also around applications of these methods, following say, O’Neil <em>Weapons of Math Destruction</em>? Similarly, it may make sense to introduce sampling concepts alongside data collection.</p>
<p>A free version of the textbook is available here: https://ubc-dsci.github.io/introduction-to-datascience/ and it is forthcoming from CRC Press. When it’s available I’d recommend that everyone buy it and assign it in their classes.</p>


<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>I was provided with a PDF version of the book for the purposes of writing a blurb. There are no other financial disclosures. I printed and bound it at my own expense. At my invitation Timbers has previously spoken at an event—Toronto Workshop on Reproducibility—that I organized earlier this year.</p>


</div></section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-11-30-review_of_timbers/timbers_review.html</guid>
  <pubDate>Tue, 30 Nov 2021 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Remarks at Trinity College</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-10-19-trinity_remarks/trinity_remarks.html</link>
  <description><![CDATA[ 




<p>The slides are <a href="https://rohanalexander.com/pdfs/trinity_college_remarks.pdf">here</a>.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Hi, my name is Rohan Alexander. I’m an assistant professor in the Faculty of Information and the Department of Statistical Sciences at the University of Toronto. I’d like to thank Academic Don, Statistics, Manmeet Sangha for the invitation to talk today at Trinity College.</p>
<p>When I asked the undergraduate students that I work with who was associated with ‘Trin’, it was no surprise to me that the college was well represented among the strongest ones. ‘Trinnies’ have a well-deserved reputation for academic excellence and the number of people that have shown up for this event speaks to how that tradition continues even under trying circumstances.</p>
<p>I’ve only got 5 minutes, so I’d like to touch on just two aspects:</p>
<ul>
<li>An example of what I do in data science.</li>
<li>Some steps to get started in data science.</li>
</ul>
</section>
<section id="what-i-do-in-data-science" class="level2">
<h2 class="anchored" data-anchor-id="what-i-do-in-data-science">What I do in data science</h2>
<p>There is no agreed definition of data science, but an informal one is: ‘humans measuring stuff, typically related to other humans, and using sophisticated averaging to explain and predict’.</p>
<p>I like that definition because it does not treat data as terra nullius, or nobody’s land. Data must be gathered, cleaned, and prepared, and these decisions matter. Every dataset is sui generis, or a class by itself.</p>
<p>A lot of what my research does is try to understand the specific nuances of specific datasets, especially in terms of who is included in them, and who is not, and understand how this affects inference.</p>
<p>One example of this is natural language processing. There we use really big models, built on a lot of data, to generate text. To make sure everyone knows what that means, here’s a model that has two parameters: <img src="https://latex.codecogs.com/png.latex?y%20=%20x1%20+%20x2">. And is trained on 5 rows of data.</p>
<p>OpenAI’s GPT-3 has 175 billion parameters and was trained on essentially the whole internet. I’ll do a quick demonstration of asking it: “What is Trinity College, Toronto?”, “Which famous person went to Trinity College, Toronto?”</p>
<p>[Live demo]</p>
<p>GPT-3, like any language model, can generate racist/sexist text. With a student I recently used it to see whether its ability to generate racist/sexist text, also meant that it could recognize racist/sexist text and explain what made it racist/sexist. The results were disappointing and lead to a variety of conclusions, including the fact that we need to do a better job of putting together the enormous datasets that underpin these models.</p>
</section>
<section id="some-steps-to-get-started-in-data-science" class="level2">
<h2 class="anchored" data-anchor-id="some-steps-to-get-started-in-data-science">Some steps to get started in data science</h2>
<p>One way to contribute in data science is to be at the intersection of two areas. Typically statistics and something else. Then you need to immerse yourself in the data. One of the most successful ‘Trinnies’ - Michael Ignatieff (IG-NAH-TEE-UHF) - says about politics that</p>
<blockquote class="blockquote">
<p>The grind of politics, the endless travel, the meetings, the impossible schedule, the constant being on show are all in search of an authority that can be acquired in no other way. You have to learn the country.</p>
</blockquote>
<p>And it’s the same in data science - you need to become an expert in some dataset by doing the grinding, endless, impossible schlep to understand it. Only then can you even begin to consider inference and prediction.</p>
<p>A lot of what you do in class is play house; when what you need to do is actually build something. One thing that helped me in this regard was getting to work with professors.</p>
<p>So how do you get to work with a professor? There’s an easy answer, which I expect is relevant for many ‘Trinnies’, and that’s to just to get an A+ in their class. But more generally, you should send an email that demonstrates that you’ve got:</p>
<ul>
<li>an interest; and</li>
<li>some skills.</li>
</ul>
<p>For instance, these days a lot of papers in the fields that I’m interested in need some type of R package to go alongside them, and it can be hard to find students who can do this. If a student emailed having made an R package, that would demonstrate a lot of interest and skills, and it would be clear how I could involve them. There’s an enormous difference between a student who emails claiming to know R, and a student who emails a link to a GitHub repo that demonstrates it.</p>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding remarks</h2>
<p>Thank you very much to Manmeet for the invitation to be on this panel. It’s a great honour to be here, alongside my colleagues - Sam, Emma, and Morris - and one of my bosses - Helen! Very much looking forward to the discussion.</p>


</section>

 ]]></description>
  <guid>https://rohanalexander.com/posts/2021-10-19-trinity_remarks/trinity_remarks.html</guid>
  <pubDate>Tue, 19 Oct 2021 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Introduction to Andrew Gelman</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-09-17-andrew-gelman-dsi-intro/andrew_gelman_intro.html</link>
  <description><![CDATA[ 




<p>The slides are <a href="https://rohanalexander.com/pdfs/dsi_gelman_intro.pdf">here</a>.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Hi, my name is Rohan Alexander. I’m an assistant professor jointly across Information and Statistical Sciences. I’m also the Assistant Director of the Canadian Statistical Sciences Institute (CANSSI), Ontario, which strengthens research and training in data science. And in that capacity it is a pleasure to introduce our next speaker, Andrew Gelman.</p>
</section>
<section id="andrew-gelman" class="level2">
<h2 class="anchored" data-anchor-id="andrew-gelman">Andrew Gelman</h2>
<p>Andrew Gelman is Higgins Professor of Statistics and Professor of Political Science at Columbia University. He believes ‘the #1 neglected topic in statistics is measurement’</p>
</section>
<section id="rent" class="level2">
<h2 class="anchored" data-anchor-id="rent">Rent</h2>
<p>And so, with apologies to Rent, how should we measure his career? With blog posts? With papers? With software? With cups of coffee? With books? Or by the others who relied?</p>
<p>I’ve been unable to verify his coffee consumption, but by any other measure, Andrew Gelman, puts most to shame.</p>
</section>
<section id="books" class="level2">
<h2 class="anchored" data-anchor-id="books">Books</h2>
<p>He has published many books and I’ll just touch on two.</p>
<p>With co-authors, his foundational Bayesian statistics textbook—<em>Bayesian Data Analysis</em>—was first published in 1995. It has been cited something like 30,000 times. And now on its 3rd edition, it is the basis for many foundational courses on Bayesian statistics.</p>
<p>A more applied textbook, co-authored with Jennifer Hill—<em>Data Analysis using Regression and Multilevel Models</em>—was published in 2006. That book has been cited something like 14,000 times, and forms the foundation for many applied statistics courses.</p>
<p>My wife, Monica, is an assistant professor jointly in statistical sciences and sociology, and in my household these are known, respectively, as the Old and New Testament.</p>
</section>
<section id="blog" class="level2">
<h2 class="anchored" data-anchor-id="blog">Blog</h2>
<p>Gelman’s blog—Statistical Modeling, Causal Inference, and Social Science—launched in 2004—is the go-to place for a fun mix of somewhat-nerdy statistics-focused content. The very first post promised to ‘…report on recent research and ongoing half-baked ideas, including … Bayesian statistics, multilevel modeling, causal inference, and political science.’ 17 years on, the site has very much kept its promise.</p>
</section>
<section id="reproducibility" class="level2">
<h2 class="anchored" data-anchor-id="reproducibility">Reproducibility</h2>
<p>One thing the blog does is enable Gelman to make contributions and influence debate in a way that isn’t possible in papers or books. For instance, it enables him to share short snippets of code, explain how he approaches problems, and sketch solutions.</p>
<p>Gelman’s blog is where he’s done a lot of writing about reproducibility—one of the DSI’s Thematic Programs. Arguably Andrew’s blog posts brought the replication crisis that enveloped social sciences to the fore. A lot of my colleagues now push reproducibility; both in their teaching and in their research. And that’s in large part because we intellectually grew up reading Gelman’s blog posts about it.</p>
</section>
<section id="papers" class="level2">
<h2 class="anchored" data-anchor-id="papers">Papers</h2>
<p>By any measure, Andrew Gelman is a prolific author of papers, with something like 400 based on a recent count. My favourite of these is affectionately known as ‘the XBox paper’ which was published in 2015.</p>
<p>These days the statistical approach that underpinned that paper—multilevel regression with post-stratification or MRP—is used by almost every major polling company to some extent. And teams of undergraduates at the UofT used MRP to correctly forecast a Biden victory last year. If you’re interested in learning more about MRP, Andrew Gelman, Lauren Kennedy and I are putting together a book about MRP that is forthcoming with Cambridge University Press next year.</p>
</section>
<section id="stan" class="level2">
<h2 class="anchored" data-anchor-id="stan">Stan</h2>
<p>Andrew was foundational in the development of Stan - a probabilistic programming language, which has become the predominant way to implement Bayesian models.</p>
<p>Funnily enough the origin of Stan is that Gelman was trying to expand on some of the models in his book with Jennifer Hill that I mentioned earlier. He found that the software was struggling to do it. With co-authors he found that a change in the way random samples were obtained worked well, especially when combined with a few other innovations. One thing led to another, and a revolution in scientific computing ensued.</p>
</section>
<section id="impact-on-others" class="level2">
<h2 class="anchored" data-anchor-id="impact-on-others">Impact on others</h2>
<p>Andrew Gelman is someone who has made incredible contributions in a range of data science and perfectly characterises what we’re trying to do with this Data Sciences Institute. To this point, I’ve stuck with things that are relatively easy to measure. Following the spirit of our guest, I’d like to close with something less easy to measure; and that is, the impact on others.</p>
<p>In my own case, I wouldn’t be speaking here today if it weren’t for Andrew: I learnt statistics from his books, his XBox paper gave my career purpose, I copy-paste his code most days, his blog provided me with a community, and from his example I learnt the type of academic I wanted to be.</p>
<p>And when I asked a few others it seems that feeling was unanimous.</p>
<blockquote class="blockquote">
<p>His blog made me realise that there is a place for people like me, that is, people who want to do good applied stats on interesting social problems. This and reading Gelman Hill influenced my decision to go to grad school.</p>
<p>Monica Alexander</p>
</blockquote>
<blockquote class="blockquote">
<p>Andrew provided a voice that cut through the often confusing and rule based interpretation of statistics to instead provide an interpretation that is reason based. This represented a turning point for me in the way I understood existing statistical problems and rationalised about new challenges.</p>
<p>Lauren Kennedy</p>
</blockquote>
<blockquote class="blockquote">
<p>His class (and writing) showed me the connections between statistics, science, and philosophy and gave me a language through which to express my frustrations with the ways that data is tortured. I particularly appreciated his emphasis that “stats is hard” and it’s OK to make mistakes as long as you learn from them!</p>
<p>James Doss-Gollin</p>
</blockquote>
<blockquote class="blockquote">
<p>Working in government and politics, I channel Andy, both as a statistician and as a teammate. I quote insights from his books, papers, and blog posts. I learn from his humor, openness about being confused, and commitment to doing the right thing.</p>
<p>Shira Mitchell</p>
</blockquote>
<blockquote class="blockquote">
<p>Andrew’s my Obi-Wan-Kenobi.</p>
<p>Bob Carpenter</p>
</blockquote>
<blockquote class="blockquote">
<p>Andrew’s blog made me aware of the shortcomings in my training and research, and gave me motivation to improve. It also gave me the motivation to get out of projects that could become posts in the Zombies category.</p>
<p>Marta Kołczyńska</p>
</blockquote>
<blockquote class="blockquote">
<p>Here’s something that I really appreciate about Andrew and isn’t common enough in academia: if you do good work Andrew will want to work with you (even hire you) regardless of your credentials.</p>
<p>Jonah S Gabry</p>
</blockquote>
<blockquote class="blockquote">
<p>My conception of what good research was - what kind of research I wanted to be doing - completely changed when I read Andrew’s paper on the garden of forking paths. It was one of the main reasons I decided to go back to school for a degree in statistics, and it’s deeply influenced the way I try to do research and the research practices I advocate for at my workplace. Since that paper came out in 2013 I’ve been a dedicated reader of his blog, and his posts have made me fundamentally rethink the way I do research an embarrassing number of times - and they continue to motivate me to try to do careful and thoughtful work.</p>
<p>Isaac Maddow-Zimet</p>
</blockquote>
<p>So it’s a very warm virtual welcome to Toronto, Professor Andrew Gelman. Thank you for everything you’ve done for data science, and thank you for helping us to launch our Data Sciences Institute.</p>
</section>


<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Thank you very much to Monica Alexander, and members of my research group, for reading a draft of this. And to Jonah Gabry for the Stan historical background. And thank you to Isaac, Jonah, Marta, Bob, Shira, James, Lauren, and Monica for providing quotes.</p>


</div></section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-09-17-andrew-gelman-dsi-intro/andrew_gelman_intro.html</guid>
  <pubDate>Fri, 17 Sep 2021 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Turning our world into data</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-07-06-turning-our-world-into-data/turning-our-world-into-data.html</link>
  <description><![CDATA[ 




<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Hi, I’d like to thank Jesse Gronsbell for letting me talk today. My name is Rohan Alexander, and I’m an assistant professor in the Faculty of Information and the Department of Statistical Sciences at the University of Toronto.</p>
<p>Professor Gronsbell is also a professor in Statistical Sciences, but that’s about where my comparison with Jesse ends. Jesse works on a wide range of biostatistics problems, using classical statistical techniques to solve new problems, especially with large observational health data sets such as electronic health records. It’s a privilege to get to call her a colleague in data science.</p>
<p>I’m just someone who likes to play with data using the statistical programming language R <span class="citation" data-cites="citeR">(R Core Team 2020)</span>. And the nice thing about what we now call data science is that there’s space for both of us. And there’s space for you as well.</p>
</section>
<section id="my-path-to-data-science" class="level2">
<h2 class="anchored" data-anchor-id="my-path-to-data-science">My path to data science</h2>
<p>I’m 34 and so I’m in the ‘data science didn’t exist when I was an undergrad’ generation. Most of you are about 17, or about half my age. When I was 17, I wasn’t thinking about data science summer camps nor self-driving cars, so it’s commendable that you’re already so advanced.</p>
<p>When I was 17 I just went to uni and studied economics, because that’s what my friends were doing. Luckily, I had some terrific mentors including Rabee Tourkey, Flavio Menezes, and Leo Yanes, and what they did was give broad instructions then get out of the way and check in weekly. While I don’t think I delivered anything of value to them, that experience of working directly with professors was formative for me.</p>
<p>One day I was in the library with a friend, and I wanted to go to the pub, but my friend insisted I wait until he’d applied for an internship at the Reserve Bank of Australia (RBA). I didn’t want to go to the pub without him, so I applied for that internship as well while I was waiting.</p>
<p>Be careful who you make friends with because the result was that after uni I worked for a bit at the RBA, which is Australia’s central bank (think: Fed Reserve) and that was great because I learnt about just how vital communication—both written and speaking—is. (My friend didn’t get the internship, but he ended up at Goldman Sachs, so he’s doing just fine.) And also, about navigating a traditional workplace.</p>
<p>After that I started a business with some friends because that was what I was doing when I wasn’t at work, and it seemed to make sense to make that my actual job. And that start-up was great because I learnt about strategy, tactics, execution, teamwork, and leadership; all the stuff that traditional workplaces don’t let junior analysts worry about</p>
</section>
<section id="why-data-science-is-exciting" class="level2">
<h2 class="anchored" data-anchor-id="why-data-science-is-exciting">Why data science is exciting</h2>
<p>I’d like to come back to that earlier point—that data science didn’t exist when I was 17—because it may imply that one should not just be making decisions that optimize for what data science looks like right now, but also what could happen. While that’s a little difficult, that’s also one of the things that makes data science so exciting. As a 17-year-old that might mean choices like:</p>
<ol type="1">
<li>taking courses on fundamentals, not just fashionable applications;</li>
<li>reading books, not just whatever is trending on Hacker News; and</li>
<li>trying to be at the intersection of at least a few different areas, rather than hyper-specialized.</li>
</ol>
<p>When that start-up finished, I started a PhD. My PhD is actually in economic history, so if I had my way, I’d spend my time in dusty, beautiful libraries reading old books and drinking coffee in the morning, and then writing code and drinking wine in the afternoon. Your library at Harvard is very nice, but not quite dusty enough for me, and you’re not allowed wine in there. The Faculty of Information, which is one of my appointments, originally existed to train librarians, so these days I get an office in a library, which is great, and my role is ‘human centered data science’, so it’s very much the best of both worlds. I get to turn our world into data, analyse it, and get paid to do it!</p>
<p>I spent most of my PhD trying to deal with big text datasets. And when I say ‘dealing’ I mean using R to clean and tidy them, which was the work of years. My supervisors—John Tang, Tim Hatton, Martine Mariotti, and Zach Ward—gave me the freedom to do what I wanted, again with regular weekly meetings. It’s not a topic that traditionally would have been appropriate, and I’m grateful they gave me the space because traditional economics is not for me, but data science is. And I hope that you also consider that it could be for you.</p>
</section>
<section id="what-data-science-means-to-me" class="level2">
<h2 class="anchored" data-anchor-id="what-data-science-means-to-me">What data science means to me</h2>
<p>What is data science? There’s not one agreed on definition, but a lot of people have tried. My other appointment is in the Department of Statistical Sciences, and my boss there says <span class="citation" data-cites="Craiu2019Hiring">(Craiu 2019)</span>:</p>
<blockquote class="blockquote">
<p>This unsureness isn’t necessarily the weakness many consider it. After all, who can really say what makes someone a poet or a scientist? Even so, some things can be said. In broad strokes, … someone with a data driven research agenda, who adheres to or aspires to using a principled implementation of statistical methods and uses efficient computation skills.</p>
</blockquote>
<p>I like this definition, but I also think there’s value in having a simple definition, even if we lose a bit of specificity in the process. Probability, which is related to statistics, is often informally defined as ‘counting things’ <span class="citation" data-cites="mcelreath">(McElreath 2020, 10)</span>. In a similar informal sense, I’m currently playing around with a definition of data science that is something like ‘measuring stuff and averaging it, with purpose’.</p>
<p>One reason that I like this definition is that it doesn’t treat data as <em>terra nullius</em>, or nobody’s land. Statisticians tend to see data as the result of some data generating process, which we can never know, but that we try to use data to come to understand. I’m oversimplifying here, and many statisticians care deeply about data, but at the same time, there’s a lot of cases in statistics where the data kind of just appear; they belong to no one. But that’s just never the case.</p>
<p>Data have to be gathered, cleaned, and prepared, and these decisions matter <span class="citation" data-cites="huntington2021influence">(Huntington-Klein et al. 2021)</span>. I’ve come to believe that every dataset is <em>sui generis</em>, or in a class by itself, and so when you come to know one dataset really well, you just know one dataset, not all datasets.</p>
<p>During this data science camp, you’re going to be exposed to an awful lot of ‘science’. I’d like to spend a little more time in defence of ‘data’. And that’s another reason that I like my definition. I argue that the most important word in ‘data science’ is ‘data’ and would love to convince you of it.</p>
<p>I’ll take an example from <span class="citation" data-cites="Jordan2019Artificial">Jordan (2019)</span> where he talks about being in a medical office and being given some probability, based on prenatal screening, that his child, then a fetus, had Down syndrome. By way of background, you can decide to test to know for sure, but that test comes with the risk of the fetus not surviving, so this initial screening probability matters. <span class="citation" data-cites="Jordan2019Artificial">Jordan (2019)</span> describes how he found those probabilities were determined by a study done a decade earlier in the UK. The issue was that in the ensuing 10 years, imaging technology had improved so the test wasn’t expecting such high-resolution images and there had been a subsequent (false) increase in Down syndrome diagnoses when the images improved. There was no problem with the science here, it was the data that were the issue.</p>
</section>
<section id="tips-for-students" class="level2">
<h2 class="anchored" data-anchor-id="tips-for-students">Tips for students</h2>
<p>In my opinion, we are realising that it’s not just the ‘science’ bit that’s hard, it’s the ‘data’ bit as well. For instance, researchers went back and examined one of the most popular text datasets in computer science, and they found that around 30 per cent of the data were inappropriately duplicated <span class="citation" data-cites="bandy2021addressing">(Bandy and Vincent 2021)</span>. There’s a lot of people who could have told the computer scientists that those datasets would have big problems; there’s an entire field—linguistics—that specialises in this stuff. And this is one of the dangers of any one field being hegemonic, and why it’s important that you don’t specialise too early. Instead, pick at least two different areas, learn how the ‘insiders’ speak in each, and then be the person that translates between them.</p>
<p>Data science needs diversity. And it’s one reason that I’m excited to see you all here with your variety of skills and backgrounds—we need you in our research labs. We need your intelligence and enthusiasm. We need you to be in the room making contributions. And I think, just like me, that working directly with professors would be formative and enjoyable for you. I hope you’re lucky enough, like me, to be given the space to find what types of projects you’re intrinsically interested in, because then everything just becomes a lot easier.</p>
<p>How do you push down the door and work with professors? I was very lucky and it was a lot easier for me to get opportunities than it is for you, because there were fewer of us. But basically, what I think you should do is show a professor that you’ve got:</p>
<ol type="a">
<li>an interest; and</li>
<li>some skills.</li>
</ol>
<p>One way to do this is through demonstrating your interest in coding and the data science skills that you’re developing at this camp. For instance, these days a lot of papers in the fields that I’m interested in need some type of R package to go alongside them, and it can be hard to find students who can do this. If a student emailed having made an R package, that would show a lot of interest and skills, and it would be clear how I could involve them. Another thing that is increasingly needed is a datasheet <span class="citation" data-cites="gebru2020datasheets">(Gebru et al. 2020)</span>. So again, you could put together documentation for a dataset and email that. Again, it shows that you’ve got a genuine interest and that you’ve got a base of skills that would enable you to be useful.</p>
<p>Thanks very much for letting me speak. I know that everyone says this to you, and with apologies to Olivia Rodrigo, but being 17 is just such an exciting time of one’s life, and I’m glad to see that you’re making the most of it. One seems to go straight from being the youngest in the room to being the oldest, without any middle. And, just so that you know, you kind of never work life out— everyone is just making it up as they go.</p>
<p>I’d be happy to take any questions.</p>
</section>


<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Thank you very much to Monica for reading a draft of this.</p>



</div></section><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-bandy2021addressing" class="csl-entry">
Bandy, Jack, and Nicholas Vincent. 2021. <span>“Addressing "Documentation Debt" in Machine Learning Research: A Retrospective Datasheet for BookCorpus.”</span> <a href="https://arxiv.org/abs/2105.05241">https://arxiv.org/abs/2105.05241</a>.
</div>
<div id="ref-Craiu2019Hiring" class="csl-entry">
Craiu, Radu V. 2019. <span>“The Hiring Gambit: In Search of the Twofer Data Scientist.”</span> <em>Harvard Data Science Review</em> 1 (1). <a href="https://doi.org/10.1162/99608f92.440445cb">https://doi.org/10.1162/99608f92.440445cb</a>.
</div>
<div id="ref-gebru2020datasheets" class="csl-entry">
Gebru, Timnit, Jamie Morgenstern, Briana Vecchione, Jennifer Wortman Vaughan, Hanna Wallach, Hal Daumé III au2, and Kate Crawford. 2020. <span>“Datasheets for Datasets.”</span> <a href="https://arxiv.org/abs/1803.09010">https://arxiv.org/abs/1803.09010</a>.
</div>
<div id="ref-huntington2021influence" class="csl-entry">
Huntington-Klein, Nick, Andreu Arenas, Emily Beam, Marco Bertoni, Jeffrey R Bloem, Pralhad Burli, Naibin Chen, et al. 2021. <span>“The Influence of Hidden Researcher Decisions in Applied Microeconomics.”</span> <em>Economic Inquiry</em>.
</div>
<div id="ref-Jordan2019Artificial" class="csl-entry">
Jordan, Michael I. 2019. <span>“Artificial Intelligence—the Revolution Hasn’t Happened Yet.”</span> <em>Harvard Data Science Review</em> 1 (1). <a href="https://doi.org/10.1162/99608f92.f06c6e61">https://doi.org/10.1162/99608f92.f06c6e61</a>.
</div>
<div id="ref-mcelreath" class="csl-entry">
McElreath, Richard. 2020. <em>Statistical Rethinking</em>. CRC Press.
</div>
<div id="ref-citeR" class="csl-entry">
R Core Team. 2020. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
</div></section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-07-06-turning-our-world-into-data/turning-our-world-into-data.html</guid>
  <pubDate>Tue, 06 Jul 2021 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Opportunities Provided by Open Data and Reproducibility</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-05-22-baby-steps/baby-steps.html</link>
  <description><![CDATA[ 




<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Hi, my name is Rohan Alexander. Thank you very much to Gwen and Josh for the opportunity to speak. I’m a baby professor at the University of Toronto, in the Faculty of Information and the Department of Statistical Sciences. Today I would like to talk about taking some baby steps toward open data and reproducibility. And in particular the opportunities provided by open data and reproducibility across applied statistics and astronomy.</p>
<p>I’d like to talk about three benefits of openness and reproducibility:</p>
<ol type="1">
<li>improved diversity broadly;</li>
<li>improving your own (future) life; and</li>
<li>building on-ramps for your collaborators.</li>
</ol>
<p>And then three baby steps that you could get started with this afternoon:</p>
<ol type="1">
<li>buy a bunch of notebooks;</li>
<li>write a datasheet; and</li>
<li>make a software package.</li>
</ol>
</section>
<section id="three-benefits" class="level2">
<h2 class="anchored" data-anchor-id="three-benefits">Three benefits</h2>
<p>By way of background, <span class="citation" data-cites="monicasrostockreprotalk">M. Alexander (2019)</span> says ‘research is reproducible if it can be reproduced exactly, given all the materials used in the study’. She goes on:</p>
<blockquote class="blockquote">
<p>Reproducibility is not just publishing your analysis code. The entire workflow of a research project––from formulating hypotheses to dissemination of your results––has decisions and steps that ideally should be reproducible.</p>
</blockquote>
<p><span class="citation" data-cites="opendatainstitute">Open Data Institute (2017)</span> defines open data as ‘data that’s available to everyone to access, use and share.’ Open data enables reproducibility and is the bedrock of progress.</p>
<section id="improved-diversity" class="level3">
<h3 class="anchored" data-anchor-id="improved-diversity">Improved diversity</h3>
<p>The first benefit that I see is improved diversity, broadly, in our fields. By making our work accessible to more people, we help to to make education and research resources more equitable. In Canadian STEM fields diversity at an undergraduate level is not great, but it’s also not too bad—we reflect broader Canadian society to some extent—but at each successive level we significantly worsen <span class="citation" data-cites="villemurewebb">(Villemure and Webb 2017)</span>. In my own Department of Statistical Sciences, University Professor Nancy Reid was the only tenured research-track woman in the department for decades. And in astronomy, speaking more broadly, <span class="citation" data-cites="prescordweinstein">Prescord-Weinstein (2021, 132)</span> says ‘I’ve never met a Black woman professor in the field of theoretical cosmology because I am the first—not just the first professor, but also the first Black woman cosmology theory PhD’<sup>1</sup>.</p>
<p>Improving diversity is important because diverse teams are associated with higher performance <span class="citation" data-cites="mckinsey">(Hunt et al. 2020)</span>. That’s just a correlation, but thinking about my own experiences, I do think that diversity in my own team improved my productivity. For instance, I’ve found that students with different experiences push back and criticize me about things that I haven’t considered. Improving those aspects makes the work better.</p>
<p>As an aside, I also think that as Canada’s best university, and a public one at that, we have a duty to be more reflective of Canada. There’s a quote from one of my favourite books that I thought this audience would like, because it features an astronomer is talking to a child, trying to convince him that humanities are important, and the astronomer says:</p>
<blockquote class="blockquote">
<p>Any science is expensive and astronomy is more expensive than most…. If you need hundreds of millions of pounds sooner or later you are going to have to talk to people who don’t understand what you’re doing and don’t want to understand because they hated science at school.</p>
<p><span class="citation" data-cites="dewitt">DeWitt (2000, 396)</span></p>
</blockquote>
<p>It’s entirely correct that these people are in charge because that’s who we voted for. But it would be nice if they didn’t hate astronomy or statistics when they take it at university and possibly part of that is reflecting other experiences than just our own.</p>
</section>
<section id="improving-your-own-future-life" class="level3">
<h3 class="anchored" data-anchor-id="improving-your-own-future-life">Improving your own (future) life</h3>
<p>The second benefit is that ‘future-you’ will be helped. I think that most of us who write code to analyse data for a living have had the feeling of coming back to a project after six months and a lot of the time it’s literally like having to start a new project. The variables make no sense, and the code is unintelligible. The main question for me is always ‘why did I do that?’. And then I spend the afternoon re-coding and almost always end up back where I was.</p>
<p>If we’re spending eight hours a day writing code to analyse data, then almost anything that adds even one per cent to our productivity is worthwhile, let alone something that saves an afternoon. And that’s particularly the case with open data and reproducibility, because these benefits tend to compound over time and accrue not just to you but other researchers. Talking about knowledge that only you have, doesn’t make you knowledgeable, it makes you a crank, and that includes knowledge that only ‘past-you’ has.</p>
</section>
<section id="building-on-ramps" class="level3">
<h3 class="anchored" data-anchor-id="building-on-ramps">Building on-ramps</h3>
<p>The third benefit is that adopting open data and reproducibility can allow us to build better on-ramps for our collaborators. I love applied statistics, and I can’t quite believe that I get paid to do this job, and I really want more people to be able to work with me on my projects. These days I get to work with a lot of students, and I think the best way for me to make it easier for them to get up to speed is to adopt open data and reproducibility principles.</p>
<p>I don’t think of myself as a scary or intimidating person, but I’m regularly told that in anonymous surveys. New, especially undergraduate, collaborators may be hesitant to ask questions because they feel awkward, or they feel they should know the answer or that they worry I’ll think they’re dumb. Some thoughts that may run through their head when they watch me talk through some data analysis: “Why did he remove the 99s?”, “Maybe everyone does that?”, “Can I just look this up after he finishes talking?”, “Is he ever going to finish talking?”, “Oh no, now I missed it, what is he saying now?”. Open data and reproducibility enable them to not be reliant on me and I hope makes it easier for my collaborators to work with me.</p>
</section>
</section>
<section id="three-baby-steps" class="level2">
<h2 class="anchored" data-anchor-id="three-baby-steps">Three baby steps</h2>
<p>Right, so you’re convinced! You want these great benefits! How can you go about getting them? I’m not asking for anything big from you, and I’m not asking you to advocate, or even change much of anything that you do. (Indeed, if you’re faculty then I’m just asking you to spend some research funds and hire some undergrads!<sup>2</sup>)</p>
<section id="buy-a-bunch-of-notebooks" class="level3">
<h3 class="anchored" data-anchor-id="buy-a-bunch-of-notebooks">Buy a bunch of notebooks</h3>
<p>The first is to buy a notebook. (If you’re faculty, then go and buy a bunch for your team.) And then just write one dot point each time you write some code chunk. Let’s say you’re cleaning some text data, and you want to change all the instances of ‘Rohan’ to ‘Monica’. Just before you write the code that does that, or perhaps just after, write a simple dot point in that fancy notebook that you bought that explains what you did and why. That’s it. (Don’t worry too much about what you write initially – you’ll get better at it naturally over time.) At the end of the day, you’ll magically have a plain-English list of everything that was done to the dataset. That can easily be added to an appendix or added as comments and documentation alongside the code. Newton and Da Vinci kept notebooks! And if that doesn’t convince you (and it shouldn’t, see: selection bias) the US NIH describes notebooks in science as ‘legal documents’ that support claims to patents, defend against allegations of fraud, and act as your scientific legacy <span class="citation" data-cites="ryan">(Ryan 2015)</span>.</p>
</section>
<section id="write-a-datasheet" class="level3">
<h3 class="anchored" data-anchor-id="write-a-datasheet">Write a datasheet</h3>
<p>The second thing is writing a datasheet for your dataset. I had a quick look at some of the astronomy data repos and there’s some amazing things around, NASA came up immediately of course, but also a whole bunch associated with folks speaking at this workshop! I’ve never used astronomical datasets, but when I use political or economic datasets of a similar nature, I sometimes find that because I didn’t collect, clean, or prepare the dataset myself, it can be difficult to trust it. This is where datasheets come in <span class="citation" data-cites="gebru2020datasheets">(Gebru et al. 2020)</span>. Datasheets are basically nutrition labels for datasets. It’s really important to understand what you’re feeding your model, but plenty of researchers don’t have any idea. For instance, recently researchers went back and wrote a datasheet for one of the most popular datasets in computer science, and they found that around 30 per cent of the data were duplicated <span class="citation" data-cites="bandy2021addressing">(Bandy and Vincent 2021)</span>!</p>
<p>Instead of telling you how unhealthy various foods are, a datasheet tells you things like:</p>
<ul>
<li>‘Who created the dataset and on behalf of which entity?’</li>
<li>‘Who funded the creation of the dataset?’</li>
<li>‘Does the dataset contain all possible instances or is it a sample (not necessarily random) of instances from a larger set?’</li>
<li>‘Is any information missing from individual instances?’</li>
</ul>
<p>I’ve integrated datasheets into my teaching and an example of one that a student wrote earlier in Winter 2021 is <span class="citation" data-cites="rosenthal">Rosenthal (2021)</span>. I’m not saying that this isn’t helpful for the student who made it—I <em>hope</em> it was—but it’s especially helpful for me when I think about how best to use the dataset that he created.</p>
<p>The speaker after me, <a href="https://www.dunlap.utoronto.ca/~hlozek/">Renée Hlozek</a>, has a bunch of papers documenting datasets, for instance <span class="citation" data-cites="lsstdarkenergysciencecollaboration2021desc">LSST Dark Energy Science Collaboration et al. (2021)</span>, and another about data challenges <span class="citation" data-cites="Hlo_ek_2019">(Hložek 2019)</span> that I think would be interesting to combine with the idea of backfilling datasheets.</p>
</section>
<section id="make-a-software-package." class="level3">
<h3 class="anchored" data-anchor-id="make-a-software-package.">Make a software package.</h3>
<p>The third and final thing is to build out internal APIs for your code and then make them external. Now this may sound intimidating, but you can do it! (Or if you’re faculty, again, it’s something that you can have an undergraduate do.) My PhD is in economic history and basically what that means is that I have a PhD in data gathering and cleaning. To my shame, I have literally written code that ‘downloads a PDF from a URL, saves it to my computer, pauses, and goes and gets another PDF from a very similar URL’, literally hundreds of times. And of course, no one should write the same code hundreds of times.</p>
<p>Last summer I found myself asking a student to go and write code to do that same task and I finally decided that enough was enough. Instead, I had them put together an R package. Now this was literally only the work of a week for them. So instead of everyone in the lab writing code each time they needed to download a PDF, they could just call this R package and use that instead: we wrote an internal API. I decided that I wanted to make it external facing and there’s now an R package—‘heapsofpapers’—that anyone can use <span class="citation" data-cites="heapsofpapers">(R. Alexander and Mahfouz 2021)</span>.</p>
<p>If you want to do this and you use R then just follow ‘Chapter 2 - The Whole Game’ from <span class="citation" data-cites="rpackages">Wickham and Bryan (2021)</span>. Within a few hours you can have a workable solution and within a month or two you can have a great external API.</p>
<p>And for those of you who are more Python focused, the speaker before me, <a href="http://astro.utoronto.ca/~bovy/">Jo Bovy</a>, has all these great Python packages on his <a href="https://github.com/jobovy">GitHub</a>, including a whole course on writing Python packages <span class="citation" data-cites="bovypython">(Bovy 2021)</span>.</p>
<p>Making internal APIs external is one reason that Amazon is worth a trillion dollars <span class="citation" data-cites="benzell2017impact">(Benzell, Lagarda, and Van Alstyne 2017)</span>, and while I can’t promise that it’ll make you a millionaire, I can promise that you’ll get a paper out of it, and more importantly, help your field.</p>
</section>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding remarks</h2>
<p>I think that open data and reproducibility can be intimidating. I have a two-year-old and I imagine that when he first started to walk he was pretty intimidated also. But he did take his first steps and now he runs around the whole day. And I assure you that it’s the same for open data and reproducibility.</p>
<p>I’m looking forward to diving further into the work of the other speakers at this workshop, and thank Gwen and Josh for bringing these two communities together, and for letting me speak today.</p>
</section>



<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Thank you very much to Monica for reading a draft of this. If you want something to watch after reading this then I recommend <span class="citation" data-cites="monicatdrtalk">M. Alexander (2021)</span></p>



</div></section><section class="quarto-appendix-contents" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0">
<div id="ref-monicasrostockreprotalk" class="csl-entry">
Alexander, Monica. 2019. <em>Reproducibility in Demographic Research</em>. Max Planck Institute for Demographic Research: Talk given at Open Science Workshop. <a href="https://www.monicaalexander.com/posts/2019-10-20-reproducibility/">https://www.monicaalexander.com/posts/2019-10-20-reproducibility/</a>.
</div>
<div id="ref-monicatdrtalk" class="csl-entry">
———. 2021. <em>Getting Started with Sharing Code</em>. <a href="https://youtu.be/yvM2C6aZ94k">https://youtu.be/yvM2C6aZ94k</a>.
</div>
<div id="ref-heapsofpapers" class="csl-entry">
Alexander, Rohan, and A Mahfouz. 2021. <span>“Heapsofpapers.”</span> <a href="https://rohanalexander.github.io/heapsofpapers/">https://rohanalexander.github.io/heapsofpapers/</a>.
</div>
<div id="ref-bandy2021addressing" class="csl-entry">
Bandy, Jack, and Nicholas Vincent. 2021. <span>“Addressing "Documentation Debt" in Machine Learning Research: A Retrospective Datasheet for BookCorpus.”</span> <a href="https://arxiv.org/abs/2105.05241">https://arxiv.org/abs/2105.05241</a>.
</div>
<div id="ref-benzell2017impact" class="csl-entry">
Benzell, Seth, Guillermo Lagarda, and Marshall W Van Alstyne. 2017. <span>“The Impact of APIs in Firm Performance.”</span> <em>Boston University Questrom School of Business Research Paper</em>, no. 2843326.
</div>
<div id="ref-bovypython" class="csl-entry">
Bovy, Jo. 2021. <em>Python Code Packaging for Scientific Software</em>. <a href="https://pythonpackaging.info">https://pythonpackaging.info</a>.
</div>
<div id="ref-dewitt" class="csl-entry">
DeWitt, Helen. 2000. <em>The Last Samurai</em>. Talk Miramax Books.
</div>
<div id="ref-gebru2020datasheets" class="csl-entry">
Gebru, Timnit, Jamie Morgenstern, Briana Vecchione, Jennifer Wortman Vaughan, Hanna Wallach, Hal Daumé III au2, and Kate Crawford. 2020. <span>“Datasheets for Datasets.”</span> <a href="https://arxiv.org/abs/1803.09010">https://arxiv.org/abs/1803.09010</a>.
</div>
<div id="ref-Hlo_ek_2019" class="csl-entry">
Hložek, Renée. 2019. <span>“Data Challenges as a Tool for Time-Domain Astronomy.”</span> <em>Publications of the Astronomical Society of the Pacific</em> 131 (1005): 118001. <a href="https://doi.org/10.1088/1538-3873/ab311d">https://doi.org/10.1088/1538-3873/ab311d</a>.
</div>
<div id="ref-mckinsey" class="csl-entry">
Hunt, Vivian, Sundiatu Dixon-Fyle, Sara Prince, and Kevin Dolan. 2020. <em>Diversity Wins: How Inclusion Matters</em>. McKinsey &amp; Company. <a href="https://www.mckinsey.com/featured-insights/diversity-and-inclusion/diversity-wins-how-inclusion-matters">https://www.mckinsey.com/featured-insights/diversity-and-inclusion/diversity-wins-how-inclusion-matters</a>.
</div>
<div id="ref-lsstdarkenergysciencecollaboration2021desc" class="csl-entry">
LSST Dark Energy Science Collaboration, Bela Abolfathi, Robert Armstrong, Humna Awan, Yadu N. Babuji, Franz Erik Bauer, George Beckett, et al. 2021. <span>“DESC DC2 Data Release Note.”</span> <a href="https://arxiv.org/abs/2101.04855">https://arxiv.org/abs/2101.04855</a>.
</div>
<div id="ref-opendatainstitute" class="csl-entry">
Open Data Institute. 2017. <em>What Is ’Open Data’ and Why Should We Care?</em> <a href="https://theodi.org/article/what-is-open-data-and-why-should-we-care/">https://theodi.org/article/what-is-open-data-and-why-should-we-care/</a>.
</div>
<div id="ref-prescordweinstein" class="csl-entry">
Prescord-Weinstein, Chandra. 2021. <em>The Disordered Cosmos</em>. Bold Type Books.
</div>
<div id="ref-rosenthal" class="csl-entry">
Rosenthal, Thomas William. 2021. <span>“Datasheet for the COFFEE_COFFEE_COFFEE Dataset, Version 0.1.”</span> <a href="https://github.com/mrpotatocode/COFFEE_COFFEE_COFFEE/blob/main/journal/Week8/DataSheet-0.1.md">https://github.com/mrpotatocode/COFFEE_COFFEE_COFFEE/blob/main/journal/Week8/DataSheet-0.1.md</a>.
</div>
<div id="ref-ryan" class="csl-entry">
Ryan, Philip. 2015. <em>Keeping a Lab Notebook</em>. NIH. <a href="https://youtu.be/-MAIuaOL64I">https://youtu.be/-MAIuaOL64I</a>.
</div>
<div id="ref-villemurewebb" class="csl-entry">
Villemure, Serge, and Anne Webb. 2017. <em>Strengthening Research Excellence Through Equity, Diversity and Inclusion</em>. NSERC Presentation. <a href="https://www.nserc-crsng.gc.ca/_doc/EDI/EDIpresentation_EN.pdf">https://www.nserc-crsng.gc.ca/_doc/EDI/EDIpresentation_EN.pdf</a>.
</div>
<div id="ref-rpackages" class="csl-entry">
Wickham, Hadley, and Jenny Bryan. 2021. <em>R Packages</em>. <a href="https://r-pkgs.org/">https://r-pkgs.org/</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Thanks very much to Vianey Leos Barajas for gifting me this book.↩︎</p></li>
<li id="fn2"><p>Statistical Sciences has something in the order of 4,000 undergrads, which is quite a lot, but the great thing about it is that the top 5 per cent are just incredibly strong. You could hire a few of them for literally $25 an hour, and then just get them to do these three things! Possibly that hiring would even add to the diversity of your team.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-05-22-baby-steps/baby-steps.html</guid>
  <pubDate>Sun, 23 May 2021 04:00:00 GMT</pubDate>
</item>
<item>
  <title>On work-life balance</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-05-04-work-life-balance/work-life-balance.html</link>
  <description><![CDATA[ 




<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Hi, my name is Rohan Alexander. I’m an assistant professor at the University of Toronto, in the Faculty of Information, and the Department of Statistical Sciences. I’d like to thank Tony Tang for the invitation to talk about work-life balance.</p>
<p>The work-life balance that I’m going to talk about today is just something for me, right now. So maybe some of what I’ll talk about will be relevant for you, but maybe my balance won’t be, and that’s okay. My main take-away, in any case, is that you’re smart enough to work out what works for you.</p>
<p>I don’t think there’s only one optimal work-life balance, and if there is one, then it certainly changes over time. While doing my PhD, and also my wife doing her PhD, and us both now in faculty jobs, we’ve had a variety of opportunities to experience a bunch of different approaches to all this. We’ve also now got a two-year-old and another on the way, so I’ve reflected on all this to come up with a few lessons that I’d like to share.</p>
</section>
<section id="lessons" class="level2">
<h2 class="anchored" data-anchor-id="lessons">Lessons</h2>
<section id="lesson-1-youre-smart-enough-to-work-out-what-works-for-you" class="level3">
<h3 class="anchored" data-anchor-id="lesson-1-youre-smart-enough-to-work-out-what-works-for-you">Lesson 1: You’re smart enough to work out what works for you</h3>
<p>The first lesson is that you’re smart enough to work out what works for you. When my first child was born, it was all a bit challenging. As folks who have done or are doing a PhD, we’re trained in, and selected for, certain attributes, and none of those have any relation to your ability to care for an infant when it’s 3am and you’ve not slept, and the child won’t eat. I did what I was trained to do, which was look at the literature, synthesize it, plan, and execute. And of course, that didn’t help.</p>
<p>One of my PhD supervisors had also had a challenging time around the birth of her children, and she emailed me, and she said, ‘you’re smart enough to work out what works for you’. And that’s the key bit. You’re here. The admissions committee doesn’t make mistakes.</p>
<p>Today is all about us giving you advice, but in the end you’re smart enough to work out what work-life balance works for you.</p>
</section>
<section id="lesson-2-ignore-what-everyone-else-says-and-does" class="level3">
<h3 class="anchored" data-anchor-id="lesson-2-ignore-what-everyone-else-says-and-does">Lesson 2: Ignore what everyone else says and does</h3>
<p>The second lesson is to ignore what everyone else is saying. Our friend once said on Twitter there are two types of people: one type says they work all the time, and the other type say they never work. The takeaway is that both types of people are probably exaggerating, and you probably shouldn’t believe either of them. Instead, you need to think about your own circumstances and decide what balance makes sense. And you need to recognize that will change as your circumstances change.</p>
<p>I’ve always been a morning person, so during my PhD I used to get up at 6am to start work and then stop in mid-afternoon and go for a run and then cook dinner early and then maybe do some lighter work in the evening. And I got good at working for long chunks of time. Then the baby arrived. I became a night person for a while, then I became a bursts-of-work person for a while, now I’m back to being a morning person, but it’s more of a 4am start to get a chunk of work done, and then various bursts-of-work, followed by a short morning chunk, and then very little in the afternoon, when I may need to look after him, depending on sleep, and then maybe another chunk at night if he goes down easily.</p>
<p>Ignore what others are doing, and react to your own circumstances.</p>
</section>
<section id="lesson-3-doing-a-phd-is-hard" class="level3">
<h3 class="anchored" data-anchor-id="lesson-3-doing-a-phd-is-hard">Lesson 3: Doing a PhD is hard</h3>
<p>The third lesson is that doing a PhD is really, really hard (and it’s meant to be). The fundamental purpose of doing a PhD is to create new knowledge. Knowledge that literally no one in the world has.</p>
<p>One way to think about it is that you’re going to become the world champion in one tiny little aspect of the world. The days of Oxbridge gentlemen athletes winning Olympic medals are gone, and that’s true also of easy PhDs. What’s left for us is the stuff that takes a huge amount of effort. Recognizing that fact, and the implication that working really hard at this is what it’s going to take, is crucial.</p>
<p>The work-life balance that I experience in a university isn’t, and cannot be, the work-life balance of those that I know outside of universities. This job is just really different. You have to be prepared for things to be hard, and to work hard, and try not to take it personally when things don’t work out straight away. It’s part of the process</p>
</section>
<section id="lesson-4-an-extra-hour-of-work-is-almost-always-worthwhile" class="level3">
<h3 class="anchored" data-anchor-id="lesson-4-an-extra-hour-of-work-is-almost-always-worthwhile">Lesson 4: An extra hour of work is almost always worthwhile</h3>
<p>The fourth lesson builds on this and it’s that putting an extra hour into your work is always worthwhile. The nature of our job—creating new research—means that there is always something to do. This is not a job where you lay 500 bricks in a day and then call it a day. I had a job like that once, briefly, and that job was hard. But when it was done, it was done. Our job—doing research—is not like that. There’s always something else that you can do. And it’s beneficial to do that thing today, because that way you can build on it tomorrow.</p>
<p>There’s enormous compounding in academia. Awards, conference and journal acceptances tend to go to those who already have plenty of them. So how do you get that first one? It’s just hard, but putting an extra hour in will almost always compound over time and be useful. The thing about compounding interest is that initially you don’t notice any benefit, but after a few years there’s an enormous difference.</p>
<section id="lesson-4.5-until-it-isnt" class="level4">
<h4 class="anchored" data-anchor-id="lesson-4.5-until-it-isnt">Lesson 4.5: Until it isn’t</h4>
<p>However, there is a corollary to that fourth lesson, and that is: Until it isn’t. The fourth and a half lesson, as it were. The temptation is to just spend more and more time working. And that’s fine for a while, and is important to be able to do, from time to time. But it doesn’t work for more than a month or two.</p>
<p>But now we have a contradiction. On the one hand, I’ve just told you that there’s enormous benefits to compounding, and we all know about the importance of flow and staying in that state when you can achieve it. And on the other hand, if you take that to its natural conclusion and work all the time, you won’t last in academia for long. So, what do we do?</p>
</section>
</section>
<section id="lesson-5-use-positive-procrastination" class="level3">
<h3 class="anchored" data-anchor-id="lesson-5-use-positive-procrastination">Lesson 5: Use positive procrastination</h3>
<p>This leads to the fifth lesson, which is that you use positive procrastination to your advantage. I wrote this talk when I was tired of writing my book, which I write when I’m tired of trying to write a paper. None of this is wasting time, but the task switching ensures a freshness and enthusiasm. Another advantage of positive procrastination when you’re a PhD student is that it also helps you identify what you’re passionate about.</p>
<p>Now you don’t have to love what you do—plenty of professors don’t—but I do and I’m going to speak now assuming this to be true, because it’s gone part way to resolving this contradiction.</p>
<p>A friend once said that a way to think about passion is that it’s your brain’s way of tricking you into doing things that are boring or are hard. And if you can identify passion then it’ll make your life a lot easier. When I started my PhD, I was in a bit of a malaise. I’d go from subject to subject, and certainly work at them, but not enjoy anything and there were a lot of long coffees with friends. I’d cycle home, and then at night and on the weekends, I’d spend my whole-time using R to do statistical analysis of political data in a reproducible way. Then during the day I’d go to university and go back to my malaise of not knowing what to do. Of course, with some support from various advisors and mentors, I eventually worked out that what I should be doing is using R to do statistical analysis of political data in a reproducible way for my PhD and after that everything got a lot easier! I loved what I was doing and work no longer felt like work.</p>
<p>There’s a limit, of course, to positive procrastination. Because you need to make sure that you’re shooting, and not just setting up shots, as it were. As a PhD student, you probably want to have about three projects, and that’s about it. But I do think that cycling through, especially early in your PhD when it’s easy to just email a professor and take a reading course to write a short paper, is something that more students should do and would help resolve work-life concerns.</p>
<p>And again, the viability of this changes over your career. Now I have about 10-15 different projects because I supervise students, and I have some longer-term gambles that may or may not work out. However, because of how I have to work in fits and starts, I can’t just do what I was trained to do, which is to throw more time into things. I need to try to be smarter about things and look for efficiencies and relationships between them.</p>
</section>
<section id="lesson-6-take-complete-weeks-long-breaks" class="level3">
<h3 class="anchored" data-anchor-id="lesson-6-take-complete-weeks-long-breaks">Lesson 6: Take complete, week/s-long breaks</h3>
<p>And so we reach the sixth and final lesson, which is about having complete breaks, and I learnt this one from someone that I’ll name, and that’s Professor Kelly Lyons. Because once you’ve identified your passion and you understand the power of compounding and flow, it can be easy to just stay caught up in things. But to have an academic career or to finish a PhD without burning out, and if your work-life trick is going to be that you’d be doing what you get paid to do, even if you didn’t get paid to do it, then you need to make sure that remains the case.</p>
<p>Monica and I have started insisting on complete week-long breaks from time to time. Minimal computers, and no GitHub. And this is one aspect where having children certainly helps. Because they want all of your attention.</p>
</section>
</section>
<section id="we-get-to-do-what-we-want" class="level2">
<h2 class="anchored" data-anchor-id="we-get-to-do-what-we-want">We get to do what we want</h2>
<p>Our work-life balance in academia is different to that of doctors, lawyers, and tech bros. We have the best job in the world. But our job is not like others. One of the great things about academia is the flexibility. We get to do whatever we want.</p>
<p>That point bears repeating. We get to do whatever we want. And that means that whatever we’re doing is something that we’re choosing.</p>
<p>Hence, for me, it’s become wrong to think that work and life are separate and that they need to be siloed. People outside of universities talk about work-life balance and the implication is that you need to make time for each. But in academia, that’s not the way that I think of things.</p>
<p>I think it’s a spectrum. For some people, work is work, and life is life and they’re completely separated, while for others all they do is work and that’s their life. For most of us, we’re probably somewhere in between. And I think that’s especially the case in academia. Because you’ve got so much flexibility and ownership over what we do compared with, say, working at a bank. And so, in terms of work-life balance, it’s about trying to work out what works for you. Thinking about what’s important in your life and how that fits into your work. And also, being aware that this balance is going to change especially around life events such as having a baby, which will affect how you can work, as well as the volume. And that this change is good, appropriate, and normal, even if that’s not recognized in the current academic structures.</p>
<p>If you enjoy coding, then taking a break from work might mean doing a fun coding project. If you enjoy hiking, then taking a break from work might mean going hiking. When my wife was doing her PhD, we went on road trips and worked in different environments. We did this because we loved our work, not because anyone was forcing us. We went to different cafes, and ate different foods, and ran in different parks, and went to different pubs, but for most of the day we sat at tables in random Airbnbs and worked. We have great memories of that, but not everyone wants to do that and that’s okay.</p>
<p>Initially, your supervisor will put a huge amount of pressure on you, but I’ve found that as I’ve gotten older the person putting the most pressure on me is myself. Once you’re at that stage, if you think ‘oh I want a break, but I should get this done because the code isn’t working, or I need to get it to my collaborator, or whatever’, then chances are that it’s okay and you should probably just email the collaborator to say that it’ll be a week late and then take the week off. From time to time, I’ll just declare a day off and not open the computer. If you think that maybe you don’t have time for something, then you are probably right and you need to get out of it.</p>
<p>In grad school I’ve found that many people lose their hobbies. But maybe there is value in trying to make time, particularly for exercise. So, things like going for a run or being part of a team might be important for you. During my PhD a lot of my friends continued with rock-climbing, or cycling, or took up walking.</p>
</section>
<section id="between-the-ideal-and-the-reality-falls-the-shadow" class="level2">
<h2 class="anchored" data-anchor-id="between-the-ideal-and-the-reality-falls-the-shadow">Between the ideal and the reality falls the shadow</h2>
<p>Increasingly we see that the composition of academia is changing, for instance, in terms of the proportion of women in masters and PhD programs and junior faculty. However, institutional structures at all stages of academia are still fundamentally designed for people—particularly men—without caring responsibilities; and as such those who do not fit this mould often face enormous challenges</p>
<p>While things have changed, this structural issue has been increasingly brought to light during the pandemic. NSERC submission deadlines remained the same. NSERC grant application requirements remained the same. I said earlier that you should take a week off, but the amount of work to be done remains the same and NSERC doesn’t change its deadlines just because you took a week off. Similarly, departments here didn’t change their teaching, or service requirements.</p>
<p>A lot of people with young children have not done any research for a year, and applied for few grants. Generalising from the literature on the effect of long-term job losses, chances are that, on average, our careers will not recover. And that’s okay. We still get to do what we love. We might not become full professors, but being an associate would be great. It’s still the best job in the world.</p>
<p>While I still think that it is correct to say, as I did above, that one shouldn’t compare oneself to others, the fact remains that the academic structures do exactly that. If you are not of the type that academia is set-up for, then every day you will fail to measure up to those expectations. We are not in a normal job, and that’s okay, but you need to recognize that the structures that job exists within may not be set-up for your circumstances. And it may be that these circumstances will dictate what can be accomplished, rather than your abilities.</p>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding remarks</h2>
<p>I don’t think there’s a one-size-fits-all for work-life balance. You need to work it out for yourself and part of that is just worrying about yourself, ignoring what others do or say they do. You’re smart enough to work out what works for you, so just think. And once you work out what works for you, then set-out to make it easier for others.</p>
<p>I think that there’s value in the struggle. Even if my cohort of academics with young children doesn’t achieve what it may have, there’s value in sticking with it, while that’s possible. Next time, maybe some of us will be the ones who are chairs and NSERC reviewers. Even now, we have opportunities to make things easier for the next cohort, some of whom may be the undergrads that have spent the past year in Zoom classrooms. We have the best job in the world, and sometimes taking a step back and seeing it as bigger than oneself is important.</p>
<p>Thanks very much to Tony for giving me the opportunity to reflect on work-life balance at universities and how that changes over the life course, and I hope that he doesn’t regret providing me with the platform too much. I’d be happy to take any questions.</p>
</section>


<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Thank you very much to Monica for reading a draft of this. Thank you also to John, Zach, Martine, Tim, and Jill at the ANU, and Kelly at U of T for helpful conversations about this topic at various points in time.</p>


</div></section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-05-04-work-life-balance/work-life-balance.html</guid>
  <pubDate>Tue, 04 May 2021 04:00:00 GMT</pubDate>
</item>
<item>
  <title>In Appreciation of Greg Wilson</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-03-14-greg-wilson/in-appreciation-of-greg-wilson.html</link>
  <description><![CDATA[ 




<p>As a baby professor there is a lot that causes me to wake up crying during the night. But the main reason is teaching. Having largely spent five years alone in an office working on projects by-myself, the idea that I should stand in front of (or Zoom to) one- to two-hundred students and competently teach is still a tad surprising. <a href="https://third-bit.com">Greg Wilson</a> is the only reason that I no longer wake up wracked with concern about at least this aspect of baby professor life.</p>
<p>Greg established and, until recently, ran instructor training at R Studio. This involved putting together and teaching a two-day course about the Tidyverse (there’s also a Shiny version that I didn’t do). After the course, Greg assessed you on a one-to-one basis and when he was happy he certified you.</p>
<p>The training assumed that you already knew R (essentially to the level of R4DS). It’s not about R, it’s about teaching you how to teach R. We covered an awful lot, but some highlights include:</p>
<ul>
<li>The creation of learner personas to help understand where the student is coming from.</li>
<li>How to formally structure assessment, and other feedback, in a way that builds a student’s knowledge and confidence.</li>
<li>Putting together different aspects in a ‘concept map’ that a student can use to navigate these aspects.</li>
<li>Remaining mindful of cognitive load and active teaching.</li>
<li>Seeing things from the student perspective.</li>
<li>And how to do all this in the real-world i.e.&nbsp;a time-constrained mess of priorities and incomplete information.</li>
</ul>
<p>My guess is that none of this is pedagogical rocket science, but it’s not something that I knew, or even thought about, before Greg’s course. More important than any specific aspect, Greg provided a foundation for my teaching on which I can iterate and evolve. There’s the famous Cheshire Cat quote in Alice in Wonderland about needing to have a destination before it matters in which direction you go. Greg provided that destination. I don’t know whether it improved outcomes for my students; but it certainly reduced how worried I was about teaching.</p>
<p>That all said, I think that the most important thing that I learnt from Greg is ‘Be kind: all else is details.’. Greg taught us this through his example.</p>
<p>By my rough count there are something like 200 R Studio certified Tidyverse instructors. A lot of them are similarly professors who will teach large classes of undergrads, smaller classes of grads, and directly supervise PhD students, who themselves will teach… If Greg caused even a one per cent improvement in the quality of the instruction of those folks, then the potential impact that he’s had is enormous.</p>
<p>I don’t know anything of the circumstances surrounding Greg’s departure from R Studio, and it’s none of my business either way. Greg holds a CS PhD and spent a few years as an assistant professor at the Toronto CS department a few years back. He founded Software Carpentry. In an ideal world we would find space for him at the university. But regardless of what happens, I’ll always be grateful for his teaching, his example, and most importantly, his kindness, and hope to emulate that in my own teaching.</p>
<p>If you’d like to learn more about what Greg taught us you should look at his book <em>Teaching Tech Together</em>: http://teachtogether.tech/en/index.html. It’s all good, but even just skimming ‘The Rules’ is worthwhile.</p>
<p>A month or so ago, Greg stopped by the Faculty of Information at the University of Toronto and taught a class about ‘How to Run a Meeting’. If you’d like to see the recording of that you can do so here: https://youtu.be/qYh6Nzv3RWs.</p>
<p>A bunch of other folks have written more about the training and you can read some of them here:</p>
<ul>
<li>https://silvia.rbind.io/2020-10-07-rstudio-instructor-certification-tidyverse/</li>
<li>https://shelkariuki.netlify.app/post/certification/</li>
<li>https://www.yuqiliao.com/blog/rstudiocertification/</li>
</ul>



 ]]></description>
  <guid>https://rohanalexander.com/posts/2021-03-14-greg-wilson/in-appreciation-of-greg-wilson.html</guid>
  <pubDate>Sun, 14 Mar 2021 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Saturday morning thoughts on grad school applications</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2021-03-13-grad-school-applications/grad-school-applications.html</link>
  <description><![CDATA[ 




<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Grad school application season is mostly done. I wanted to quickly put together some general thoughts in case they’re helpful for undergraduates applying next year. Please keep in mind that I’m new and interested in applied statistics. This advice probably doesn’t apply for more-experienced, or less-applied, folks.</p>
<p>The main takeaways:</p>
<ul>
<li>There’s a huge amount of luck involved, so don’t tie your self-worth to any particular decision either way.</li>
<li>Worry as much, if not more, about letters and your personal statement as you do about your GPA. There are three bits to the application — transcript, letters, statement/CV. You’re spending four years getting transcripts, so you should also spend a lot of time on the other two.</li>
<li>Communicate a clear reason for wanting to go to the school/program that you’re applying for.</li>
<li>Create a narrative that runs through your entire application.</li>
</ul>
<p><strong>These thoughts are specific to me. You need to get advice from your own advisors, and in particular the faculty that are going to write you letters, but more on that later.</strong></p>
</section>
<section id="cv-and-personal-statement" class="level2">
<h2 class="anchored" data-anchor-id="cv-and-personal-statement">CV and personal statement</h2>
<p>Be clear about why you’re applying, show evidence of your work, and weave that into your narrative. When you do sales, the key to everything is identifying a ‘champion’ in the firm that you want to sell to. Your job in sales is then to give that person the information they need to sell the rest of the firm on it. When you’re applying to grad school, it’s a similar situation. You don’t need all the faculty to love your application - you just need at least one of the reviewers to love it and for no one to hate it enough to veto. Your personal statement is a sales opportunity and will be when the faculty reviewers work out who they advocate for. It’s hard to recover from a bad personal statement. You should get your letter writers to review it before you send it.</p>
<ul>
<li>Use the combination of your CV and personal statement to craft a narrative (which your letters and transcript support).</li>
<li>Articulate the reason that you want to attend the department/school that you’re applying for.
<ul>
<li>This is not a statement like ‘[insert school] is a top-ranked school’.</li>
<li>One way to do this is to find a faculty member that is of interest, look at their papers and website, and write about how your interests align with their work and you want to be involved in it. That said, don’t fake interest, because it’s usually obvious.</li>
<li>Another way is to identify a clear link to your interests, for instance, if you’re into public health then maybe the university is in a state/province that has universal healthcare and so you’d have great data.</li>
<li>Yet another way is to look up the requirements of the program and weave in how you’re really keen to learn about subject X taught by professor Y because of reason Z.</li>
</ul></li>
<li>You don’t need the world’s greatest justification (and no one will hold you to it if you decide you’re actually interested in something else), but the faculty reviewer needs to know why you want to attend their school/department when you could go to any number of other top ranked schools/departments. There’s only a certain number of offers that can be made, so at the very least they need to have some idea of the likelihood that you’ll accept.</li>
<li>Grades in undergrad tests don’t necessarily correspond to doing well in graduate school. Much of graduate school is about learning how to learn, with the goal to eventually ‘learn things that no one else knows’ (i.e.&nbsp;do research) and so it is helpful for reviewing faculty to see evidence that points to your ability to do that. One way to do this is to create projects that show off what you can do publicly and link to them. Ideally your undergrad professors will integrate projects into their curriculum, but if not then you need to DIY. (BTW don’t use Kaggle – hunt, gather, or farm your own data).</li>
<li>For applied quantitative PhDs, it’s great if you are already able to write code in R or Python, and even better if you can include a link to your GitHub account that shows this. Ideally, your GitHub should be in decent order. For instance, have your best projects pinned, and put a lot of effort into making sure these are commented, have READMEs, etc.</li>
<li>Make a website, even if it’s very minimal. You need to control your online presence and having LinkedIn or whatever come up is not great (for the purposes of grad school applications).</li>
<li>One or two years of work experience is great (or even just a summer internship or similar), especially if it links into your overall narrative of why you want to go to that particular grad school.</li>
<li>Don’t have a long personal statement that begins with you as a child and culminates in your application. Instead, be succinct and clear, and weave your accomplishments into a narrative, rather than just list them (that’s what your CV/transcript are for).</li>
</ul>
</section>
<section id="letters" class="level2">
<h2 class="anchored" data-anchor-id="letters">Letters</h2>
<p>The best letters are from folks that know you and your work. You need to spend a huge amount of effort getting decent letters. They’re as important, if not more, as your GPA.</p>
<ul>
<li>The strongest letters are from folks who know you well. Usually, this type of letter looks better than someone who doesn’t know you well, even if they’re a famous professor, and even if you got an A in their class.</li>
<li>If possible try to work for a professor, ideally a quantitative one, because it can be more difficult to understand the evidence that non-quantitative-professors bring.
<ul>
<li>How do you get a job with a professor so that they will write you a letter? The best way is to excel in a course that they teach and then ask to work for them. Or excel in a course and then ask that professor to recommend you to the professor you want to work for.</li>
<li>There’s a language that good letters use. You need to be very thoughtful in your choice of letter writers because you can’t control what is written about you, other than through your choice of letter writer.</li>
</ul></li>
<li>That said, not everyone can work for a professor. The main point is that you need to identify letter writers that really know your work, and you.</li>
<li>Be sure to ask the letter writer if they’re comfortable recommending you to the programs that you’re applying for before you ask them to write a letter for those programs.</li>
<li>There’s a tendency to ask the most-famous-professor to write you a letter. If you’ve worked closely with them and they’ll say nice things about you, then that’s great. But the thing about famous professors is that they have seen a lot of strong students, and so it can be dangerous. Professor Big-Name saying you’re the best student they’ve ever worked with is of course great. Professor Big-Name saying you were fine to work with is still good, but less clear-cut. Professor Big-Name saying you got an A in their class doesn’t say much that isn’t already in your transcript.</li>
</ul>
</section>
<section id="transcript" class="level2">
<h2 class="anchored" data-anchor-id="transcript">Transcript</h2>
<p>Grades are important, but not everything. Your transcript needs to reflect the narrative that you’re telling in the rest of the application.</p>
<ul>
<li>If you are not a 4.0 student, then it’s not the end of the world. But be aware of:
<ul>
<li>GPA minimums, and</li>
<li>That your grades at the end of your degree and/or relevant subjects weigh more heavily.</li>
</ul></li>
<li>Grades are important, but students seem to over-weight the importance of grades – all the components of the application are important, and grades are just one part of it.</li>
</ul>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding remarks</h2>
<p>Getting in anywhere requires a healthy dose of luck. It’s not a reflection of your worth as an academic, and especially not as a person. You can’t control who reviews your application, or who has funding to take students that year, or the other students applying that year. There’s also just incredible competition for these spots. There’s an awful lot of chance involved. There’s nothing you can do about this other than not tie your self-worth to it.</p>
</section>


<div id="quarto-appendix" class="default"><section id="acknowledgments" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Acknowledgments</h2><div class="quarto-appendix-contents">

<p>Without wanting to implicate her in anything said here, thanks to Monica Alexander for reading many drafts of this.</p>


</div></section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2021-03-13-grad-school-applications/grad-school-applications.html</guid>
  <pubDate>Sat, 13 Mar 2021 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Cleaning Hansard: The pay’s not great but the work is hard</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2018-08-13-cleaning-hansard/cleaning-hansard.html</link>
  <description><![CDATA[ 




<p><em>Thanks to Monica for the title.</em></p>
<p>After getting an email along the lines of ‘hey aren’t you doing something with Australia’s Hansard?’ I realised that I’ve been a bit remiss about sharing my Australian Hansard progress. This is the first of a series of posts to fix that.</p>
{{&lt; tweet 926509282874585089 &gt;}}
<p>I haven’t written about what I’ve been doing with Australian Hansard to this point because: 1) my knowledge of the political science literature is piecemeal and I’m sure someone must have already done all this and I just can’t find it; and 2) my coding knowledge is also piecemeal and there’s no doubt a million ways to better do what I’ve done so far. If anyone has advice on either aspect (or anything really!) I’d be keen to hear it - please email.</p>
<p>Best I can tell, Australian Hansard is a treasure-trove of data and it’s hard to believe it hasn’t been more analysed. I’m probably missing a whole bunch of literature (insert standard joke about economists here) but so far I can really only find a handful of papers using Australia’s Hansard.<sup>1</sup> There’s plenty of work using the parliamentary records of other Commonwealth countries such as Canada<sup>2</sup>, NZ<sup>3</sup> and the UK<sup>4</sup>. I think that in Australia it’s really only Patrick Leslie who may be using it at the moment (big thank you to Jill Sheppard for pointing this out), but I’ll update this if I find others.</p>
<p>The good news is that Australia’s Hansard has been digitised and is available on the parliament’s website, so a figurative pseudo-Manhattan-project isn’t required (cf.&nbsp;what was needed in Canada, see: https://www.lipad.ca/). If you just want short, specific, sections then the situation is fine - for pre-1981 go to Tim Sherratt’s brilliant Historic Hansard website (http://historichansard.net); for 1981 to 2006 just use the parliament’s website; and for 2006 onward just use Open Australia. The bad news is that Hansard isn’t really available as a nice corpus for larger scale analysis. Making this nice corpus has been keeping me busy, and will be the subject of this series of posts.</p>
<p>Helpfully, various people/organisations have gone to the Hansard website to get the XML files they provide and made them available as an easy download (note that these tend to have been posted as they were provided by the parliament, so they’re full of typos, transcription errors, and a bunch of other mistakes):</p>
<ul>
<li>1901-1980 Hansard is available as XML from Tim Sherratt’s Historic Hansard Github - https://github.com/wragge/hansard-xml.</li>
<li>1998-2014 Hansard is available from Andrew Turpin’s website at University of Melbourne (https://people.eng.unimelb.edu.au/aturpin/qtCorpus/index.html).</li>
<li>2006-current is available from Open Australia’s website (http://data.openaustralia.org.au/origxml/).</li>
</ul>
<p>These helpful people/organisations were able to get those dates (1901-1980 and 1998-current) because the Hansard provides the XML for those years on their website. The problem is the 1980s and the early/mid 1990s because they don’t have the XML available on the website (and from emails with them - it seems as though they simply don’t have it) - the only choice seems to be either to scrape it manually from the Hansard website or to grab all the PDFs, convert them, and then fix the mistakes. I’ve started on the second option - unsure how wise it is but I don’t know of any alternative.</p>
<p>Future posts:</p>
<ul>
<li>Who has been elected to parliament?</li>
<li>What divisions are relevant?</li>
<li>What parties are relevant?</li>
<li>Hansard pre-1981</li>
<li>Hansard post-1980</li>
</ul>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>For instance: Turpin ‘An Attempt to Measure the Quality of Questions in Question Time of the Australian Federal Parliament’.↩︎</p></li>
<li id="fn2"><p>For instance: Beelen, Thijm, Cochrane, Halvemaan, Hirst, Kimmins, Lijbrink, Marx, Naderi, Rheault, Polyanovsky, Whyte ‘Digitization of the Canadian Parliamentary Debates’.↩︎</p></li>
<li id="fn3"><p>For instance: Curran, Higham, Ortiz, Vasques Filho ‘Look Who’s Talking: Bipartite Networks as Representations of a Topic Model of New Zealand Parliamentary Speeches’.↩︎</p></li>
<li id="fn4"><p>For instance: Abercrombie, Batista-Navarro ‘Aye or No? Speech-level Sentiment Analysis of Hansard UK Parliamentary Debate Transcripts’↩︎</p></li>
</ol>
</section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2018-08-13-cleaning-hansard/cleaning-hansard.html</guid>
  <pubDate>Mon, 13 Aug 2018 04:00:00 GMT</pubDate>
</item>
<item>
  <title>The SQL Is Never As Good As The Original</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2018-07-28-the-sql-is-never-as-good-as-the-original/the-sql-is-never-as-good-as-the-original.html</link>
  <description><![CDATA[ 




<p><em>Thanks to Monica for the title.</em></p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>SQL is a popular way of working with data. Advanced users probably do a lot with it alone, but even just having a working knowledge of SQL has increased the number of datasets that I can get data from to then analyse with other tools such as R or Python. You can use SQL within RStudio if you want. The following are a few notes to help future-Rohan when he needs to use SQL. A worked example with a sample of the Hansard data will be included in a future post.</p>
<p><img src="https://imgs.xkcd.com/comics/query.png" class="img-fluid"></p>
<p>SQL is fairly straightforward if you’ve used mutate, filter and join in the R tidyverse as the concepts (and sometimes even the verb) are the same. In that case, half the battle is getting used to the terminology, and the other half is getting on top of the order of operations because SQL can be a tad pedantic.</p>
<p>SQL (“see-quell” or “S.Q.L.” - both camps seem fairly insistent on their way…) is used with relational databases. A relational database is just a collection of at least one table, and a table is just some data organized into rows and columns. If there’s more than one table in the database, then there should be some column that links them. Using it feels a bit like HTML/CSS in terms of being halfway between markup and programming. One fun aspect is that line spaces mean nothing: include them or don’t, but always end a SQL command in a semicolon;</p>
</section>
<section id="creating-a-table" class="level1">
<h1>Creating a table</h1>
<p>Create an empty table of three columns of type: int, text, int:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">CREATE</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">TABLE</span> table_name (</span>
<span id="cb1-2">  column1 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">INTEGER</span>,</span>
<span id="cb1-3">  column2 TEXT,</span>
<span id="cb1-4">  column3 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">INTEGER</span></span>
<span id="cb1-5">);</span></code></pre></div>
</div>
<p>Add a row of data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb2-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">INSERT</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">INTO</span> table_name (column1, column2, column3)</span>
<span id="cb2-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">VALUES</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1234</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Gough Menzies'</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">32</span>);</span></code></pre></div>
</div>
<p>Add a column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb3-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">ALTER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">TABLE</span> table_name</span>
<span id="cb3-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">ADD</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">COLUMN</span> column4 TEXT;</span></code></pre></div>
</div>
</section>
<section id="viewing-the-data" class="level1">
<h1>Viewing the data</h1>
<p>See one column (similar to R’s select):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb4-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> column2</span>
<span id="cb4-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>See two columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb5-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> column1, column2</span>
<span id="cb5-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>See all columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb6-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb6-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>See unique rows in a column (similar to R’s distinct):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb7-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">DISTINCT</span> column2</span>
<span id="cb7-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>See the rows that match a criteria (similar idea to R’s which or filter):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb8-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb8-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb8-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column3 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>;</span></code></pre></div>
</div>
<p>All the usual operators are fine with WHERE: =, !=, &gt;, &lt;, &gt;=, &lt;=. Just make sure the condition evaluates to true/false.</p>
<p>See the rows that are pretty close to a criteria:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb9-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb9-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb9-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column2 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">LIKE</span>  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_ough Menzies'</span>;</span></code></pre></div>
</div>
<p>The _ above is a wildcard that matches to any character e.g.&nbsp;‘Cough Menzies’ would be matched here, as would ‘Gough Menzies’. LIKE is not case-sensitive: ‘Gough Menzies’ and ‘gough menzies’ would both match here.</p>
<p>Use % as an anchor to matches pieces:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb10-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb10-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb10-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column2 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">LIKE</span>  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'%Menzies'</span>;</span></code></pre></div>
</div>
<p>That matches anything ending with ‘Menzies’, so ‘Cough Menzies’, ‘Gough Menzies’, ‘Sir Menzies’ etc, would all be matched here. Use surrounding percentages to match within, e.g.&nbsp;%Menzies% would also match ‘Sir Menzies Jr’ whereas %Menzies would not.</p>
<p>This is wild: NULL values (!) (True/False/NULL) are possible, not just True/False, but they need to be explicitly matched for:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb11-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb11-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb11-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column2 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">IS</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">NOT</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">NULL</span>;</span></code></pre></div>
</div>
<p>This too is wild: There’s an underlying ordering build into number, date and text fields that allows you to use BETWEEN on all those, not just numeric! The following looks for text that starts with a letter between A and M (not including M) so would match ‘Gough Menzies’, but not ‘Sir Gough Menzies’!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb12-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb12-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb12-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column2 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">BETWEEN</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'A'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">AND</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'M'</span>;</span></code></pre></div>
</div>
<p>If you look for a numeric (as opposed to text) then BETWEEN is inclusive.</p>
<p>Combine conditions with AND (both must be true to be returned) or OR (at least one must be true):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb13-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb13-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb13-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column2 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">BETWEEN</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'A'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">AND</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'M'</span></span>
<span id="cb13-4">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">AND</span> column3 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">32</span>;</span></code></pre></div>
</div>
<p>You can order the result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb14-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb14-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb14-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">ORDER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">BY</span> column3;</span></code></pre></div>
</div>
<p>Ascending is the default, add DESC for alternative:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb15-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb15-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb15-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">ORDER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">BY</span> column3 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">DESC</span>;</span></code></pre></div>
</div>
<p>Restrict the return to a certain number of values by adding LIMIT at the end:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb16-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb16-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb16-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">ORDER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">BY</span> column3 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">DESC</span></span>
<span id="cb16-4">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">LIMIT</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>;</span></code></pre></div>
</div>
<p>(This doesn’t work all the time - only certain SQL databases.)</p>
</section>
<section id="modifying-data-and-using-logic" class="level1">
<h1>Modifying data and using logic</h1>
<p>Edit a value:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb17-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">UPDATE</span> table_name</span>
<span id="cb17-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SET</span> column3 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">33</span></span>
<span id="cb17-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1234</span>;</span></code></pre></div>
</div>
<p>Implement if/else logic:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb18-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb18-2">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">CASE</span></span>
<span id="cb18-3">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHEN</span> column2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Gough Whitlam'</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">THEN</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labor'</span></span>
<span id="cb18-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHEN</span> column2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Robert Menzies'</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">THEN</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Liberal'</span></span>
<span id="cb18-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">ELSE</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Who knows'</span></span>
<span id="cb18-6">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">END</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">AS</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Party'</span></span>
<span id="cb18-7">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>This returns a column called ‘Party’ that looks at the name of the person to return a party.</p>
<p>Delete some rows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb19-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">DELETE</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb19-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WHERE</span> column3 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">IS</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">NULL</span>;</span></code></pre></div>
</div>
<p>Add an alias to a column name (this just shows in the output):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb20-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> column2 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">AS</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Names'</span></span>
<span id="cb20-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
</section>
<section id="summarising-data" class="level1">
<h1>Summarising data</h1>
<p>We can use COUNT, SUM, MAX, MIN, AVG and ROUND in the place of summarise in R. COUNT counts the number of rows that are not empty for some column by passing the column name, or for all using *:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb21-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">COUNT</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>)</span>
<span id="cb21-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>Similarly, pass a column to SUM, MAX, MIN, and AVG:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb22-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">SUM</span>(column1)</span>
<span id="cb22-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>ROUND takes a column and an integer to specify how many decimal places:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb23-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ROUND</span>(column1, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb23-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name;</span></code></pre></div>
</div>
<p>SELECT and GROUP BY is similar to group_by in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb24-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> column3, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">COUNT</span>(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>)</span>
<span id="cb24-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table_name</span>
<span id="cb24-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">GROUP</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">BY</span> column3;</span></code></pre></div>
</div>
<p>You can GROUP BY column number instead of name e.g.&nbsp;1 instead of column3 in the GROUP BY line or 2 instead of COUNT(*) if that was of interest.</p>
<p>HAVING for aggregates, is similar to filter in R or the WHERE for rows from earlier. Use it after GROUP BY and before ORDER BY and LIMIT.</p>
</section>
<section id="combining-data" class="level1">
<h1>Combining data</h1>
<p>Combine two tables using JOIN or LEFT JOIN:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb25-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">SELECT</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span>
<span id="cb25-2">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> table1_name</span>
<span id="cb25-3">  <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">JOIN</span> table2_name</span>
<span id="cb25-4">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">ON</span> table1_name.colum1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> table2_name.column1;</span></code></pre></div>
</div>
<p>Be careful to specify the matching columns using dot notation. Primary key columns uniquely identify rows and are: 1) never NULL; 2) unique; 3) only one column per table. A primary key can be primary in one table and foreign in another. Unique columns have a different value for every row and there can be many in one table.</p>
<p>UNION is the equivalent of cbind if the tables are already fairly similar.</p>


</section>

 ]]></description>
  <guid>https://rohanalexander.com/posts/2018-07-28-the-sql-is-never-as-good-as-the-original/the-sql-is-never-as-good-as-the-original.html</guid>
  <pubDate>Sat, 28 Jul 2018 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Mapping the 2016 Australian Election Polling Place Results</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2017-07-18-mapping-the-2016-australian-election-polling-place-results/mapping-the-2016-australian-election-polling-place-results.html</link>
  <description><![CDATA[ 




<div class="cell">
<iframe src="https://rohanalexander.shinyapps.io/polling_place_firstpref_winner/?showcase=0" width="672" height="600px" data-external="1">
</iframe>
</div>
<p>The note that follows introduces Australia’s political system, and then details the process of downloading and merging first-preference votes by polling place, and then plotting it on an interactive map.</p>
<section id="australias-political-system" class="level1">
<h1>Australia’s political system</h1>
<p>In 2016 Australia’s federal government was determined by the outcomes of elections in 150 divisions which each elected one member to the lower house. The Liberal/National Coalition won 76 seats which allowed it to form a majority government; while the Labor party won 69 seats to form the Opposition; the Greens and the Nick Xenophon Team each won one seat; and there were two Independent members (Andrew Wilkie and Cathy McGowan).</p>
<p>Votes are cast at polling places in each division. In general voters can go to any polling place within their registered division, but some polling places that are close to a boundary will allow voting from there and some major polling places (such as the city hall of a state capital) will allow voting in any division.</p>
<p>Although there are some exceptions divisions are generally constructed so that they each have roughly the same number of people. However this is not the case for polling places – some are much larger than others. Nonetheless it is interesting to see the geographic distribution of which party received the most first-preference votes in each polling place, especially in the context of which party won the division.</p>
</section>
<section id="polling-place-data" class="level1">
<h1>Polling place data</h1>
<p>The main packages for the data manipulation are the tidyverse and magrittr. leaflet allows the creation of interactive maps, ggmap creates static maps, and rgdal assists with dealing with geographic data. rmapshaper is used to reduce the size of the shapefile of division boundaries so that it is faster to load.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(magrittr)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(leaflet)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggmap)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rgdal)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rmapshaper)</span></code></pre></div>
</div>
<p>The polling place results can be downloaded by state from the AEC website at http://results.aec.gov.au/20499/Website/HouseDownloadsMenu-20499-Csv.htm. There the AEC also makes available a dataset that contains geocodes for each of the polling places. The separate datasets for each state need to be merged, and then each polling place needs to be geocoded. Finally some minor changes are needed to make the party names easier to follow.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">#### Read in the polling place datasets (are state specific), and the geocodes for each polling place. Then put it all together to have one geocoded polling place dataset for all of Australia: Australia_booths. Finally, create a dataset that is filtered so that it just shows the winner of each booth: Australia_booths_winner. ####</span></span>
<span id="cb2-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Data importing</span></span>
<span id="cb2-3">geocodes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/GeneralPollingPlacesDownload-20499.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-4">NSW_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-NSW.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-5">QLD_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-QLD.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-6">VIC_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-VIC.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-7">ACT_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-ACT.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-8">TAS_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-TAS.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-9">SA_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-SA.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-10">WA_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-WA.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-11">NT_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseStateFirstPrefsByPollingPlaceDownload-20499-NT.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Merge</span></span>
<span id="cb2-13">Australia_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(NSW_booths, QLD_booths, VIC_booths, ACT_booths, TAS_booths, SA_booths, WA_booths, NT_booths)</span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add the geocodes</span></span>
<span id="cb2-15">Australia_booths <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> Australia_booths <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">left_join</span>(geocodes)</span>
<span id="cb2-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Clean up</span></span>
<span id="cb2-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span>(NSW_booths, QLD_booths, VIC_booths, ACT_booths, TAS_booths, SA_booths, WA_booths, NT_booths)</span>
<span id="cb2-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># If you need it use this to get a list of the parties, ordered by the number of first-preference votes</span></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># first_votes &lt;- Australia_booths %&gt;%</span></span>
<span id="cb2-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   group_by(PartyNm) %&gt;%</span></span>
<span id="cb2-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   summarise(votes = sum(OrdinaryVotes, na.rm = TRUE)) %&gt;%</span></span>
<span id="cb2-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   arrange(desc(votes))</span></span>
<span id="cb2-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Combine some parties that are separate, but equivalent: Australian Labor Party &amp; Australian Labor Party (Northern Territory) Branch &amp; Labor, Country Liberals (NT) &amp; Liberal, The Greens &amp; The Greens (WA).</span></span>
<span id="cb2-25">Australia_booths<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">recode</span>(Australia_booths<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Australian Labor Party (Northern Territory) Branch"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Australian Labor Party"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Labor"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Australian Labor Party"</span>)</span>
<span id="cb2-26">Australia_booths<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">recode</span>(Australia_booths<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Country Liberals (NT)"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal/LNP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal National Party of Queensland"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal/LNP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal/LNP"</span>)</span>
<span id="cb2-27">Australia_booths<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">recode</span>(Australia_booths<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The Greens (WA)"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The Greens"</span>)</span>
<span id="cb2-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create an indicator for who won the polling place then filter on that</span></span>
<span id="cb2-29">Australia_booths_winner <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> Australia_booths <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(PollingPlaceID) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">polling_place_winner =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(OrdinaryVotes) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> OrdinaryVotes, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(OrdinaryVotes), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(polling_place_winner <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-33"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#table(Australia_booths_winner$PartyNm)</span></span>
<span id="cb2-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># There are three parties that only win one booth, so combine all those into 'Other'</span></span>
<span id="cb2-35">Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">recode</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Australian Recreational Fishers Party"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Christian Democratic Party (Fred Nile Group)"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Derryn Hinch's Justice Party"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other"</span>)</span></code></pre></div>
</div>
</section>
<section id="division-data" class="level1">
<h1>Division data</h1>
<p>The divisions can be coloured based on which party won overall. The map of the boundaries for each division can be downloaded from the AEC website here: http://www.aec.gov.au/Electorates/gis/gis_datadownload.htm. The shapefile doesn’t have winner of each division so this needs to be merged into it. It is important to put the shapefile dataset first when merging. Finally, the shapefile is quite a large file and this can be reduced for faster loading.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">#### Read in the shapefiles (maps) that show each of the boundaries of the divisions (electorates) then add the data to say who won that division. Result is a spatial dataframe called boundaries. ####</span></span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Overall winner for each division, which will be used to color the division</span></span>
<span id="cb3-3">Division_winner <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/HouseMembersElectedDownload-20499.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">skip =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># The boundaries of the divisions (downloaded from: http://www.aec.gov.au/Electorates/gis/gis_datadownload.htm)</span></span>
<span id="cb3-5">boundaries <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readOGR</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dsn =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/national-midmif-09052016/COM_ELB.TAB"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">layer =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"COM_ELB"</span>)</span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Fix a couple - Mcmillan and Mcpherson - that have capitalisation issues</span></span>
<span id="cb3-7">boundaries<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Elect_div <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">recode</span>(boundaries<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Elect_div, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Mcmillan"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"McMillan"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Mcpherson"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"McPherson"</span>)</span>
<span id="cb3-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add the overall division winner dataset into the boundaries dataset (thanks to http://www.nickeubank.com/wp-content/uploads/2015/10/RGIS2_MergingSpatialData_part1_Joins.html)</span></span>
<span id="cb3-9">boundaries <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(boundaries, Division_winner, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by.x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Elect_div"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by.y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DivisionNm"</span>)</span>
<span id="cb3-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Simplify and reduce the size of the shapefile so that it loads better</span></span>
<span id="cb3-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">object.size</span>(boundaries)</span>
<span id="cb3-12">boundaries <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> rmapshaper<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ms_simplify</span>(boundaries)</span>
<span id="cb3-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">object.size</span>(boundaries)</span>
<span id="cb3-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Clean up</span></span>
<span id="cb3-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span>(Division_winner)</span></code></pre></div>
</div>
<p>Then colours need to be associated with each party.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">#### Specify the colour schemes that will be used. ####</span></span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set the color scheme for the booth coloring</span></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pal &lt;- colorFactor(</span></span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   palette = "Dark2", </span></span>
<span id="cb4-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   domain = unique(Australia_booths$PartyNm)</span></span>
<span id="cb4-6">pal <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colorFactor</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#c04745"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#616161"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"purple4"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#4776be"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#ff5800"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cyan1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"yellow"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#a8c832"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"brown4"</span>), </span>
<span id="cb4-7">                          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">domain =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Australian Labor Party"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Independent"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Informal"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Katter's Australian Party"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal/LNP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nick Xenophon Team"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Pauline Hanson's One Nation"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The Greens"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The Nationals"</span>))</span>
<span id="cb4-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set the color scheme for the division coloring</span></span>
<span id="cb4-9">pall <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colorFactor</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#c04745"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#616161"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"purple4"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#4776be"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#4776be"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#ff5800"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#a8c832"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"brown4"</span>), </span>
<span id="cb4-10">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">domain =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Australian Labor Party"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Independent"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Katter's Australian Party"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Liberal National Party"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nick Xenophon Team"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The Greens"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The Nationals"</span>))</span></code></pre></div>
</div>
</section>
<section id="interactive-map" class="level1">
<h1>Interactive map</h1>
<p>Finally, the map can be produced:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">#### Pull it all together to make the map ####</span></span>
<span id="cb5-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Make the map</span></span>
<span id="cb5-3">Australia_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leaflet</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-5">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Base groups</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addTiles</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add default OpenStreetMap map tiles</span></span>
<span id="cb5-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addProviderTiles</span>(providers<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Stamen.TonerLite, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Toner Lite"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add a black and white alternative</span></span>
<span id="cb5-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setView</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">133.7751</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">25.2744</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">zoom =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Specify where the map is initially focused</span></span>
<span id="cb5-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addPolygons</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> boundaries, </span>
<span id="cb5-10">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#444444"</span>, </span>
<span id="cb5-11">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, </span>
<span id="cb5-12">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">smoothFactor =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>,</span>
<span id="cb5-13">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">opacity =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>, </span>
<span id="cb5-14">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fillColor =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pall</span>(boundaries<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm),</span>
<span id="cb5-15">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">highlightOptions =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">highlightOptions</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#666"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bringToFront =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add the plot of the divisions, coloured by which party won it</span></span>
<span id="cb5-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addCircles</span>(</span>
<span id="cb5-17">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> Australia_booths_winner,</span>
<span id="cb5-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Longitude, </span>
<span id="cb5-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Latitude, </span>
<span id="cb5-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popup =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Division:&lt;/b&gt;"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>DivisionNm), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb5-21">                  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Polling place:&lt;/b&gt;"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PollingPlaceNm), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb5-22">                  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Address:&lt;/b&gt;"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PremisesAddress1), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb5-23">                  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Party with most first-pref votes:&lt;/b&gt;"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb5-24">                  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;First-pref votes:&lt;/b&gt;"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>OrdinaryVotes), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>),</span>
<span id="cb5-25">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>DivisionNm),</span>
<span id="cb5-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#clusterOptions = markerClusterOptions(),</span></span>
<span id="cb5-27">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pal</span>(Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm),</span>
<span id="cb5-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fillOpacity =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Plot the booths, coloured by which party got the most first-preferences.</span></span>
<span id="cb5-29">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Layers control</span></span>
<span id="cb5-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addLayersControl</span>(</span>
<span id="cb5-31">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">baseGroups =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OSM (default)"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Toner Lite"</span>),</span>
<span id="cb5-32">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">options =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">layersControlOptions</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">collapsed =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb5-33">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-34">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addLegend</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottomright"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pal =</span> pal, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> Australia_booths_winner<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>PartyNm,</span>
<span id="cb5-35">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Which party won"</span>,</span>
<span id="cb5-36">            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#labFormat = labelFormat(prefix = "$"),</span></span>
<span id="cb5-37">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">opacity =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb5-38">  )</span>
<span id="cb5-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Call the map</span></span>
<span id="cb5-40">Australia_map</span></code></pre></div>
</div>


</section>

 ]]></description>
  <guid>https://rohanalexander.com/posts/2017-07-18-mapping-the-2016-australian-election-polling-place-results/mapping-the-2016-australian-election-polling-place-results.html</guid>
  <pubDate>Tue, 18 Jul 2017 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Trump, Revisited</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2016-07-17-trump-revisited/trump-revisited.html</link>
  <description><![CDATA[ 




<p><strong>(Comment 4 July 2017: Like much of my writing about Trump, the opinions here haven’t aged too well. Nonetheless, I learnt a lot from writing this and later from thinking about why I went wrong.)</strong></p>
<p><em>A few notes and photos from a Trump rally in Indiana earlier this week. The focus is on whether Trump ‘could’ win the election in November. In the interest of transparency, it’s worth acknowledging that I didn’t think Trump could win the Republican nomination. Thanks to Monica for helpful edits.</em></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-07-17-trump-revisited/images/2016_07_17_Children.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Donald Trump is an improved politician, but it’s unlikely to be enough. He has harnessed fervent anti-Clinton sentiment amongst Republicans. But he does not have time to build the coalitions usually needed to win a US presidential election.</p>
<p>At a recent rally in Westfield, Indiana, Trump was comparatively structured and measured. There was less name-calling and little of the ludicrous hypotheticals that characterized a January rally in Iowa.<sup>1</sup> <sup>2</sup> Some things haven’t changed: the crowd is still overwhelmingly white; ‘Storm Trumpers’ in ill-fitting suits are still on patrol; and Trump still lies.<sup>3</sup> But he is no longer politically inexperienced, and neither were the Trump supporters that I talked to.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-07-17-trump-revisited/images/2016_07_17_TrumpMedia.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The Republican Governor of Indiana, Mike Pence, introduced Trump at the rally. Pence was later announced as Trump’s running mate. If Trump is to win the election then he needs to easily win states such as Indiana, where Republicans have only lost once in the past fifty years.<sup>4</sup> Even though the outcome in Indiana should not be in doubt, Hoosier Republicans are important. Trump needs fired-up volunteers to travel to neighboring Ohio, a crucial swing state, and Trump needs money. But mostly, Trump needs friends.</p>
<p>Despite Trump’s improvement as a politician, winning a presidential election usually requires constructing coalitions. Often this is the work of a lifetime. For instance, Richard Ben Cramer describes how, beginning in his 20s, George H. W. Bush built a Christmas card list. By the time he was Vice President 30,000 ‘friends’ received an annual Christmas card from him.<sup>5</sup> The Clintons have been building coalitions since their 20s too. Part of Trump’s appeal is that he has only been a politician for a year, but his campaign is inefficient without coalitions.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-07-17-trump-revisited/images/2016_07_17_TrumpSpeaking.png" class="img-fluid figure-img" width="486"></p>
</figure>
</div>
</div>
</div>
<p>The most precious resource in any election is a candidate’s time. The US presidential election magnifies this because of the scrutiny, the electoral college, and the size of the country. Yes, a candidate needs to raise money, motivate supporters, and convince undecided voters. But to stand a chance of winning, a candidate usually also needs coalitions that can do all this for them. Without these, there is more pressure on Trump.</p>
<p>Trump has also only recently put modern campaign essentials in place. For instance, just a few months ago Trump described the use of data in politics as ‘overrated’.<sup>6</sup> But he seems to have changed his mind: Trump collected and verified the phone numbers of those who attended the rally in Indiana. Texts and phone calls will be critical to the effort of getting his supporters to turn out to vote in November. Trump is also now sending emails but it takes time to build a high-quality list.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-07-17-trump-revisited/images/2016_07_17_TrumpCap.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The Trump supporters that I spoke to were unfailingly polite. They conscientiously thanked the many law enforcement personnel, and there were many military veterans in the audience. No one supported every aspect of Trump’s platform, but this is not unusual in political campaigns. There was some anti-Muslim sentiment, and a few conspiracy theories. Political correctness was a recurrent issue, as was declining US influence in the world. Although Trump uses ‘The Wall’ as a call-and-response device (Trump: ‘Who’s going to pay for the wall?’ Crowd: ‘Mexico’), anti-Mexican sentiment seemed to be driven more by a perceived willingness of Hispanics to work for low wages than racism.</p>
<p>The Republicans I talked to were united only in being against Clinton; but similarly many Democrats seem united only in wanting to stop Trump. How such a campaign translates into votes is unclear. While there don’t seem to be many undecided voters, there are many dejected ones. It will be interesting to see turnout estimates in swing states. Would you stand in line to vote against, rather than for, a candidate?</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-07-17-trump-revisited/images/2016_07_17_TrumpAndPhone.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>In just one year Trump has changed US politics. He is quickly improving as a politician, but remains divisive. Is Trump the moment, or just of the moment? Although he probably does not have enough time to do the work that would allow him to win in November,<sup>7</sup> the impact of his campaign will be felt for many years.</p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Go to https://www.rohanalexander.com/2016/01/14/notes-and-photos-from-iowa/ for that write-up.↩︎</p></li>
<li id="fn2"><p>The speech can be viewed here: https://youtu.be/ewMhP-V1ed8, as at 15 July 2016.↩︎</p></li>
<li id="fn3"><p>See, for instance, Politifact (http://www.politifact.com/personalities/donald-trump/) which awarded Trump PolitiFact’s 2015 Lie of the Year and rules 58 per cent of his statements as either ‘False’ or ‘Pants on Fire’.↩︎</p></li>
<li id="fn4"><p>See the entry for Indiana here: https://en.wikipedia.org/wiki/List_of_United_States_presidential_election_results_by_state, as at 15 uly 2016.↩︎</p></li>
<li id="fn5"><p>See Richard Ben Cramer’s ‘What It Takes’, page 153 of the Vintage; Reprint edition (June 1, 1993).↩︎</p></li>
<li id="fn6"><p>See: http://bigstory.ap.org/article/6d588a38061c4657a557d1dde86782ec/trumps-questioning-value-data-worries-republicans, accessed 15 July 2016.↩︎</p></li>
<li id="fn7"><p>It is estimated that Trump currently has a 20-40 per cent chance of winning the election. For instance, see the Five Thirty Eight election forecast (http://projects.fivethirtyeight.com/2016-election-forecast/), as at 15 July 2016 or the New York Times summary of election polls (http://www.nytimes.com/interactive/2016/us/elections/polls.html), again as at 15 July 2016.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <guid>https://rohanalexander.com/posts/2016-07-17-trump-revisited/trump-revisited.html</guid>
  <pubDate>Sun, 17 Jul 2016 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Notes and Photos From Iowa</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/notes-and-photos-from-iowa.html</link>
  <description><![CDATA[ 




<p><em>Sincere thanks to Bec, Callam, Monica, and Owen for reading and improving these notes.</em></p>
<p>Bernie Sanders seems quite reasonable for a revolutionary. An energetic man of 74, he spoke for an hour in Perry, Iowa, to a room of 300 from only a few lines of handwritten notes, and then fielded half an hour of questions. He does not have the same aura that surrounded, then, Senator Obama in his own Iowa battle with, then, Senator Clinton in 2008 say those who saw both. Instead, Sanders has preternatural calm.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_11_Bernie.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo of Bernie Sanders and audience at Perry, Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>So much calm, in fact, that some audience members who walked into the auditorium undecided, walked out excitedly supporting Sanders’ ‘socialist’ revolution. His revolution includes, amongst other features, universal medical coverage, paid maternity leave and a $15 hourly minimum wage; hardly revolutionary notions in many developed countries. For instance, few politicians that are against these policies get elected in Australia. However, Sanders will test whether a politician who supports them can get elected in the US.</p>
<p>Much has been made of Sanders’ recent polling. But the Iowa Caucasus, especially for Democrats, are a test not just of support, but enthusiasm and strength of will. Participants do not vote, they caucus. This means they gather with their neighbours and publicly indicate their support of a candidate - sometimes by raising a hand, sometimes by moving to a side of a room. Supporters must resist peer pressure, and continue supporting their candidate even as others try to sway them.</p>
<p>In addition to popularity, winning in Iowa requires organisation and attention to detail. This is why the operatives of Secretary Clinton, who is 68, remain content despite the polls. Caucusing is onerous, especially for those with children or without transport. A campaign is only as good as the number of supporters that it can get to turn up on the night. Clinton operatives are quick to mention their advantage in terms of this ‘ground game’.</p>
<p>Clinton’s ground game advantage is partly due to experience, but it is also due to money. Sanders unexpectedly raised $33 million in the final quarter of 2015, which compares favourably with Clinton’s $37 million, but Clinton has other sources of financial support. Sanders’ supporters should hope that the evident lack of preparation at the event in Perry, Iowa, itself (for instance, Sanders had to repeatedly ask for water as none had been left on the podium, nearly losing his voice on occasion) are not indicative of broader organisational oversights.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Trump_1.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo of Trump protesters.</figcaption>
</figure>
</div>
</div>
</div>
<p>Donald Trump is different. More than a thousand people watched Trump, who is 69, speak in Cedar Falls, Iowa. Almost all were white. What he lacks in substance or structure, Trump makes up for with self-confidence. For 40 minutes he verbally picked at this and that, discussing polls, as well as goading opponents via ‘hypotheticals’ and name-calling. The audience was allowed no questions.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Trump_2.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo of Donald Trump at Cedar Falls, Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>Trump does not campaign in poetry (although he did literally recite song lyrics) and he seems unlikely to govern in prose. His operatives were clad in ill-fitting suits and shiny leather shoes that looked newly purchased. These ‘Storm Trumpers’ were unfailingly polite, but nonetheless menacing. The loudspeaker request, moments before Trump spoke, to not physically harm protesters was chilling rather than reassuring, not least since it was followed by laughter from the crowd. The comfort of knowing that the Secret Service would have confiscated any knives or guns at the door was relative rather than absolute. [Edit 26/1/16: Trump has since asserted that he could shoot somebody and not lose any voters. You get the uneasy sense that it would be better for his theory to remain untested, for fear that he may onto something.]</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Trump_3.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo of Donald Trump audience at Cedar Falls, Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>Trump’s political inexperience seems matched by that of his supporters. His warm-up acts (one of whose qualification, as she explained, was being a runner-up on The Apprentice) spent considerable time explaining the importance of turning out to caucus on 1 February. Unlike the Democrats, Republican caucus-goers do not have to be as resistant to peer pressure - secret ballots are possible. But much of the crowd seemed new to the political process, and getting each of them to turn out, and in some cases register as Republican, may be too much to expect. If so, then it is likely that Senator Ted Cruz, a 45-year-old conservative Republican from Texas, will prevail.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Trump_4.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo of Trump at Cedar Falls, Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>For all their differences, it is the same anger that propels Sanders and Trump toward the top of the polls. Neither candidate is an establishment member of their respective parties – Sanders only joined earlier this year despite having generally voted with the Democrats as a senator, and Trump appears to swear allegiance only to himself. It is the feeling of being let down by the status quo, of the system needing a catalyst for something more, that drives their popularity.</p>
<p>While Sanders’ policies may not make much difference for today’s caucus-goers, he speaks to their concern that their children’s lives may not be better than their own. His is an appeal for hope. Trump’s appeal is to those who feel they are worse off now than they were in the past. He gives them someone to blame, and provides solutions such as tariffs and walls, that some see as plausible. Perhaps for Sanders the glass is half-full; for Trump, half-empty?</p>
<p>The economic reality is that feeling worse off is reasonable for many Americans. After accounting for inflation the 2014 measure (which is the most recent one) of American household median income is lower than it was in 1997. And, as both Trump and Sanders accurately explained to their audiences, the 5 per cent unemployment rate that President Obama appeals to as a measure of his success is artificially low because some have given up looking for work.</p>
<p>Those suffering most from the success of Sanders and Trump are candidates such as John Ellis Bush. Jeb, 62, seems to have carefully studied the art of coming across as a nice guy, albeit one who is a little annoyed about having to speak to about 200 people in Coralville, Iowa. Being a Bush comes with baggage and expectations, but it does have its advantages, such as immaculate event advance work and plenty of press.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Jeb_1.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo of Jeb! at Coralville, Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>Jeb emphasised his commander-in-chief credentials. His older brother’s war in Iraq may have ensured that the age of aggressive American imperialism is over for now, but Jeb was still introduced by a retired Admiral who spoke of Jeb’s leadership fighting hurricanes in Florida and neighbouring states.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Jeb_2.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo of Jeb! at Coralville, Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>The crowd was lively and Jeb was frequently interrupted by cheers. He spoke without notes for about 30 minutes to a crowd surrounding him on all four sides. Maybe this is a plan to seem more approachable, or to encourage audience participation? An hour of questions, courtesy of roaming microphones, followed. Jeb worked hard to be nice, but it was apparent that he was, indeed, working at it, because he occasionally lapsed and gently made fun of a questioner.</p>
<p>For all the well-acknowledged flaws of presidential systems in general, and the US one specifically, it has much to be proud of. Every candidate for their party’s nomination will visit Iowa at some stage this week, many visiting multiple towns in a day. The scrutiny is intense. Iowa is a state of 3 million people, divided into 99 counties, and by 1 February, many candidates will have visited every county.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Iowa_1.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo in Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>If one were starting from scratch, the Iowa Caucuses would probably not be the way to go. Iowa is not representative of the rest of the United States, and its outsized electoral importance skews national policy. But in their own way, the Iowa Caucuses are valuable. In general, the nature of the candidates seems to come through in the events because they are so intimate. Given that so much of leadership consists of reacting to unexpected events, and the difficulty that politicians tend to have implementing their desired policies, perhaps this is the most important consideration. It may be that, to rework Churchill’s aphorism, the Iowa Caucuses are the worst way to select presidential candidates, apart from all the others.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/images/2016_01_12_Iowa_2.jpg" class="img-fluid figure-img"></p>
<figcaption>Photo in Iowa, by Monica Alexander.</figcaption>
</figure>
</div>
</div>
</div>
<p>There are many aspects of the United States that should not be considered, let alone encouraged, in Australia. But the rigorous examination of candidates facilitated by the Iowa Caucuses is something Australia should emulate.</p>



 ]]></description>
  <guid>https://rohanalexander.com/posts/2016-01-14-notes-and-photos-from-iowa/notes-and-photos-from-iowa.html</guid>
  <pubDate>Thu, 14 Jan 2016 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Prepare For Future Economic Crises Now</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <link>https://rohanalexander.com/posts/2015-08-31-prepare-for-future-economic-crises-now/prepare-for-future-economic-crises-now.html</link>
  <description><![CDATA[ 




<p><em>Originally published in the Canberra Times.</em></p>
<p>Few policymakers were prepared for the financial crisis of 2007-08. Until it hit, their focus was on more obvious threats to the economy, instead of such an unexpected event. Could this be because planning for unexpected economic events is not the explicit responsibility of any particular policy-maker? If so, this has to change.</p>
<p>After the collapse of the US housing market, Lehman Brothers’ bankruptcy became an economic Rorschach test. Policymakers at the Reserve Bank of Australia and the Australian Treasury saw it as evidence that some banks cannot be allowed to fail. In response, the RBA reduced the cash rate and the Treasury implemented a stimulus package.</p>
<p>With the benefit of hindsight, some (such as Nobel Laureate Paul Krugman) argue that we should have anticipated the collapse. This is more than just wishful thinking. We now know there were those (for instance Raghuram Rajan, now the Governor of the Reserve Bank of India) whose warnings were more or less spot-on. Unfortunately, they were mostly ignored. It just seemed too unlikely that trouble in the US housing market could cause widespread recessions.</p>
<p>In an effort to prevent a repeat of the financial crisis, policymakers at the RBA, Treasury and elsewhere have taken steps to mitigate the weaknesses of the financial sector. And they have studied how those weaknesses could affect the broader economy. But there is a danger that they will overlook economic threats that do not originate in the financial sector. Like a general who trains troops to fight past wars, we may again be caught unprepared.</p>
<p>The financial crisis taught us that even infallible elements of an economy can fail. But because such failure is difficult to imagine ex ante, there appears to have been little attempt to act on this lesson. One way would be to practise dealing with unfamiliar – and less obvious – economic threats.</p>
<p>The process should begin by systematically examining the economy for weaknesses beyond the financial sector. Policymakers need to identify which elements of the economy pose systemic risks. We now know about the financial sector and there are many initiatives to deal with its risks, but we need to search for others.</p>
<p>Policymakers need to stress-test elements of the economy that appear robust and unfaltering, not just the financial sector. And they should conduct scenario analysis to practise responding if those elements were to fail. Just as the possibility that the US sub-prime housing market could cause recessions was almost unfathomable in 2006, the cause of the next economic crisis could seem unlikely to us now. Policymakers need to search broadly for possibilities.</p>
<p>Of course most of the scenarios that are considered will never occur, and policymakers should not be given carte blanche to make legislative changes. What is needed is less heavy-handed but more useful: policymakers need to publicly consider and practise reacting to, unexpected events. This makes it more likely that they will react well when an unexpected crisis hits.</p>
<p>The financial crisis made it clear that unexpected elements of an economy can fail. Policymakers should be better prepared for this. They must fix the weaknesses identified by the financial crisis and deal with current threats. But importantly, policymakers must also give consideration to more obscure risks. It is only through this effort that we can hope to build an economy that is more resilient to future crises.</p>



 ]]></description>
  <guid>https://rohanalexander.com/posts/2015-08-31-prepare-for-future-economic-crises-now/prepare-for-future-economic-crises-now.html</guid>
  <pubDate>Mon, 31 Aug 2015 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Plastic Policies</title>
  <dc:creator>Rohan Alexander</dc:creator>
  <dc:creator>Flavio Menezes</dc:creator>
  <link>https://rohanalexander.com/posts/2009-05-25-plastic-policies/plastic-policies.html</link>
  <description><![CDATA[ 




<p><em>Written with Professor Flavio Menezes and originally published at Australian Policy Online.</em></p>
<p>There is broad agreement that Australian plastic bag consumption should be reduced. To this end, recent South Australian legislation has banned certain types of plastic bags. But other states wishing to reduce their plastic bag consumption may find a tax rather than a ban the more appropriate policy instrument.</p>
<p>In South Australia, one of the reasons for a ban rather than a tax was the belief that a tax would impose an additional cost on households. The implied corollary is that a ban on plastic bags would not impose these costs, and thus would presumably be paid for entirely by retailers. This claim is incorrect: not only does a ban on plastic bags impose costs on households, but they are greater than those imposed by a tax.</p>
<p>To understand the impact of a tax on plastic bag consumption it is necessary to distinguish between the initial and final ‘incidence’ of the tax — in other words, between who is legally responsible for paying a tax, and whom the burden of paying the tax would be passed on to. It is the final incidence that matters from a policy perspective. Economic theory suggests that except under very special circumstances, final and initial incidences do not coincide. Indeed, evidence from Germany, Ireland and Switzerland suggest that plastic bag consumption decreases as a result of a tax; and that it is both retailers and households who bear the burden of paying the tax, regardless of the initial incidence.</p>
<p>Under a ban on plastic bags, retailers must switch to other, more ex- pensive, options. Again the distinction between initial and final incidence is important. Although retailers would be legally responsible for providing the more expensive bags required to replace plastic bags, at least some of this additional cost would be passed onto households through higher prices or an explicit charge. Thus, regardless of whether a tax or a ban is used, households bear an additional cost.</p>
<p>So is a tax or a ban the more appropriate instrument? A ban reduces the number of plastic bags to zero, whatever the cost. Bans on smoking in workplaces, for example, are considered desirable because the cost of even a small amount of smoking in the workplace is believed to be unacceptable. For this reason, society is prepared to pay any price to ensure a non-smoking work environment. Is the same true for plastic bags?</p>
<p>In contrast, under a tax the reduction in the number of plastic bags is uncertain, but the additional cost imposed on households is known: it is the size of the tax. A tax more explicitly considers the cost of reduction. It allows households a choice that takes into account the cost and the ben- efit and results in plastic bag usage in cases where the benefit of doing so outweighs the cost.</p>
<p>When the benefit of each additional unit of plastic bag reduction is small compared to the cost a tax is the better option; for should this cost be higher than anticipated, a tax rather than a ban would cost society less. And given that a ban supposes the cost of abatement to be entirely outweighed by the benefit for every level of abatement it is, in effect, not possible that a government advocating a ban has underestimated it.</p>
<p>Although a number of factors must be considered when deciding between a tax or a ban, a ban on plastic bags is unlikely to be the best option for minimising the financial impact on households.</p>



 ]]></description>
  <guid>https://rohanalexander.com/posts/2009-05-25-plastic-policies/plastic-policies.html</guid>
  <pubDate>Mon, 25 May 2009 04:00:00 GMT</pubDate>
</item>
</channel>
</rss>
