<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Rohan Alexander - Data science foundations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Rohan Alexander</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-events" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Events</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-events">    
        <li>
    <a class="dropdown-item" href="./events-tdw.html">
 <span class="dropdown-text">Toronto Data Workshop</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./events-llms_colloquium.html">
 <span class="dropdown-text">Colloquium on Applications of LLMs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./events-reproducibility.html">
 <span class="dropdown-text">Toronto Workshop on Reproducibility</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./events-software.html">
 <span class="dropdown-text">Conference on statistical software</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teaching" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Teaching</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-teaching">    
        <li>
    <a class="dropdown-item" href="./teaching-applications_of_llms.html">
 <span class="dropdown-text">Applications of LLMs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-data_science_foundations.html">
 <span class="dropdown-text">Data science foundations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-ethics_and_ds.html">
 <span class="dropdown-text">Ethics and data science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-inf2178.html">
 <span class="dropdown-text">Experimental design for data science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-history_of_statistics.html">
 <span class="dropdown-text">History of statistics and data sciences</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-sta302.html">
 <span class="dropdown-text">Methods of Data Analysis I</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-modeling.html">
 <span class="dropdown-text">Introduction to Modeling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-nlp.html">
 <span class="dropdown-text">Natural Language Processing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-sta304.html">
 <span class="dropdown-text">Surveys, sampling, and observational data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./teaching-inf312.html">
 <span class="dropdown-text">Worlds become data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-misc" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Misc</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-misc">    
        <li>
    <a class="dropdown-item" href="./bookshelf.html">
 <span class="dropdown-text">Bookshelf</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./blog.html">
 <span class="dropdown-text">Blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./recs.html">
 <span class="dropdown-text">Recommendations</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./pdfs/cv-academic-Rohan_Alexander.pdf"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/RohanAlexander"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/RohanAlexander"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:rohan.alexander@utoronto.ca"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#preamble" id="toc-preamble" class="nav-link active" data-scroll-target="#preamble">Preamble</a>
  <ul class="collapse">
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#faq" id="toc-faq" class="nav-link" data-scroll-target="#faq">FAQ</a></li>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives">Learning objectives</a></li>
  <li><a href="#pre-requisites" id="toc-pre-requisites" class="nav-link" data-scroll-target="#pre-requisites">Pre-requisites</a></li>
  <li><a href="#past-iterations" id="toc-past-iterations" class="nav-link" data-scroll-target="#past-iterations">Past iterations</a></li>
  <li><a href="#textbook" id="toc-textbook" class="nav-link" data-scroll-target="#textbook">Textbook</a></li>
  </ul></li>
  <li><a href="#content" id="toc-content" class="nav-link" data-scroll-target="#content">Content</a>
  <ul class="collapse">
  <li><a href="#week-1" id="toc-week-1" class="nav-link" data-scroll-target="#week-1">Week 1</a></li>
  <li><a href="#week-2" id="toc-week-2" class="nav-link" data-scroll-target="#week-2">Week 2</a></li>
  <li><a href="#week-3" id="toc-week-3" class="nav-link" data-scroll-target="#week-3">Week 3</a></li>
  <li><a href="#week-4" id="toc-week-4" class="nav-link" data-scroll-target="#week-4">Week 4</a></li>
  <li><a href="#week-5" id="toc-week-5" class="nav-link" data-scroll-target="#week-5">Week 5</a></li>
  <li><a href="#week-6" id="toc-week-6" class="nav-link" data-scroll-target="#week-6">Week 6</a></li>
  <li><a href="#week-7" id="toc-week-7" class="nav-link" data-scroll-target="#week-7">Week 7</a></li>
  <li><a href="#week-8" id="toc-week-8" class="nav-link" data-scroll-target="#week-8">Week 8</a></li>
  <li><a href="#week-9" id="toc-week-9" class="nav-link" data-scroll-target="#week-9">Week 9</a></li>
  <li><a href="#week-10" id="toc-week-10" class="nav-link" data-scroll-target="#week-10">Week 10</a></li>
  <li><a href="#week-11" id="toc-week-11" class="nav-link" data-scroll-target="#week-11">Week 11</a></li>
  <li><a href="#week-12" id="toc-week-12" class="nav-link" data-scroll-target="#week-12">Week 12</a></li>
  </ul></li>
  <li><a href="#assessment" id="toc-assessment" class="nav-link" data-scroll-target="#assessment">Assessment</a>
  <ul class="collapse">
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#quiz" id="toc-quiz" class="nav-link" data-scroll-target="#quiz">Quiz</a></li>
  <li><a href="#sql-quiz" id="toc-sql-quiz" class="nav-link" data-scroll-target="#sql-quiz">SQL quiz</a></li>
  <li><a href="#personal-website" id="toc-personal-website" class="nav-link" data-scroll-target="#personal-website">Personal website</a></li>
  <li><a href="#tutorial" id="toc-tutorial" class="nav-link" data-scroll-target="#tutorial">Tutorial</a></li>
  <li><a href="#paper-1" id="toc-paper-1" class="nav-link" data-scroll-target="#paper-1">Paper #1</a></li>
  <li><a href="#paper-2" id="toc-paper-2" class="nav-link" data-scroll-target="#paper-2">Paper #2</a></li>
  <li><a href="#paper-3" id="toc-paper-3" class="nav-link" data-scroll-target="#paper-3">Paper #3</a></li>
  <li><a href="#paper-4" id="toc-paper-4" class="nav-link" data-scroll-target="#paper-4">Paper #4</a></li>
  <li><a href="#final-paper" id="toc-final-paper" class="nav-link" data-scroll-target="#final-paper">Final Paper</a></li>
  </ul></li>
  <li><a href="#other" id="toc-other" class="nav-link" data-scroll-target="#other">Other</a>
  <ul class="collapse">
  <li><a href="#children-in-the-classroom" id="toc-children-in-the-classroom" class="nav-link" data-scroll-target="#children-in-the-classroom">Children in the classroom</a></li>
  <li><a href="#accommodations-with-regard-to-assessment" id="toc-accommodations-with-regard-to-assessment" class="nav-link" data-scroll-target="#accommodations-with-regard-to-assessment">Accommodations with regard to assessment</a></li>
  <li><a href="#re-grading" id="toc-re-grading" class="nav-link" data-scroll-target="#re-grading">Re-grading</a></li>
  <li><a href="#plagiarism-and-integrity" id="toc-plagiarism-and-integrity" class="nav-link" data-scroll-target="#plagiarism-and-integrity">Plagiarism and integrity</a></li>
  <li><a href="#late-policy" id="toc-late-policy" class="nav-link" data-scroll-target="#late-policy">Late policy</a></li>
  <li><a href="#writing" id="toc-writing" class="nav-link" data-scroll-target="#writing">Writing</a></li>
  <li><a href="#minimum-submission-requirement" id="toc-minimum-submission-requirement" class="nav-link" data-scroll-target="#minimum-submission-requirement">Minimum submission requirement</a></li>
  <li><a href="#relationship-to-phd-student-learning-outcomes" id="toc-relationship-to-phd-student-learning-outcomes" class="nav-link" data-scroll-target="#relationship-to-phd-student-learning-outcomes">Relationship to PhD Student Learning Outcomes</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data science foundations</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">Preamble</h2>
<section id="overview" class="level3">
<h3 class="anchored" data-anchor-id="overview">Overview</h3>
<p>Quantitative approaches have a common concern: How can others be confident that our statistical models have been brought to bear on appropriate datasets? This course focuses on the ‘data’ of data science. It develops in students an appreciation for the many ways in which dealing with a dataset can get out-of-hand, and establishes approaches to ensure data science is conducted in ways that engenders trusted findings. It touches on statistical modelling, but focuses on everything that comes before and after modelling, and in doing so ensures modelling and analysis are placed on a firmer foundation. In assessment, students will conduct end-to-end data science projects using real-world data, enabling them to fully understand potential pitfalls, and build a portfolio.</p>
<p>The purpose of this course is to develop students who appreciate, and can iterate on, the foundations of data science.</p>
<p>The focus of the learning will be on:</p>
<ol type="1">
<li>actively reading and consider relevant literature;</li>
<li>actively using the statistical programming language R in real-world conditions;</li>
<li>gathering, cleaning, and preparing datasets; and</li>
<li>choosing and implementing statistical models and evaluating their estimates.</li>
</ol>
<p>Essentially this course provides students with everything that they need to know to be able to do the most exciting thing in the world: use data to tell convincing stories.</p>
</section>
<section id="faq" class="level3">
<h3 class="anchored" data-anchor-id="faq">FAQ</h3>
<ul>
<li>Can I audit this course? Sure, but it is pointless, because the only way to learn this stuff is to do the work.</li>
<li>What is a tutorial? You write a paper. Then you send it to your tutor. The next day you have a meeting, ‘tutorial’, where you discuss it with them.</li>
<li>Why is there so much assessment? The only way to learn this stuff is to actually do the work, and students only do the work when they are assessed. It is unfortunate, but there is no way around it.</li>
<li>How difficult is the course? Of students that enrol, the median student drops the course. But the mode overall grade at the end of the course is an A+. The course is not difficult, but the hands-on-projects mean it is a lot of work.</li>
<li>What is the format of the class? There are rarely old-school lectures because those are not effective. You should read the relevant chapter before class. During class we will focus on tutorials and discussion. We will also have industry guests discuss their experience.</li>
<li>How mature is the course? This is the fifth iteration of this course. A lot of the materials are well-developed but there is still a long way to go. Your feedback is appreciated.</li>
</ul>
</section>
<section id="learning-objectives" class="level3">
<h3 class="anchored" data-anchor-id="learning-objectives">Learning objectives</h3>
<p>The purpose of the course is to develop the core skills of data science that are applicable across academia and industry. By the end of the course, you should be able to:</p>
<ol type="1">
<li>Engage critically with ideas and readings in data science (demonstrated in all papers but also tutorials and quizzes).</li>
<li>Conduct research in data science in a reproducible and ethical way (demonstrated in all papers).</li>
<li>Clearly communicate what was done, what was found, and why in writing (demonstrated in all papers).</li>
<li>Understand what constitutes ethical high-quality data science practice, especially reproducibility and respect for those that underpin our data (demonstrated in all papers and selected quizzes).</li>
<li>Respectfully identify strengths and weaknesses in the data science research conducted by others (demonstrated in quizzes, and the peer review).</li>
<li>Develop the ability to appropriately choose and apply statistical models to real-world situations (demonstrated in the final paper)</li>
<li>Conduct all aspects of the typical data science workflow (demonstrated in all papers).</li>
<li>Reflect effectively on your own learning and professional development (demonstrated in some tutorials and quizzes).</li>
</ol>
</section>
<section id="pre-requisites" class="level3">
<h3 class="anchored" data-anchor-id="pre-requisites">Pre-requisites</h3>
<ul>
<li>None.</li>
</ul>
</section>
<section id="past-iterations" class="level3">
<h3 class="anchored" data-anchor-id="past-iterations">Past iterations</h3>
<ul>
<li>2023
<ul>
<li><a href="pdfs/inf3104-2023-syllabus.pdf">Syllabus</a></li>
<li><a href="pdfs/inf3104-2023-evals.pdf">Student evals</a></li>
</ul></li>
</ul>
</section>
<section id="textbook" class="level3">
<h3 class="anchored" data-anchor-id="textbook">Textbook</h3>
<p><a href="https://www.tellingstorieswithdata.com">Telling Stories with Data</a></p>
</section>
</section>
<section id="content" class="level2">
<h2 class="anchored" data-anchor-id="content">Content</h2>
<p>Before class starts you should go through Chapter 1 and Appendix A of <em>Telling Stories with Data</em>.</p>
<section id="week-1" class="level3">
<h3 class="anchored" data-anchor-id="week-1">Week 1</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/02-drinking_from_a_fire_hose.html">Drinking from a fire hose</a>
<ul>
<li>The statistical programming language R enables us to tell interesting stories using data. It is a language like any other, and the path to mastery can be slow.</li>
<li>The framework that we use to approach projects is: plan, simulate, gather, explore, and share.</li>
<li>The way to learn R is to start with a small project and break down what is required to achieve it into tiny steps, look at other people’s code, and draw on that to achieve each step. Complete that project and move onto the next project. Each project you will get a little better.</li>
<li>The key is to start actively working regularly.</li>
</ul></li>
</ul>
</section>
<section id="week-2" class="level3">
<h3 class="anchored" data-anchor-id="week-2">Week 2</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/03-workflow.html">Reproducible workflows</a>
<ul>
<li>Reproducibility typically begins as something that someone imposes on you. It can be onerous and annoying. This typically lasts until you need to revisit a project after a small break. At that point you typically realize that reproducibility is not just a requirement for data science because it is the only way that we can make genuine progress, but because it actually helps ourselves.</li>
<li>Essentially reproducibility implies sharing data, code, and environment. And this is enhanced by using Quarto, R Projects, and Git and GitHub. We use Quarto to build documents that integrate normal text and R code. R Projects enable a file structure that is not dependent on a directory set-up that is user-specific. And Git and GitHub make it easier to share code and data.</li>
<li>This is not an unimpeachable workflow, but one that is good enough and provides many of the benefits. We will improve various aspect of it through various tools, but improving code structure and comments goes a long way.</li>
<li>As we go through writing R code to come to understand the implications of some dataset, there is typically an awful lot of back-and-forth. This implies that we should restart R often (“Session” -&gt; “Restart R and Clear Output”). There are always errors that occur, and it is important to recognize that debugging is a skill that improves with practice. But one key aspect of being able to get help is to be able to make a reproducible example that reproduces the issue for others.</li>
</ul></li>
</ul>
</section>
<section id="week-3" class="level3">
<h3 class="anchored" data-anchor-id="week-3">Week 3</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/04-writing_research.html">Writing research</a>
<ul>
<li>Writing is a key skill, perhaps the most important skill, of all the skills required of a data scientist. The only way to get better at writing, is to write, ideally every day.</li>
<li>When we write, although the benefits typically accrue to ourselves, we must nonetheless write for the reader. This means having one key message that we want to communicate, and thinking about where they are, rather than where we are.</li>
<li>The key is that we get to a first draft as quickly as possible. Even if it is horrible, the difference between a first draft existing and not is enormous. At that point we start to rewrite brutally and removing as many words as possible.</li>
<li>We typically begin with some area of interest, and then develop research questions and data in an iterative way. Even as we are writing our research, we are coming to a better understanding of what we are doing.</li>
</ul></li>
</ul>
</section>
<section id="week-4" class="level3">
<h3 class="anchored" data-anchor-id="week-4">Week 4</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/05-static_communication.html">Static communication</a>
<ul>
<li>We must show the reader the actual observations in the dataset, or as close as is possible, through graphs and tables. This is because it is only through visualization that we can get a true sense of our data. This means that we need to develop a comfort with a variety of graph options, including: bar charts, scatterplots, line plots, and histograms. We can even consider a map to be a type of graph, especially after geocoding our data.</li>
<li>That said, we also must know when to summarize data, for instance using tables. Typical use cases for this include showing part of a dataset, summary statistics, and regression results.</li>
</ul></li>
</ul>
</section>
<section id="week-5" class="level3">
<h3 class="anchored" data-anchor-id="week-5">Week 5</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/06-farm.html">Farm data</a>
<ul>
<li>Before there can be a dataset, there must be measurement, and this brings a whole host of challenges and concerns. One dataset that is designed to be complete, at least in certain respects, is a census. While not perfect, governments spend a lot of money on censuses and other official statistics, and they are a great foundational data source.</li>
<li>However even when we cannot obtain such a dataset, we can use sampling to ensure that we can still make sensible claims. There are two varieties of this—probability and non-probability. Both have an important role. Key terminology and concepts include: target population, sampling frame, sample, simple random sampling, systematic sampling, stratified sampling, and cluster sampling.</li>
</ul></li>
</ul>
</section>
<section id="week-6" class="level3">
<h3 class="anchored" data-anchor-id="week-6">Week 6</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/07-gather.html">Gather data</a>
<ul>
<li>Sometimes data are available, but they are not necessarily put together for the purposes of being a dataset. We have to go and gather such data.</li>
<li>It can be cumbersome and annoying to have to clean and prepare the datasets that come from these unstructured sources, however, the resulting structured, tidy, data are often especially exciting and useful.</li>
<li>We can gather data from a variety of sources, including APIs, both directly, including dealing with semi-structured data, and indirectly through R Packages. We can also gather data through web scraping, although it is important to consider reasonable use and ethical concerns. Finally, we may wish to gather data from PDFs, possibly even needing to OCR them.</li>
</ul></li>
</ul>
</section>
<section id="week-7" class="level3">
<h3 class="anchored" data-anchor-id="week-7">Week 7</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/08-hunt.html">Hunt data</a>
<ul>
<li>Establishing treatment and control groups using randomization to estimate average treatment effects and understanding threats to these estimates.</li>
<li>Understanding the requirements and implications of internal and external validity.</li>
<li>Appreciating why informed consent and establishing the need for an experiment are critical.</li>
<li>A/B testing and some of its nuances.</li>
<li>Designing and implementing surveys.</li>
</ul></li>
</ul>
</section>
<section id="week-8" class="level3">
<h3 class="anchored" data-anchor-id="week-8">Week 8</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/09-clean_and_prepare.html">Clean and prepare</a>
<ul>
<li>Cleaning and preparing a dataset is difficult work that involves a great deal of decision-making. Planning an endpoint and simulating the dataset that we would like to end up with are key elements of cleaning and preparing data.</li>
<li>It can help to work in an iterative way, beginning with a small sample of the dataset. Write code to fix some aspect, and then iterate and generalize to additional tranches.</li>
<li>During that process we should also develop a series of tests and checks that the dataset should pass. This should focus on key features that we would expect of the dataset.</li>
<li>We should be especially concerned about the class of variables, having clear names, and that the unique values of each variable are as expected given all this.</li>
</ul></li>
</ul>
</section>
<section id="week-9" class="level3">
<h3 class="anchored" data-anchor-id="week-9">Week 9</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/10-store_and_share.html">Store and share</a>
<ul>
<li>The FAIR principles provide the foundation from which we consider data sharing and storage. These specify that data should be findable, accessible, interoperable, and reusable.</li>
<li>The most important step is the first one, and that is to get the data off our local computer, and to then make it accessible by others. After that, we build documentation, and datasheets, to make it easier for others to understand and use it. Finally, we ideally enable access without our involvement.</li>
<li>At the same time as wanting to share our datasets are widely as possible, we must respect those whose information are contained in them. This means, for instance, protecting, to a reasonable extent, and informed by costs and benefits, personally identifying information through selective disclosure, hashing, data simulation, and differential privacy.</li>
<li>Finally, as our data get larger, approaches that were viable when they were smaller start to break down. We need to consider efficiency with regard to our data, and explore other approaches, formats, and languages.</li>
</ul></li>
</ul>
</section>
<section id="week-10" class="level3">
<h3 class="anchored" data-anchor-id="week-10">Week 10</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/11-eda.html">Exploratory data analysis</a>
<ul>
<li>Exploratory data analysis is the process of coming to terms with a new dataset by constructing graphs and tables. We want to explore and understand three critical aspects: 1) each individual variable by itself; 2) each individual in the context of other, relevant, variables; and 3) the data that are not there.</li>
<li>During the EDA process we want to come to understand the issues and features of the dataset and how this may affect analysis decisions. We are especially concerned about missing values and outliers.</li>
</ul></li>
</ul>
</section>
<section id="week-11" class="level3">
<h3 class="anchored" data-anchor-id="week-11">Week 11</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/12-ijalm.html">Linear models</a>
<ul>
<li>Linear models are a key component of statistical inference and enable us to consider a wide range of circumstance. Simple and multiple linear regression refer to the situation in which we consider some continuous dependent variable as a function of one, and multiple, independent variables, respectively.</li>
<li>We are concerned with two different aspects: prediction and inference. We use machine learning approaches for the former, and Bayesian methods for the latter.</li>
</ul></li>
</ul>
</section>
<section id="week-12" class="level3">
<h3 class="anchored" data-anchor-id="week-12">Week 12</h3>
<ul>
<li><a href="https://tellingstorieswithdata.com/13-ijaglm.html">Generalized linear models</a>
<ul>
<li>Logistic and Poisson regression are used when the dependent variable is a binary variable, and a count variable, respectively.</li>
<li>Finally, putting a model into production requires a different set of skills to building it. This includes a familiarity with a cloud provider and the ability to create an API.</li>
</ul></li>
</ul>
</section>
</section>
<section id="assessment" class="level2">
<h2 class="anchored" data-anchor-id="assessment">Assessment</h2>
<section id="summary" class="level3">
<h3 class="anchored" data-anchor-id="summary">Summary</h3>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Item</th>
<th style="text-align: right;">Weight (%)</th>
<th style="text-align: right;">Due date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Quiz</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">Weekly, end of each week</td>
</tr>
<tr class="even">
<td>SQL quiz</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">Friday, noon, Week 11</td>
</tr>
<tr class="odd">
<td>Personal website</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">Friday, noon, Week 11</td>
</tr>
<tr class="even">
<td>Tutorial</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">Weekly, end of each week</td>
</tr>
<tr class="odd">
<td>Paper 1</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">Friday, noon, Week 3</td>
</tr>
<tr class="even">
<td>Paper 2</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">Friday, noon, Week 6</td>
</tr>
<tr class="odd">
<td>Paper 3</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">Friday, noon, Week 8</td>
</tr>
<tr class="even">
<td>Paper 4</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">Friday, noon, Week 10</td>
</tr>
<tr class="odd">
<td>Final Paper (initial submission)</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">Wednesday, noon, Week 12</td>
</tr>
<tr class="even">
<td>Conduct peer review</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">Friday, noon, Week 12</td>
</tr>
<tr class="odd">
<td>Final Paper</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">Two weeks after that</td>
</tr>
</tbody>
</table>
<p><strong>You must submit Paper 1. You must submit the Final Paper. You must submit and get at least 70 per cent on both the SQL quiz and the Personal website.</strong></p>
<p>Beyond that, you have scope to pick an assessment schedule that works for you. We will take your best three of the twelve tutorials for that 10 per cent, and your best five of twelve quizzes for that 10 per cent. And we will take your two best papers from Papers 1-4 for that 50 per cent (25 per cent for each). The remainder is made up of 2 per cent for submitting a draft of the Final Paper, 3 per cent for conducting peer review of other people’s drafts of the Final Paper, and 25 per cent for the Final Paper.</p>
<p>Additional details:</p>
<ul>
<li>Quiz questions are drawn from those in the Quiz section that follows each chapter of <em>Telling Stories with Data</em>. Some of them are multiple choice, and you should expect to know the mark within a few days of submission.</li>
<li>Tutorial questions are drawn from those in the Tutorial section that follows each chapter of <em>Telling Stories with Data</em>. The general expectation (although this differs from week to week) is about two pages of written content, which the tutor will read, discuss with you, and then provide a mark. You should expect to know the mark within a few days of the tutorial.</li>
<li>In general papers require a considerable amount of work, and are due after the material has been covered in quizzes and tutorials (i.e.&nbsp;you would draw on knowledge tested in the quizzes, and potentially material could be re-used from the tutorial material). In general, they require original work to some extent. Papers are taken from the Papers appendix of <em>Telling Stories with Data</em> and students have access to the grading rubrics before submission.</li>
</ul>
</section>
<section id="quiz" class="level3">
<h3 class="anchored" data-anchor-id="quiz">Quiz</h3>
<ul>
<li>Due date: Friday, noon, weekly (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Weight: 8 per cent. Only best five out of twelve count.</li>
<li>Task: Please complete a weekly quiz.</li>
</ul>
</section>
<section id="sql-quiz" class="level3">
<h3 class="anchored" data-anchor-id="sql-quiz">SQL quiz</h3>
<ul>
<li>Due date: Available from Week 1, but due Friday, noon, Week 11 (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Weight: 1 per cent. You cannot pass the course if you do not get at least 70 per cent in this quiz.</li>
<li>Task: Please complete a quiz about SQL.</li>
</ul>
</section>
<section id="personal-website" class="level3">
<h3 class="anchored" data-anchor-id="personal-website">Personal website</h3>
<ul>
<li>Due date: Available from Week 1, but due Friday, noon, Week 11 (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Weight: 1 per cent. You cannot pass the course if you do not get at least 70 per cent on this assessment.</li>
<li>Task: Please create a personal website using Quarto and make it live via GitHub Pages. At a minimum, it must include a bio and a CV in PDF form.</li>
</ul>
</section>
<section id="tutorial" class="level3">
<h3 class="anchored" data-anchor-id="tutorial">Tutorial</h3>
<ul>
<li>Due date: Friday, noon, weekly (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Weight: 10 per cent. Only best three out of twelve count.</li>
<li>Task: Please complete a tutorial question.</li>
<li>Rubric:
<ul>
<li>0 - Any typos, major grammatical errors, other table stakes issues for this level. Too short.</li>
<li>0.25 - Grammatical errors, if relevant: tables/graphs not properly labeled, no references, other aspects that affect credibility.</li>
<li>0.6 - Makes some interesting and relevant points, related to course material (including required materials), but lacking in terms of structure and story/argument.</li>
<li>0.80 - Interesting paper that is well-structured, coherent, and credible.</li>
<li>1 - As with 0.80, but exceptional in some way.</li>
</ul></li>
</ul>
</section>
<section id="paper-1" class="level3">
<h3 class="anchored" data-anchor-id="paper-1">Paper #1</h3>
<ul>
<li>You must submit this paper.</li>
<li>Task: <a href="https://tellingstorieswithdata.com/23-assessment.html#sec-paper-one">Donaldson Paper</a></li>
<li>Due date: Friday, noon, Week 3 (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Weight: 25 per cent (for Papers #1-#4 the best two of four count).</li>
</ul>
</section>
<section id="paper-2" class="level3">
<h3 class="anchored" data-anchor-id="paper-2">Paper #2</h3>
<ul>
<li>Due date: Friday, noon, Week 6 (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Task: <a href="https://tellingstorieswithdata.com/23-assessment.html#sec-paper-two">Mawson Paper</a></li>
<li>Weight: 25 per cent (for Papers #1-#4 the best two of four counts).</li>
</ul>
</section>
<section id="paper-3" class="level3">
<h3 class="anchored" data-anchor-id="paper-3">Paper #3</h3>
<ul>
<li>Due date: Friday, noon, Week 8 (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Task: <a href="https://tellingstorieswithdata.com/23-assessment.html#sec-paper-three">Howrah Paper</a></li>
<li>Weight: 25 per cent (for Papers #1-#4 the best two of four counts).</li>
</ul>
</section>
<section id="paper-4" class="level3">
<h3 class="anchored" data-anchor-id="paper-4">Paper #4</h3>
<ul>
<li>Due date: Friday, noon, Week 10 (with grace period through to Sunday, midnight, to submit without penalty).</li>
<li>Task: <a href="https://tellingstorieswithdata.com/23-assessment.html#sec-paper-four">Dysart Paper</a> or <a href="https://tellingstorieswithdata.com/23-assessment.html#sec-paper-five">Spofforth Paper</a></li>
<li>Weight: 25 per cent (for Papers #1-#4 the best two of four counts).</li>
</ul>
</section>
<section id="final-paper" class="level3">
<h3 class="anchored" data-anchor-id="final-paper">Final Paper</h3>
<ul>
<li>Task: <a href="https://tellingstorieswithdata.com/23-assessment.html#sec-final-paper">Final Paper</a></li>
<li>You must submit this paper.</li>
<li>Due dates:
<ul>
<li>Initial submission: Wednesday, noon, Week 12 (no grace period and no late submissions accepted).</li>
<li>Conduct peer review: Friday, noon, Week 12 (no grace period and no late submissions accepted).</li>
<li>Final Paper: Two weeks after that (with grace period through to Sunday, midnight, to submit without penalty).</li>
</ul></li>
<li>Weight: 30 per cent
<ul>
<li>Initial submission: 2 per cent</li>
<li>Conduct peer review: 3 per cent</li>
<li>Final Paper: 25 per cent</li>
</ul></li>
</ul>
</section>
</section>
<section id="other" class="level2">
<h2 class="anchored" data-anchor-id="other">Other</h2>
<section id="children-in-the-classroom" class="level3">
<h3 class="anchored" data-anchor-id="children-in-the-classroom">Children in the classroom</h3>
<p>Babies (bottle-feeding, nursing, etc) are welcome in class as often as necessary. You are welcome to take breaks to feed your infant or express milk as needed, either in the classroom or elsewhere including <a href="https://familycare.utoronto.ca/childcare/breastfeeding-at-u-of-t/">here</a>. A list of baby change stations is also available <a href="https://familycare.utoronto.ca/childcare/baby-change-stations-at-u-of-t/">here</a>. Please communicate with me so that I can make sure that we have regular breaks to accommodate this.</p>
<p>For older children, I understand that unexpected disruptions in childcare can happen. You are welcome to bring your child to class in order to cover unforeseeable gaps in childcare.</p>
</section>
<section id="accommodations-with-regard-to-assessment" class="level3">
<h3 class="anchored" data-anchor-id="accommodations-with-regard-to-assessment">Accommodations with regard to assessment</h3>
<p>Please do <strong>not</strong> reveal your personal or medical information to me. I understand that illness or personal emergencies can happen from time to time. The following accommodations to assessment requirements exist to provide for those situations.</p>
<p>Straight-forward (will automatically apply to all students - there’s no need to ask for these):</p>
<ul>
<li>Quiz: Only best five quizzes count.</li>
<li>Tutorial: Only best three tutorials count.</li>
<li>Papers #1-#4: Worst two are dropped.</li>
</ul>
<p>So for those (with the exception of Paper #1), if you have a situation, then just don’t submit.</p>
<p>Slightly more involved:</p>
<ul>
<li>Paper #1: You must submit something for Paper #1, even if it gets zero. If you have a medical reason that makes it impossible for you to submit Paper #1, then you are welcome to continue with the class, but then one of the remaining term papers (Papers #2 - #4), must be done individually to ensure fairness with the rest of the class.</li>
<li>Peer review: No accommodation or late submission is possible for this because it would hold up the rest of the class. If you cannot submit then email me before the deadline and the weight will be shifted to the final paper.</li>
<li>Final paper: The final paper is a critical piece of assessment. It is also up against deadlines for submission of grades. Extensions for valid reasons may be granted for a maximum of three days, however this isn’t possible for all students (i.e.&nbsp;there are restrictions around graduating students). This means the exact extension needs to be at my discretion. To be considered, an extension request must be sent to rohan.alexander@utoronto.ca by the business day before the due date so there is time to get advice from a faculty/department/college advisor about your particular circumstance.</li>
</ul>
</section>
<section id="re-grading" class="level3">
<h3 class="anchored" data-anchor-id="re-grading">Re-grading</h3>
<p>Requests to have your work re-graded will not be accepted within 24 hours of the release of grades. This is to give you a chance to reflect. Similarly, requests to have your work re-graded more than seven days after the release of the grades will not be accepted. This is to ensure the course runs smoothly.</p>
<p>Inside that 1-7 day period if you would like to request a re-grade, please email rohan.alexander@utoronto.ca. Please specify where the marking error was made in relation to the marking guide. The entire assessment will be re-marked and it is possible that your grade could reduce.</p>
<p>Plenty of students get 0 on the first paper, but go on to get an A+ overall in the course. The nature of the work in this course requires students to adjust from what is expected in other courses, and the forgiving assessment weighting is designed to allow this.</p>
</section>
<section id="plagiarism-and-integrity" class="level3">
<h3 class="anchored" data-anchor-id="plagiarism-and-integrity">Plagiarism and integrity</h3>
<p>Please do not plagiarize. In particular, be careful to acknowledge the source of code - if it is extensive then through proper citation and if it is just a couple of lines from Stack Overflow then in a comment immediately next to the code.</p>
<p>You are responsible for knowing the content of the University of Toronto’s Code of Behaviour on Academic Matters.</p>
<p>Academic offenses includes (but is not limited to) plagiarism, cheating, copying R code, communication/extra resources during closed book assessments, purchasing labor for assessments (of any kind). Academic offenses will be taken seriously and dealt with accordingly. If you have any questions about what is or is not permitted in this course, please contact me.</p>
<p>Please consult the University’s <a href="http://academicintegrity.utoronto.ca/">site</a> on Academic Integrity. Please also see the definition of plagiarism in section B.I.1.(d) of the University’s Code of Behaviour on Academic Matters available <a href="http://www.governingcouncil.utoronto.ca/Assets/Governing+Council+Digital+Assets/Policies/PDF/ppjun011995.pdf">here</a>. Please read the Code. Please review Cite it Right and if you require further clarification, consult the site <a href="http://advice.writing.utoronto.ca/wp-content/uploads/sites/2/how-not-to-plagiarize.pdf">How Not to Plagiarize</a>.</p>
</section>
<section id="late-policy" class="level3">
<h3 class="anchored" data-anchor-id="late-policy">Late policy</h3>
<p>You are expected to manage your time effectively. If no extension has been granted and no accommodation applies, then the late submission of an assessment item carries a penalty of 10 percentage points per day to a maximum of one week after which it will no longer be accepted, e.g.&nbsp;a problem set submitted a day late that would have otherwise received 8/10 will receive 7/10, if that same problem set was submitted two days late then it would receive 6/10.</p>
</section>
<section id="writing" class="level3">
<h3 class="anchored" data-anchor-id="writing">Writing</h3>
<p>Papers and reports should be well-written, well-organized, and easy to follow. They should flow easily from one point to the next. They should have proper sentence structure, spelling, vocabulary, and grammar. Each point should be articulated clearly and completely without being overly verbose. Papers should demonstrate your understanding of the topics you are studying in the course and your confidence in using the terms, techniques and issues you have learned. As always, references must be properly included and cited. If you have concerns about your ability to do any of this then please make use of the writing support provided to the faculty, colleges and the SGS Graduate Centre for Academic Communication.</p>
</section>
<section id="minimum-submission-requirement" class="level3">
<h3 class="anchored" data-anchor-id="minimum-submission-requirement">Minimum submission requirement</h3>
<p>If you are going to not be able to submit at least two term papers, and/or be unable to submit the final paper then it would be unfair on the other students to allow you to pass the course. Please ensure you and your college registrar or faculty/department advisor get in touch with me as early as possible if this may be the case for you.</p>
</section>
<section id="relationship-to-phd-student-learning-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="relationship-to-phd-student-learning-outcomes">Relationship to PhD Student Learning Outcomes</h3>
<ul>
<li>Read broadly across data science to understand the extent of knowledge</li>
<li>Conduct original research</li>
<li>Work in an independent way</li>
<li>Communicate work and findings in written form</li>
<li>Be especially aware of the limitations of the data, and methods, they are using.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/rohanalexander\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>